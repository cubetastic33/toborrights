{"mappings":"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","sources":["node_modules/@supabase/supabase-js/src/index.ts","node_modules/@supabase/supabase-js/src/SupabaseClient.ts","node_modules/@supabase/supabase-js/src/lib/constants.ts","node_modules/@supabase/supabase-js/src/lib/version.ts","node_modules/@supabase/supabase-js/src/lib/helpers.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts","node_modules/@supabase/gotrue-js/src/index.ts","node_modules/@supabase/gotrue-js/src/GoTrueApi.ts","node_modules/@supabase/gotrue-js/src/lib/fetch.ts","node_modules/@supabase/gotrue-js/src/lib/constants.ts","node_modules/@supabase/gotrue-js/src/lib/version.ts","node_modules/@supabase/gotrue-js/src/lib/cookies.ts","node_modules/@supabase/gotrue-js/src/lib/helpers.ts","node_modules/cross-fetch/dist/browser-ponyfill.js","node_modules/@supabase/gotrue-js/src/GoTrueClient.ts","node_modules/@supabase/gotrue-js/src/lib/polyfills.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseQueryBuilder.ts","node_modules/@supabase/postgrest-js/src/index.ts","node_modules/@supabase/postgrest-js/src/PostgrestClient.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestQueryBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/types.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestFilterBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestTransformBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestRpcBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/constants.ts","node_modules/@supabase/postgrest-js/src/lib/version.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseRealtimeClient.ts","node_modules/@supabase/realtime-js/src/index.ts","node_modules/@supabase/realtime-js/src/lib/transformers.ts","node_modules/@supabase/realtime-js/src/RealtimeClient.ts","node_modules/websocket/lib/browser.js","node_modules/es5-ext/global.js","node_modules/websocket/lib/version.js","node_modules/websocket/package.json","node_modules/@supabase/realtime-js/src/lib/constants.ts","node_modules/@supabase/realtime-js/src/lib/version.ts","node_modules/@supabase/realtime-js/src/lib/timer.ts","node_modules/@supabase/realtime-js/src/lib/serializer.ts","node_modules/@supabase/realtime-js/src/RealtimeSubscription.ts","node_modules/@supabase/realtime-js/src/lib/push.ts","node_modules/@supabase/realtime-js/src/RealtimeChannel.ts","node_modules/@supabase/realtime-js/src/RealtimePresence.ts","node_modules/@supabase/storage-js/src/StorageClient.ts","node_modules/@supabase/storage-js/src/lib/index.ts","node_modules/@supabase/storage-js/src/lib/StorageBucketApi.ts","node_modules/@supabase/storage-js/src/lib/constants.ts","node_modules/@supabase/storage-js/src/lib/version.ts","node_modules/@supabase/storage-js/src/lib/fetch.ts","node_modules/@supabase/storage-js/src/lib/helpers.ts","node_modules/@supabase/storage-js/src/lib/StorageFileApi.ts","node_modules/@supabase/functions-js/src/index.ts","node_modules/@supabase/functions-js/src/helper.ts","node_modules/cash-dom/dist/cash.js"],"sourcesContent":["import SupabaseClient from './SupabaseClient'\nimport { SupabaseClientOptions, SupabaseRealtimePayload } from './lib/types'\nimport { User as AuthUser, Session as AuthSession } from '@supabase/gotrue-js'\nexport * from '@supabase/gotrue-js'\nexport {\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n  PostgrestError,\n} from '@supabase/postgrest-js'\nexport * from '@supabase/realtime-js'\n\n/**\n * Creates a new Supabase Client.\n */\nconst createClient = (\n  supabaseUrl: string,\n  supabaseKey: string,\n  options?: SupabaseClientOptions\n): SupabaseClient => {\n  return new SupabaseClient(supabaseUrl, supabaseKey, options)\n}\n\nexport {\n  createClient,\n  SupabaseClient,\n  SupabaseClientOptions,\n  SupabaseRealtimePayload,\n  AuthUser,\n  AuthSession,\n}\n","import { DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants'\nimport { stripTrailingSlash, isBrowser } from './lib/helpers'\nimport { Fetch, GenericObject, SupabaseClientOptions } from './lib/types'\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient'\nimport { SupabaseQueryBuilder } from './lib/SupabaseQueryBuilder'\nimport { SupabaseStorageClient } from '@supabase/storage-js'\nimport { FunctionsClient } from '@supabase/functions-js'\nimport { PostgrestClient } from '@supabase/postgrest-js'\nimport { AuthChangeEvent } from '@supabase/gotrue-js'\nimport { RealtimeClient, RealtimeSubscription, RealtimeClientOptions } from '@supabase/realtime-js'\n\nconst DEFAULT_OPTIONS = {\n  schema: 'public',\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS,\n}\n\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n  /**\n   * Supabase Auth allows you to create and manage user sessions for access to data that is secured by access policies.\n   */\n  auth: SupabaseAuthClient\n\n  protected schema: string\n  protected restUrl: string\n  protected realtimeUrl: string\n  protected authUrl: string\n  protected storageUrl: string\n  protected functionsUrl: string\n  protected realtime: RealtimeClient\n  protected multiTab: boolean\n  protected fetch?: Fetch\n  protected changedAccessToken: string | undefined\n  protected shouldThrowOnError: boolean\n\n  protected headers: {\n    [key: string]: string\n  }\n\n  /**\n   * Create a new client for use in the browser.\n   * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n   * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n   * @param options.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.headers Any additional headers to send with each network request.\n   * @param options.realtime Options passed along to realtime-js constructor.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(\n    protected supabaseUrl: string,\n    protected supabaseKey: string,\n    options?: SupabaseClientOptions\n  ) {\n    if (!supabaseUrl) throw new Error('supabaseUrl is required.')\n    if (!supabaseKey) throw new Error('supabaseKey is required.')\n\n    const _supabaseUrl = stripTrailingSlash(supabaseUrl)\n    const settings = { ...DEFAULT_OPTIONS, ...options }\n\n    this.restUrl = `${_supabaseUrl}/rest/v1`\n    this.realtimeUrl = `${_supabaseUrl}/realtime/v1`.replace('http', 'ws')\n    this.authUrl = `${_supabaseUrl}/auth/v1`\n    this.storageUrl = `${_supabaseUrl}/storage/v1`\n\n    const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/)\n    if (isPlatform) {\n      const urlParts = _supabaseUrl.split('.')\n      this.functionsUrl = `${urlParts[0]}.functions.${urlParts[1]}.${urlParts[2]}`\n    } else {\n      this.functionsUrl = `${_supabaseUrl}/functions/v1`\n    }\n\n    this.schema = settings.schema\n    this.multiTab = settings.multiTab\n    this.fetch = settings.fetch\n    this.headers = { ...DEFAULT_HEADERS, ...options?.headers }\n    this.shouldThrowOnError = settings.shouldThrowOnError || false\n\n    this.auth = this._initSupabaseAuthClient(settings)\n    this.realtime = this._initRealtimeClient({ headers: this.headers, ...settings.realtime })\n\n    this._listenForAuthEvents()\n    this._listenForMultiTabEvents()\n\n    // In the future we might allow the user to pass in a logger to receive these events.\n    // this.realtime.onOpen(() => console.log('OPEN'))\n    // this.realtime.onClose(() => console.log('CLOSED'))\n    // this.realtime.onError((e: Error) => console.log('Socket error', e))\n  }\n\n  /**\n   * Supabase Functions allows you to deploy and invoke edge functions.\n   */\n  get functions() {\n    return new FunctionsClient(this.functionsUrl, {\n      headers: this._getAuthHeaders(),\n      customFetch: this.fetch,\n    })\n  }\n\n  /**\n   * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n   */\n  get storage() {\n    return new SupabaseStorageClient(this.storageUrl, this._getAuthHeaders(), this.fetch)\n  }\n\n  /**\n   * Perform a table operation.\n   *\n   * @param table The table name to operate on.\n   */\n  from<T = any>(table: string): SupabaseQueryBuilder<T> {\n    const url = `${this.restUrl}/${table}`\n    return new SupabaseQueryBuilder<T>(url, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      realtime: this.realtime,\n      table,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    })\n  }\n\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head   When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   *\n   */\n  rpc<T = any>(\n    fn: string,\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: { head?: boolean; count?: null | 'exact' | 'planned' | 'estimated' } = {}\n  ) {\n    const rest = this._initPostgRESTClient()\n    return rest.rpc<T>(fn, params, { head, count })\n  }\n\n  /**\n   * Closes and removes all subscriptions and returns a list of removed\n   * subscriptions and their errors.\n   */\n  async removeAllSubscriptions(): Promise<\n    { data: { subscription: RealtimeSubscription }; error: Error | null }[]\n  > {\n    const allSubs: RealtimeSubscription[] = this.getSubscriptions().slice()\n    const allSubPromises = allSubs.map((sub) => this.removeSubscription(sub))\n    const allRemovedSubs = await Promise.all(allSubPromises)\n\n    return allRemovedSubs.map(({ error }, i) => {\n      return {\n        data: { subscription: allSubs[i] },\n        error,\n      }\n    })\n  }\n\n  /**\n   * Closes and removes a subscription and returns the number of open subscriptions.\n   *\n   * @param subscription The subscription you want to close and remove.\n   */\n  async removeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ data: { openSubscriptions: number }; error: Error | null }> {\n    const { error } = await this._closeSubscription(subscription)\n    const allSubs: RealtimeSubscription[] = this.getSubscriptions()\n    const openSubCount = allSubs.filter((chan) => chan.isJoined()).length\n\n    if (allSubs.length === 0) await this.realtime.disconnect()\n\n    return { data: { openSubscriptions: openSubCount }, error }\n  }\n\n  private async _closeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ error: Error | null }> {\n    let error = null\n\n    if (!subscription.isClosed()) {\n      const { error: unsubError } = await this._unsubscribeSubscription(subscription)\n      error = unsubError\n    }\n\n    this.realtime.remove(subscription)\n\n    return { error }\n  }\n\n  private _unsubscribeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ error: Error | null }> {\n    return new Promise((resolve) => {\n      subscription\n        .unsubscribe()\n        .receive('ok', () => resolve({ error: null }))\n        .receive('error', (error: Error) => resolve({ error }))\n        .receive('timeout', () => resolve({ error: new Error('timed out') }))\n    })\n  }\n\n  /**\n   * Returns an array of all your subscriptions.\n   */\n  getSubscriptions(): RealtimeSubscription[] {\n    return this.realtime.channels as RealtimeSubscription[]\n  }\n\n  private _initSupabaseAuthClient({\n    autoRefreshToken,\n    persistSession,\n    detectSessionInUrl,\n    localStorage,\n    headers,\n    fetch,\n  }: SupabaseClientOptions) {\n    const authHeaders = {\n      Authorization: `Bearer ${this.supabaseKey}`,\n      apikey: `${this.supabaseKey}`,\n    }\n    return new SupabaseAuthClient({\n      url: this.authUrl,\n      headers: { ...headers, ...authHeaders },\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      localStorage,\n      fetch,\n    })\n  }\n\n  private _initRealtimeClient(options?: RealtimeClientOptions) {\n    return new RealtimeClient(this.realtimeUrl, {\n      ...options,\n      params: { ...options?.params, apikey: this.supabaseKey },\n    })\n  }\n\n  private _initPostgRESTClient() {\n    return new PostgrestClient(this.restUrl, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      fetch: this.fetch,\n      throwOnError: this.shouldThrowOnError,\n    })\n  }\n\n  private _getAuthHeaders(): GenericObject {\n    const headers: GenericObject = { ...this.headers }\n    const authBearer = this.auth.session()?.access_token ?? this.supabaseKey\n    headers['apikey'] = this.supabaseKey\n    headers['Authorization'] = headers['Authorization'] || `Bearer ${authBearer}`\n    return headers\n  }\n\n  private _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !window?.addEventListener) {\n      return null\n    }\n\n    try {\n      return window?.addEventListener('storage', (e: StorageEvent) => {\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue))\n          const accessToken: string | undefined =\n            newSession?.currentSession?.access_token ?? undefined\n          const previousAccessToken = this.auth.session()?.access_token\n          if (!accessToken) {\n            this._handleTokenChanged('SIGNED_OUT', accessToken, 'STORAGE')\n          } else if (!previousAccessToken && accessToken) {\n            this._handleTokenChanged('SIGNED_IN', accessToken, 'STORAGE')\n          } else if (previousAccessToken !== accessToken) {\n            this._handleTokenChanged('TOKEN_REFRESHED', accessToken, 'STORAGE')\n          }\n        }\n      })\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error)\n      return null\n    }\n  }\n\n  private _listenForAuthEvents() {\n    let { data } = this.auth.onAuthStateChange((event, session) => {\n      this._handleTokenChanged(event, session?.access_token, 'CLIENT')\n    })\n    return data\n  }\n\n  private _handleTokenChanged(\n    event: AuthChangeEvent,\n    token: string | undefined,\n    source: 'CLIENT' | 'STORAGE'\n  ) {\n    if (\n      (event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n      this.changedAccessToken !== token\n    ) {\n      // Token has changed\n      this.realtime.setAuth(token!)\n      // Ideally we should call this.auth.recoverSession() - need to make public\n      // to trigger a \"SIGNED_IN\" event on this client.\n      if (source == 'STORAGE') this.auth.setAuth(token!)\n\n      this.changedAccessToken = token\n    } else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n      // Token is removed\n      this.realtime.setAuth(this.supabaseKey)\n      if (source == 'STORAGE') this.auth.signOut()\n    }\n  }\n}\n","// constants.ts\nimport { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js/${version}` }\nexport const STORAGE_KEY = 'supabase.auth.token'\n","export const version = '1.33.3'\n","// helpers.ts\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport function stripTrailingSlash(url: string): string {\n  return url.replace(/\\/$/, '')\n}\n\nexport const isBrowser = () => typeof window !== 'undefined'\n","import { GoTrueClient } from '@supabase/gotrue-js'\nimport { SupabaseAuthClientOptions } from './types'\n\nexport class SupabaseAuthClient extends GoTrueClient {\n  constructor(options: SupabaseAuthClientOptions) {\n    super(options)\n  }\n}\n","import GoTrueApi from './GoTrueApi'\nimport GoTrueClient from './GoTrueClient'\n\nexport { GoTrueApi, GoTrueClient }\nexport * from './lib/types'\n","import { Fetch, get, post, put, remove } from './lib/fetch'\nimport {\n  Session,\n  Provider,\n  AdminUserAttributes,\n  UserAttributes,\n  CookieOptions,\n  User,\n  OpenIDConnectCredentials,\n  VerifyOTPParams,\n} from './lib/types'\nimport { COOKIE_OPTIONS } from './lib/constants'\nimport { setCookies, getCookieString } from './lib/cookies'\nimport { expiresAt, resolveFetch } from './lib/helpers'\n\nimport type { ApiError } from './lib/types'\nexport default class GoTrueApi {\n  protected url: string\n  protected headers: {\n    [key: string]: string\n  }\n  protected cookieOptions: CookieOptions\n  protected fetch: Fetch\n\n  constructor({\n    url = '',\n    headers = {},\n    cookieOptions,\n    fetch,\n  }: {\n    url: string\n    headers?: {\n      [key: string]: string\n    }\n    cookieOptions?: CookieOptions\n    fetch?: Fetch\n  }) {\n    this.url = url\n    this.headers = headers\n    this.cookieOptions = { ...COOKIE_OPTIONS, ...cookieOptions }\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Create a temporary object with all configured headers and\n   * adds the Authorization token to be used on request methods\n   * @param jwt A valid, logged-in JWT.\n   */\n  private _createRequestHeaders(jwt: string) {\n    const headers = { ...this.headers }\n    headers['Authorization'] = `Bearer ${jwt}`\n    return headers\n  }\n\n  private cookieName() {\n    return this.cookieOptions.name ?? ''\n  }\n\n  /**\n   * Generates the relevant login URL for a third-party provider.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n  getUrlForProvider(\n    provider: Provider,\n    options: {\n      redirectTo?: string\n      scopes?: string\n    }\n  ) {\n    const urlParams: string[] = [`provider=${encodeURIComponent(provider)}`]\n    if (options?.redirectTo) {\n      urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`)\n    }\n    if (options?.scopes) {\n      urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`)\n    }\n    return `${this.url}/authorize?${urlParams.join('&')}`\n  }\n\n  /**\n   * Creates a new user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata.\n   *\n   * @returns A logged-in session if the server has \"autoconfirm\" ON\n   * @returns A user if the server has \"autoconfirm\" OFF\n   */\n  async signUpWithEmail(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString = '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/signup${queryString}`,\n        {\n          email,\n          password,\n          data: options.data,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an existing user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async signInWithEmail(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = '?grant_type=password'\n      if (options.redirectTo) {\n        queryString += '&redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { email, password },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Signs up a new user using their phone number and a password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   * @param data Optional user metadata.\n   */\n  async signUpWithPhone(\n    phone: string,\n    password: string,\n    options: {\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/signup`,\n        {\n          phone,\n          password,\n          data: options.data,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an existing user using their phone number and password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   */\n  async signInWithPhone(\n    phone: string,\n    password: string\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const queryString = '?grant_type=password'\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { phone, password },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an OpenID Connect user using their id_token.\n   * @param id_token The IDToken of the user.\n   * @param nonce The nonce of the user. The nonce is a random value generated by the developer (= yourself) before the initial grant is started. You should check the OpenID Connect specification for details. https://openid.net/developers/specs/\n   * @param provider The provider of the user.\n   * @param client_id The clientID of the user.\n   * @param issuer The issuer of the user.\n   */\n  async signInWithOpenIDConnect({\n    id_token,\n    nonce,\n    client_id,\n    issuer,\n    provider,\n  }: OpenIDConnectCredentials): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const queryString = '?grant_type=id_token'\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { id_token, nonce, client_id, issuer, provider },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a magic login link to an email address.\n   * @param email The email address of the user.\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async sendMagicLinkEmail(\n    email: string,\n    options: {\n      shouldCreateUser?: boolean\n      redirectTo?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n\n      const shouldCreateUser = options.shouldCreateUser ?? true\n      const data = await post(\n        this.fetch,\n        `${this.url}/otp${queryString}`,\n        {\n          email,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a mobile OTP via SMS. Will register the account if it doesn't already exist\n   * @param phone The user's phone number WITH international prefix\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   */\n  async sendMobileOTP(\n    phone: string,\n    options: {\n      shouldCreateUser?: boolean\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const shouldCreateUser = options.shouldCreateUser ?? true\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/otp`,\n        {\n          phone,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Removes a logged-in session.\n   * @param jwt A valid, logged-in JWT.\n   */\n  async signOut(jwt: string): Promise<{ error: ApiError | null }> {\n    try {\n      await post(\n        this.fetch,\n        `${this.url}/logout`,\n        {},\n        { headers: this._createRequestHeaders(jwt), noResolveJson: true }\n      )\n      return { error: null }\n    } catch (e) {\n      return { error: e as ApiError }\n    }\n  }\n\n  /**\n   * @deprecated Use `verifyOTP` instead!\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyMobileOTP(\n    phone: string,\n    token: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/verify`,\n        { phone, token, type: 'sms', redirect_to: options.redirectTo },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Send User supplied Email / Mobile OTP to be verified\n   * @param email The user's email address\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param type verification type that the otp is generated for\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyOTP(\n    { email, phone, token, type = 'sms' }: VerifyOTPParams,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/verify`,\n        { email, phone, token, type, redirect_to: options.redirectTo },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends an invite link to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata\n   */\n  async inviteUserByEmail(\n    email: string,\n    options: {\n      redirectTo?: string\n      data?: object\n    } = {}\n  ): Promise<{ data: User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/invite${queryString}`,\n        { email, data: options.data },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a reset request to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async resetPasswordForEmail(\n    email: string,\n    options: {\n      redirectTo?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/recover${queryString}`,\n        { email, gotrue_meta_security: { hcaptcha_token: options.captchaToken } },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Generates a new JWT.\n   * @param refreshToken A valid refresh token that was returned on login.\n   */\n  async refreshAccessToken(\n    refreshToken: string\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const data: any = await post(\n        this.fetch,\n        `${this.url}/token?grant_type=refresh_token`,\n        { refresh_token: refreshToken },\n        { headers: this.headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Set/delete the auth cookie based on the AuthChangeEvent.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   * @param req The request object.\n   * @param res The response object.\n   */\n  setAuthCookie(req: any, res: any) {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST')\n      res.status(405).end('Method Not Allowed')\n    }\n    const { event, session } = req.body\n\n    if (!event) throw new Error('Auth event missing!')\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!')\n      setCookies(\n        req,\n        res,\n        [\n          { key: 'access-token', value: session.access_token },\n          { key: 'refresh-token', value: session.refresh_token },\n        ].map((token) => ({\n          name: `${this.cookieName()}-${token.key}`,\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: this.cookieOptions.lifetime ?? 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite,\n        }))\n      )\n    }\n    if (event === 'SIGNED_OUT') {\n      setCookies(\n        req,\n        res,\n        ['access-token', 'refresh-token'].map((key) => ({\n          name: `${this.cookieName()}-${key}`,\n          value: '',\n          maxAge: -1,\n        }))\n      )\n    }\n    res.status(200).json({})\n  }\n\n  /**\n   * Deletes the Auth Cookies and redirects to the\n   * @param req The request object.\n   * @param res The response object.\n   * @param options Optionally specify a `redirectTo` URL in the options.\n   */\n  deleteAuthCookie(req: any, res: any, { redirectTo = '/' }: { redirectTo?: string }) {\n    setCookies(\n      req,\n      res,\n      ['access-token', 'refresh-token'].map((key) => ({\n        name: `${this.cookieName()}-${key}`,\n        value: '',\n        maxAge: -1,\n      }))\n    )\n    return res.redirect(307, redirectTo)\n  }\n\n  /**\n   * Helper method to generate the Auth Cookie string for you in case you can't use `setAuthCookie`.\n   * @param req The request object.\n   * @param res The response object.\n   * @returns The Cookie string that needs to be set as the value for the `Set-Cookie` header.\n   */\n  getAuthCookieString(req: any, res: any): string[] {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST')\n      res.status(405).end('Method Not Allowed')\n    }\n    const { event, session } = req.body\n\n    if (!event) throw new Error('Auth event missing!')\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!')\n      return getCookieString(\n        req,\n        res,\n        [\n          { key: 'access-token', value: session.access_token },\n          { key: 'refresh-token', value: session.refresh_token },\n        ].map((token) => ({\n          name: `${this.cookieName()}-${token.key}`,\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: this.cookieOptions.lifetime ?? 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite,\n        }))\n      )\n    }\n    if (event === 'SIGNED_OUT') {\n      return getCookieString(\n        req,\n        res,\n        ['access-token', 'refresh-token'].map((key) => ({\n          name: `${this.cookieName()}-${key}`,\n          value: '',\n          maxAge: -1,\n        }))\n      )\n    }\n    return res.getHeader('Set-Cookie')\n  }\n\n  /**\n   * Generates links to be sent via email or other.\n   * @param type The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   * @param email The user's email.\n   * @param password User password. For signup only.\n   * @param data Optional user metadata. For signup only.\n   * @param redirectTo The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   */\n  async generateLink(\n    type: 'signup' | 'magiclink' | 'recovery' | 'invite',\n    email: string,\n    options: {\n      password?: string\n      data?: object\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const data: any = await post(\n        this.fetch,\n        `${this.url}/admin/generate_link`,\n        {\n          type,\n          email,\n          password: options.password,\n          data: options.data,\n          redirect_to: options.redirectTo,\n        },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  // User Admin API\n\n  /**\n   * Creates a new user.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param attributes The data you want to create the user with.\n   */\n  async createUser(\n    attributes: AdminUserAttributes\n  ): Promise<\n    { user: null; data: null; error: ApiError } | { user: User; data: User; error: null }\n  > {\n    try {\n      const data: any = await post(this.fetch, `${this.url}/admin/users`, attributes, {\n        headers: this.headers,\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get a list of users.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async listUsers(): Promise<{ data: null; error: ApiError } | { data: User[]; error: null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/admin/users`, {\n        headers: this.headers,\n      })\n      return { data: data.users, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get user by id.\n   *\n   * @param uid The user's unique identifier\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async getUserById(\n    uid: string\n  ): Promise<{ data: null; error: ApiError } | { data: User; error: null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/admin/users/${uid}`, {\n        headers: this.headers,\n      })\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get user by reading the cookie from the request.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   */\n  async getUserByCookie(\n    req: any,\n    res?: any\n  ): Promise<{\n    token: string | null\n    user: User | null\n    data: User | null\n    error: ApiError | null\n  }> {\n    try {\n      if (!req.cookies) {\n        throw new Error(\n          'Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!'\n        )\n      }\n\n      const access_token = req.cookies[`${this.cookieName()}-access-token`]\n      const refresh_token = req.cookies[`${this.cookieName()}-refresh-token`]\n\n      if (!access_token) {\n        throw new Error('No cookie found!')\n      }\n\n      const { user, error: getUserError } = await this.getUser(access_token)\n      if (getUserError) {\n        if (!refresh_token) throw new Error('No refresh_token cookie found!')\n        if (!res)\n          throw new Error('You need to pass the res object to automatically refresh the session!')\n        const { data, error } = await this.refreshAccessToken(refresh_token)\n        if (error) {\n          throw error\n        } else if (data) {\n          setCookies(\n            req,\n            res,\n            [\n              { key: 'access-token', value: data.access_token },\n              { key: 'refresh-token', value: data.refresh_token! },\n            ].map((token) => ({\n              name: `${this.cookieName()}-${token.key}`,\n              value: token.value,\n              domain: this.cookieOptions.domain,\n              maxAge: this.cookieOptions.lifetime ?? 0,\n              path: this.cookieOptions.path,\n              sameSite: this.cookieOptions.sameSite,\n            }))\n          )\n          return { token: data.access_token, user: data.user, data: data.user, error: null }\n        }\n      }\n      return { token: access_token, user: user, data: user, error: null }\n    } catch (e) {\n      return { token: null, user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates the user data.\n   *\n   * @param attributes The data you want to update.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async updateUserById(\n    uid: string,\n    attributes: AdminUserAttributes\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      this //\n      const data: any = await put(this.fetch, `${this.url}/admin/users/${uid}`, attributes, {\n        headers: this.headers,\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Delete a user. Requires a `service_role` key.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param uid The user uid you want to remove.\n   */\n  async deleteUser(\n    uid: string\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await remove(\n        this.fetch,\n        `${this.url}/admin/users/${uid}`,\n        {},\n        {\n          headers: this.headers,\n        }\n      )\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Gets the current user details.\n   *\n   * This method is called by the GoTrueClient `update` where\n   * the jwt is set to this.currentSession.access_token\n   * and therefore, acts like getting the currently authenticated used\n   *\n   * @param jwt A valid, logged-in JWT. Typically, the access_token for the currentSession\n   */\n  async getUser(\n    jwt: string\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/user`, {\n        headers: this._createRequestHeaders(jwt),\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates the user data.\n   * @param jwt A valid, logged-in JWT.\n   * @param attributes The data you want to update.\n   */\n  async updateUser(\n    jwt: string,\n    attributes: UserAttributes\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await put(this.fetch, `${this.url}/user`, attributes, {\n        headers: this._createRequestHeaders(jwt),\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n}\n","export type Fetch = typeof fetch\n\nexport interface FetchOptions {\n  headers?: {\n    [key: string]: string\n  }\n  noResolveJson?: boolean\n}\n\nexport type RequestMethodType = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE'\n\nconst _getErrorMessage = (err: any): string =>\n  err.msg || err.message || err.error_description || err.error || JSON.stringify(err)\n\nconst handleError = (error: any, reject: any) => {\n  if (typeof error.json !== 'function') {\n    return reject(error)\n  }\n  error.json().then((err: any) => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: error?.status || 500,\n    })\n  })\n}\n\nconst _getRequestParams = (method: RequestMethodType, options?: FetchOptions, body?: object) => {\n  const params: { [k: string]: any } = { method, headers: options?.headers || {} }\n\n  if (method === 'GET') {\n    return params\n  }\n\n  params.headers = { 'Content-Type': 'text/plain;charset=UTF-8', ...options?.headers }\n  params.body = JSON.stringify(body)\n\n  return params\n}\n\nasync function _handleRequest(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: FetchOptions,\n  body?: object\n): Promise<any> {\n  return new Promise((resolve, reject) => {\n    fetcher(url, _getRequestParams(method, options, body))\n      .then((result) => {\n        if (!result.ok) throw result\n        if (options?.noResolveJson) return resolve\n        return result.json()\n      })\n      .then((data) => resolve(data))\n      .catch((error) => handleError(error, reject))\n  })\n}\n\nexport async function get(fetcher: Fetch, url: string, options?: FetchOptions): Promise<any> {\n  return _handleRequest(fetcher, 'GET', url, options)\n}\n\nexport async function post(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'POST', url, options, body)\n}\n\nexport async function put(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'PUT', url, options, body)\n}\n\nexport async function remove(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'DELETE', url, options, body)\n}\n","import { version } from './version'\nexport const GOTRUE_URL = 'http://localhost:9999'\nexport const AUDIENCE = ''\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` }\nexport const EXPIRY_MARGIN = 60 * 1000\nexport const STORAGE_KEY = 'supabase.auth.token'\nexport const COOKIE_OPTIONS = {\n  name: 'sb',\n  lifetime: 60 * 60 * 8,\n  domain: '',\n  path: '/',\n  sameSite: 'lax',\n}\n","// generated by genversion\nexport const version = '1.22.12'\n","type Cookie = {\n  name: string\n  value: string\n  maxAge: number\n  domain?: string\n  path?: string\n  sameSite?: string\n}\n\n/**\n * Serialize data into a cookie header.\n */\nfunction serialize(\n  name: string,\n  val: string,\n  options: {\n    maxAge: number\n    domain: string\n    path: string\n    expires: Date\n    httpOnly: boolean\n    secure: boolean\n    sameSite: string\n  }\n) {\n  const opt = options || {}\n  const enc = encodeURIComponent\n  /* eslint-disable-next-line no-control-regex */\n  const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid')\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid')\n  }\n\n  const value = enc(val)\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid')\n  }\n\n  let str = name + '=' + value\n\n  if (null != opt.maxAge) {\n    const maxAge = opt.maxAge - 0\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge)\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid')\n    }\n\n    str += '; Domain=' + opt.domain\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid')\n    }\n\n    str += '; Path=' + opt.path\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid')\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly'\n  }\n\n  if (opt.secure) {\n    str += '; Secure'\n  }\n\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite\n\n    switch (sameSite) {\n      case 'lax':\n        str += '; SameSite=Lax'\n        break\n      case 'strict':\n        str += '; SameSite=Strict'\n        break\n      case 'none':\n        str += '; SameSite=None'\n        break\n      default:\n        throw new TypeError('option sameSite is invalid')\n    }\n  }\n\n  return str\n}\n\n/**\n * Based on the environment and the request we know if a secure cookie can be set.\n */\nfunction isSecureEnvironment(req: any) {\n  if (!req || !req.headers || !req.headers.host) {\n    throw new Error('The \"host\" request header is not available')\n  }\n\n  const host =\n    (req.headers.host.indexOf(':') > -1 && req.headers.host.split(':')[0]) || req.headers.host\n  if (['localhost', '127.0.0.1'].indexOf(host) > -1 || host.endsWith('.local')) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Serialize a cookie to a string.\n */\nfunction serializeCookie(cookie: Cookie, secure: boolean) {\n  return serialize(cookie.name, cookie.value, {\n    maxAge: cookie.maxAge,\n    expires: new Date(Date.now() + cookie.maxAge * 1000),\n    httpOnly: true,\n    secure,\n    path: cookie.path ?? '/',\n    domain: cookie.domain ?? '',\n    sameSite: cookie.sameSite ?? 'lax',\n  })\n}\n\n/**\n * Get Cookie Header strings.\n */\nexport function getCookieString(req: any, res: any, cookies: Array<Cookie>): string[] {\n  const strCookies = cookies.map((c) => serializeCookie(c, isSecureEnvironment(req)))\n  const previousCookies = res.getHeader('Set-Cookie')\n  if (previousCookies) {\n    if (previousCookies instanceof Array) {\n      Array.prototype.push.apply(strCookies, previousCookies)\n    } else if (typeof previousCookies === 'string') {\n      strCookies.push(previousCookies)\n    }\n  }\n  return strCookies\n}\n\n/**\n * Set one or more cookies.\n */\nexport function setCookies(req: any, res: any, cookies: Array<Cookie>) {\n  res.setHeader('Set-Cookie', getCookieString(req, res, cookies))\n}\n\n/**\n * Set one or more cookies.\n */\nexport function setCookie(req: any, res: any, cookie: Cookie) {\n  setCookies(req, res, [cookie])\n}\n\nexport function deleteCookie(req: any, res: any, name: string) {\n  setCookie(req, res, {\n    name,\n    value: '',\n    maxAge: -1,\n  })\n}\n","import crossFetch from 'cross-fetch'\n\nexport function expiresAt(expiresIn: number) {\n  const timeNow = Math.round(Date.now() / 1000)\n  return timeNow + expiresIn\n}\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport function getParameterByName(name: string, url?: string) {\n  if (!url) url = window?.location?.href || ''\n  // eslint-disable-next-line no-useless-escape\n  name = name.replace(/[\\[\\]]/g, '\\\\$&')\n  const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url)\n  if (!results) return null\n  if (!results[2]) return ''\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = crossFetch as unknown as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","import GoTrueApi from './GoTrueApi'\nimport { isBrowser, getParameterByName, uuid } from './lib/helpers'\nimport { GOTRUE_URL, DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants'\nimport { polyfillGlobalThis } from './lib/polyfills'\nimport { Fetch } from './lib/fetch'\n\nimport type {\n  ApiError,\n  Session,\n  User,\n  UserAttributes,\n  Provider,\n  Subscription,\n  AuthChangeEvent,\n  CookieOptions,\n  UserCredentials,\n  VerifyOTPParams,\n  OpenIDConnectCredentials,\n} from './lib/types'\n\npolyfillGlobalThis() // Make \"globalThis\" available\n\nconst DEFAULT_OPTIONS = {\n  url: GOTRUE_URL,\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS,\n}\n\ntype AnyFunction = (...args: any[]) => any\ntype MaybePromisify<T> = T | Promise<T>\n\ntype PromisifyMethods<T> = {\n  [K in keyof T]: T[K] extends AnyFunction\n    ? (...args: Parameters<T[K]>) => MaybePromisify<ReturnType<T[K]>>\n    : T[K]\n}\n\ntype SupportedStorage = PromisifyMethods<Pick<Storage, 'getItem' | 'setItem' | 'removeItem'>>\n\nexport default class GoTrueClient {\n  /**\n   * Namespace for the GoTrue API methods.\n   * These can be used for example to get a user from a JWT in a server environment or reset a user's password.\n   */\n  api: GoTrueApi\n  /**\n   * The currently logged in user or null.\n   */\n  protected currentUser: User | null\n  /**\n   * The session object for the currently logged in user or null.\n   */\n  protected currentSession: Session | null\n\n  protected autoRefreshToken: boolean\n  protected persistSession: boolean\n  protected localStorage: SupportedStorage\n  protected multiTab: boolean\n  protected stateChangeEmitters: Map<string, Subscription> = new Map()\n  protected refreshTokenTimer?: ReturnType<typeof setTimeout>\n\n  /**\n   * Create a new client for use in the browser.\n   * @param options.url The URL of the GoTrue server.\n   * @param options.headers Any additional headers to send to the GoTrue server.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.cookieOptions\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(options: {\n    url?: string\n    headers?: { [key: string]: string }\n    detectSessionInUrl?: boolean\n    autoRefreshToken?: boolean\n    persistSession?: boolean\n    localStorage?: SupportedStorage\n    multiTab?: boolean\n    cookieOptions?: CookieOptions\n    fetch?: Fetch\n  }) {\n    const settings = { ...DEFAULT_OPTIONS, ...options }\n    this.currentUser = null\n    this.currentSession = null\n    this.autoRefreshToken = settings.autoRefreshToken\n    this.persistSession = settings.persistSession\n    this.multiTab = settings.multiTab\n    this.localStorage = settings.localStorage || globalThis.localStorage\n    this.api = new GoTrueApi({\n      url: settings.url,\n      headers: settings.headers,\n      cookieOptions: settings.cookieOptions,\n      fetch: settings.fetch,\n    })\n    this._recoverSession()\n    this._recoverAndRefresh()\n    this._listenForMultiTabEvents()\n\n    if (settings.detectSessionInUrl && isBrowser() && !!getParameterByName('access_token')) {\n      // Handle the OAuth redirect\n      this.getSessionFromUrl({ storeSession: true }).then(({ error }) => {\n        if (error) {\n          console.error('Error getting session from URL.', error)\n        }\n      })\n    }\n  }\n\n  /**\n   * Creates a new user.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param password The user's password.\n   * @param phone The user's phone number.\n   * @param redirectTo The redirect URL attached to the signup confirmation link. Does not redirect the user if it's a mobile signup.\n   * @param data Optional user metadata.\n   */\n  async signUp(\n    { email, password, phone }: UserCredentials,\n    options: {\n      redirectTo?: string\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{\n    user: User | null\n    session: Session | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      const { data, error } =\n        phone && password\n          ? await this.api.signUpWithPhone(phone!, password!, {\n              data: options.data,\n              captchaToken: options.captchaToken,\n            })\n          : await this.api.signUpWithEmail(email!, password!, {\n              redirectTo: options.redirectTo,\n              data: options.data,\n              captchaToken: options.captchaToken,\n            })\n\n      if (error) {\n        throw error\n      }\n\n      if (!data) {\n        throw 'An error occurred on sign up.'\n      }\n\n      let session: Session | null = null\n      let user: User | null = null\n\n      if ((data as Session).access_token) {\n        session = data as Session\n        user = session.user as User\n        this._saveSession(session)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      if ((data as User).id) {\n        user = data as User\n      }\n\n      return { user, session, error: null }\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Log in an existing user, or login via a third-party provider.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param password The user's password.\n   * @param refreshToken A valid refresh token that was returned on login.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL to send the user to after they are confirmed (OAuth logins only).\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n  async signIn(\n    { email, phone, password, refreshToken, provider, oidc }: UserCredentials,\n    options: {\n      redirectTo?: string\n      shouldCreateUser?: boolean\n      scopes?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{\n    session: Session | null\n    user: User | null\n    provider?: Provider\n    url?: string | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      if (email && !password) {\n        const { error } = await this.api.sendMagicLinkEmail(email, {\n          redirectTo: options.redirectTo,\n          shouldCreateUser: options.shouldCreateUser,\n          captchaToken: options.captchaToken,\n        })\n        return { user: null, session: null, error }\n      }\n      if (email && password) {\n        return this._handleEmailSignIn(email, password, {\n          redirectTo: options.redirectTo,\n        })\n      }\n      if (phone && !password) {\n        const { error } = await this.api.sendMobileOTP(phone, {\n          shouldCreateUser: options.shouldCreateUser,\n          captchaToken: options.captchaToken,\n        })\n        return { user: null, session: null, error }\n      }\n      if (phone && password) {\n        return this._handlePhoneSignIn(phone, password)\n      }\n      if (refreshToken) {\n        // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n        const { error } = await this._callRefreshToken(refreshToken)\n        if (error) throw error\n\n        return {\n          user: this.currentUser,\n          session: this.currentSession,\n          error: null,\n        }\n      }\n      if (provider) {\n        return this._handleProviderSignIn(provider, {\n          redirectTo: options.redirectTo,\n          scopes: options.scopes,\n        })\n      }\n      if (oidc) {\n        return this._handleOpenIDConnectSignIn(oidc)\n      }\n      throw new Error(\n        `You must provide either an email, phone number, a third-party provider or OpenID Connect.`\n      )\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Log in a user given a User supplied OTP received via mobile.\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param token The user's password.\n   * @param type The user's verification type.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyOTP(\n    params: VerifyOTPParams,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{\n    user: User | null\n    session: Session | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      const { data, error } = await this.api.verifyOTP(params, options)\n\n      if (error) {\n        throw error\n      }\n\n      if (!data) {\n        throw 'An error occurred on token verification.'\n      }\n\n      let session: Session | null = null\n      let user: User | null = null\n\n      if ((data as Session).access_token) {\n        session = data as Session\n        user = session.user as User\n        this._saveSession(session)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      if ((data as User).id) {\n        user = data as User\n      }\n\n      return { user, session, error: null }\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n   *\n   * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n   */\n  user(): User | null {\n    return this.currentUser\n  }\n\n  /**\n   * Returns the session data, if there is an active session.\n   */\n  session(): Session | null {\n    return this.currentSession\n  }\n\n  /**\n   * Force refreshes the session including the user data in case it was updated in a different session.\n   */\n  async refreshSession(): Promise<{\n    data: Session | null\n    user: User | null\n    error: ApiError | null\n  }> {\n    try {\n      if (!this.currentSession?.access_token) throw new Error('Not logged in.')\n\n      // currentSession and currentUser will be updated to latest on _callRefreshToken\n      const { error } = await this._callRefreshToken()\n      if (error) throw error\n\n      return { data: this.currentSession, user: this.currentUser, error: null }\n    } catch (e) {\n      return { data: null, user: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates user data, if there is a logged in user.\n   */\n  async update(\n    attributes: UserAttributes\n  ): Promise<{ data: User | null; user: User | null; error: ApiError | null }> {\n    try {\n      if (!this.currentSession?.access_token) throw new Error('Not logged in.')\n\n      const { user, error } = await this.api.updateUser(\n        this.currentSession.access_token,\n        attributes\n      )\n      if (error) throw error\n      if (!user) throw Error('Invalid user data.')\n\n      const session = { ...this.currentSession, user }\n      this._saveSession(session)\n      this._notifyAllSubscribers('USER_UPDATED')\n\n      return { data: user, user, error: null }\n    } catch (e) {\n      return { data: null, user: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sets the session data from refresh_token and returns current Session and Error\n   * @param refresh_token a JWT token\n   */\n  async setSession(\n    refresh_token: string\n  ): Promise<{ session: Session | null; error: ApiError | null }> {\n    try {\n      if (!refresh_token) {\n        throw new Error('No current session.')\n      }\n      const { data, error } = await this.api.refreshAccessToken(refresh_token)\n      if (error) {\n        return { session: null, error: error }\n      }\n\n      this._saveSession(data!)\n      this._notifyAllSubscribers('SIGNED_IN')\n      return { session: data, error: null }\n    } catch (e) {\n      return { error: e as ApiError, session: null }\n    }\n  }\n\n  /**\n   * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n   * @param access_token a jwt access token\n   */\n  setAuth(access_token: string): Session {\n    this.currentSession = {\n      ...this.currentSession,\n      access_token,\n      token_type: 'bearer',\n      user: this.user(),\n    }\n\n    return this.currentSession\n  }\n\n  /**\n   * Gets the session data from a URL string\n   * @param options.storeSession Optionally store the session in the browser\n   */\n  async getSessionFromUrl(options?: {\n    storeSession?: boolean\n  }): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      if (!isBrowser()) throw new Error('No browser detected.')\n\n      const error_description = getParameterByName('error_description')\n      if (error_description) throw new Error(error_description)\n\n      const provider_token = getParameterByName('provider_token')\n      const access_token = getParameterByName('access_token')\n      if (!access_token) throw new Error('No access_token detected.')\n      const expires_in = getParameterByName('expires_in')\n      if (!expires_in) throw new Error('No expires_in detected.')\n      const refresh_token = getParameterByName('refresh_token')\n      if (!refresh_token) throw new Error('No refresh_token detected.')\n      const token_type = getParameterByName('token_type')\n      if (!token_type) throw new Error('No token_type detected.')\n\n      const timeNow = Math.round(Date.now() / 1000)\n      const expires_at = timeNow + parseInt(expires_in)\n\n      const { user, error } = await this.api.getUser(access_token)\n      if (error) throw error\n\n      const session: Session = {\n        provider_token,\n        access_token,\n        expires_in: parseInt(expires_in),\n        expires_at,\n        refresh_token,\n        token_type,\n        user: user!,\n      }\n      if (options?.storeSession) {\n        this._saveSession(session)\n        const recoveryMode = getParameterByName('type')\n        this._notifyAllSubscribers('SIGNED_IN')\n        if (recoveryMode === 'recovery') {\n          this._notifyAllSubscribers('PASSWORD_RECOVERY')\n        }\n      }\n      // Remove tokens from URL\n      window.location.hash = ''\n\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n   * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n   *\n   * For server-side management, you can disable sessions by passing a JWT through to `auth.api.signOut(JWT: string)`\n   */\n  async signOut(): Promise<{ error: ApiError | null }> {\n    const accessToken = this.currentSession?.access_token\n    this._removeSession()\n    this._notifyAllSubscribers('SIGNED_OUT')\n    if (accessToken) {\n      const { error } = await this.api.signOut(accessToken)\n      if (error) return { error }\n    }\n    return { error: null }\n  }\n\n  /**\n   * Receive a notification every time an auth event happens.\n   * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n   */\n  onAuthStateChange(callback: (event: AuthChangeEvent, session: Session | null) => void): {\n    data: Subscription | null\n    error: ApiError | null\n  } {\n    try {\n      const id: string = uuid()\n      const subscription: Subscription = {\n        id,\n        callback,\n        unsubscribe: () => {\n          this.stateChangeEmitters.delete(id)\n        },\n      }\n      this.stateChangeEmitters.set(id, subscription)\n      return { data: subscription, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  private async _handleEmailSignIn(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ) {\n    try {\n      const { data, error } = await this.api.signInWithEmail(email, password, {\n        redirectTo: options.redirectTo,\n      })\n      if (error || !data) return { data: null, user: null, session: null, error }\n\n      if (data?.user?.confirmed_at || data?.user?.email_confirmed_at) {\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      return { data, user: data.user, session: data, error: null }\n    } catch (e) {\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private async _handlePhoneSignIn(phone: string, password: string) {\n    try {\n      const { data, error } = await this.api.signInWithPhone(phone, password)\n      if (error || !data) return { data: null, user: null, session: null, error }\n\n      if (data?.user?.phone_confirmed_at) {\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      return { data, user: data.user, session: data, error: null }\n    } catch (e) {\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private _handleProviderSignIn(\n    provider: Provider,\n    options: {\n      redirectTo?: string\n      scopes?: string\n    } = {}\n  ) {\n    const url: string = this.api.getUrlForProvider(provider, {\n      redirectTo: options.redirectTo,\n      scopes: options.scopes,\n    })\n\n    try {\n      // try to open on the browser\n      if (isBrowser()) {\n        window.location.href = url\n      }\n      return { provider, url, data: null, session: null, user: null, error: null }\n    } catch (e) {\n      // fallback to returning the URL\n      if (url) return { provider, url, data: null, session: null, user: null, error: null }\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private async _handleOpenIDConnectSignIn({\n    id_token,\n    nonce,\n    client_id,\n    issuer,\n    provider,\n  }: OpenIDConnectCredentials): Promise<{\n    session: Session | null\n    user: User | null\n    error: ApiError | null\n  }> {\n    if (id_token && nonce && ((client_id && issuer) || provider)) {\n      try {\n        const { data, error } = await this.api.signInWithOpenIDConnect({\n          id_token,\n          nonce,\n          client_id,\n          issuer,\n          provider,\n        })\n        if (error || !data) return { user: null, session: null, error }\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n        return { user: data.user, session: data, error: null }\n      } catch (e) {\n        return { user: null, session: null, error: e as ApiError }\n      }\n    }\n    throw new Error(`You must provide a OpenID Connect provider with your id token and nonce.`)\n  }\n\n  /**\n   * Attempts to get the session from LocalStorage\n   * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n   */\n  private _recoverSession() {\n    try {\n      const json = isBrowser() && this.localStorage?.getItem(STORAGE_KEY)\n      if (!json || typeof json !== 'string') {\n        return null\n      }\n\n      const data = JSON.parse(json)\n      const { currentSession, expiresAt } = data\n      const timeNow = Math.round(Date.now() / 1000)\n\n      if (expiresAt >= timeNow && currentSession?.user) {\n        this._saveSession(currentSession)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  /**\n   * Recovers the session from LocalStorage and refreshes\n   * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n   */\n  private async _recoverAndRefresh() {\n    try {\n      const json = isBrowser() && (await this.localStorage.getItem(STORAGE_KEY))\n      if (!json) {\n        return null\n      }\n\n      const data = JSON.parse(json)\n      const { currentSession, expiresAt } = data\n      const timeNow = Math.round(Date.now() / 1000)\n\n      if (expiresAt < timeNow) {\n        if (this.autoRefreshToken && currentSession.refresh_token) {\n          const { error } = await this._callRefreshToken(currentSession.refresh_token)\n          if (error) {\n            console.log(error.message)\n            await this._removeSession()\n          }\n        } else {\n          this._removeSession()\n        }\n      } else if (!currentSession) {\n        console.log('Current session is missing data.')\n        this._removeSession()\n      } else {\n        // should be handled on _recoverSession method already\n        // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n        this._saveSession(currentSession)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n    } catch (err) {\n      console.error(err)\n      return null\n    }\n  }\n\n  private async _callRefreshToken(refresh_token = this.currentSession?.refresh_token) {\n    try {\n      if (!refresh_token) {\n        throw new Error('No current session.')\n      }\n      const { data, error } = await this.api.refreshAccessToken(refresh_token)\n      if (error) throw error\n      if (!data) throw Error('Invalid session data.')\n\n      this._saveSession(data)\n      this._notifyAllSubscribers('TOKEN_REFRESHED')\n      this._notifyAllSubscribers('SIGNED_IN')\n\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  private _notifyAllSubscribers(event: AuthChangeEvent) {\n    this.stateChangeEmitters.forEach((x) => x.callback(event, this.currentSession))\n  }\n\n  /**\n   * set currentSession and currentUser\n   * process to _startAutoRefreshToken if possible\n   */\n  private _saveSession(session: Session) {\n    this.currentSession = session\n    this.currentUser = session.user\n\n    const expiresAt = session.expires_at\n    if (expiresAt) {\n      const timeNow = Math.round(Date.now() / 1000)\n      const expiresIn = expiresAt - timeNow\n      const refreshDurationBeforeExpires = expiresIn > 60 ? 60 : 0.5\n      this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000)\n    }\n\n    // Do we need any extra check before persist session\n    // access_token or user ?\n    if (this.persistSession && session.expires_at) {\n      this._persistSession(this.currentSession)\n    }\n  }\n\n  private _persistSession(currentSession: Session) {\n    const data = { currentSession, expiresAt: currentSession.expires_at }\n    isBrowser() && this.localStorage.setItem(STORAGE_KEY, JSON.stringify(data))\n  }\n\n  private async _removeSession() {\n    this.currentSession = null\n    this.currentUser = null\n    if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer)\n    isBrowser() && (await this.localStorage.removeItem(STORAGE_KEY))\n  }\n\n  /**\n   * Clear and re-create refresh token timer\n   * @param value time intervals in milliseconds\n   */\n  private _startAutoRefreshToken(value: number) {\n    if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer)\n    if (value <= 0 || !this.autoRefreshToken) return\n\n    this.refreshTokenTimer = setTimeout(() => this._callRefreshToken(), value)\n    if (typeof this.refreshTokenTimer.unref === 'function') this.refreshTokenTimer.unref()\n  }\n\n  /**\n   * Listens for changes to LocalStorage and updates the current session.\n   */\n  private _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !window?.addEventListener) {\n      // console.debug('Auth multi-tab support is disabled.')\n      return false\n    }\n\n    try {\n      window?.addEventListener('storage', (e: StorageEvent) => {\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue))\n          if (newSession?.currentSession?.access_token) {\n            this._recoverAndRefresh()\n            this._notifyAllSubscribers('SIGNED_IN')\n          } else {\n            this._removeSession()\n            this._notifyAllSubscribers('SIGNED_OUT')\n          }\n        }\n      })\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error)\n    }\n  }\n}\n","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n  if (typeof globalThis === 'object') return\n  try {\n    Object.defineProperty(Object.prototype, '__magic__', {\n      get: function () {\n        return this\n      },\n      configurable: true,\n    })\n    // @ts-expect-error 'Allow access to magic'\n    __magic__.globalThis = __magic__\n    // @ts-expect-error 'Allow access to magic'\n    delete Object.prototype.__magic__\n  } catch (e) {\n    if (typeof self !== 'undefined') {\n      // @ts-expect-error 'Allow access to globals'\n      self.globalThis = self\n    }\n  }\n}\n","import { PostgrestQueryBuilder } from '@supabase/postgrest-js'\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient'\nimport { RealtimeClient } from '@supabase/realtime-js'\nimport { Fetch, GenericObject, SupabaseEventTypes, SupabaseRealtimePayload } from './types'\n\nexport class SupabaseQueryBuilder<T> extends PostgrestQueryBuilder<T> {\n  private _subscription: SupabaseRealtimeClient | null = null\n  private _realtime: RealtimeClient\n  private _headers: GenericObject\n  private _schema: string\n  private _table: string\n\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      realtime,\n      table,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: GenericObject\n      schema: string\n      realtime: RealtimeClient\n      table: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    }\n  ) {\n    super(url, { headers, schema, fetch, shouldThrowOnError })\n\n    this._realtime = realtime\n    this._headers = headers\n    this._schema = schema\n    this._table = table\n  }\n\n  /**\n   * Subscribe to realtime changes in your database.\n   * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n   * @param callback A callback that will handle the payload that is sent whenever your database changes.\n   */\n  on(\n    event: SupabaseEventTypes,\n    callback: (payload: SupabaseRealtimePayload<T>) => void\n  ): SupabaseRealtimeClient {\n    if (!this._realtime.isConnected()) {\n      this._realtime.connect()\n    }\n    if (!this._subscription) {\n      this._subscription = new SupabaseRealtimeClient(\n        this._realtime,\n        this._headers,\n        this._schema,\n        this._table\n      )\n    }\n    return this._subscription.on(event, callback)\n  }\n}\n","import PostgrestClient from './PostgrestClient'\nimport PostgrestFilterBuilder from './lib/PostgrestFilterBuilder'\nimport PostgrestQueryBuilder from './lib/PostgrestQueryBuilder'\nimport {\n  PostgrestBuilder,\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n  PostgrestError,\n} from './lib/types'\n\nexport {\n  PostgrestClient,\n  PostgrestBuilder,\n  PostgrestQueryBuilder,\n  PostgrestFilterBuilder,\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n  PostgrestError,\n}\n","import PostgrestQueryBuilder from './lib/PostgrestQueryBuilder'\nimport PostgrestRpcBuilder from './lib/PostgrestRpcBuilder'\nimport PostgrestFilterBuilder from './lib/PostgrestFilterBuilder'\nimport { DEFAULT_HEADERS } from './lib/constants'\nimport { Fetch } from './lib/types'\n\nexport default class PostgrestClient {\n  url: string\n  headers: { [key: string]: string }\n  schema?: string\n  fetch?: Fetch\n  shouldThrowOnError?: boolean\n\n  /**\n   * Creates a PostgREST client.\n   *\n   * @param url  URL of the PostgREST endpoint.\n   * @param headers  Custom headers.\n   * @param schema  Postgres schema to switch to.\n   */\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      throwOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      throwOnError?: boolean\n    } = {}\n  ) {\n    this.url = url\n    this.headers = { ...DEFAULT_HEADERS, ...headers }\n    this.schema = schema\n    this.fetch = fetch\n    this.shouldThrowOnError = throwOnError\n  }\n\n  /**\n   * Authenticates the request with JWT.\n   *\n   * @param token  The JWT token to use.\n   */\n  auth(token: string): this {\n    this.headers['Authorization'] = `Bearer ${token}`\n    return this\n  }\n\n  /**\n   * Perform a table operation.\n   *\n   * @param table  The table name to operate on.\n   */\n  from<T = any>(table: string): PostgrestQueryBuilder<T> {\n    const url = `${this.url}/${table}`\n    return new PostgrestQueryBuilder<T>(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    })\n  }\n\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head  When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  rpc<T = any>(\n    fn: string,\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    const url = `${this.url}/rpc/${fn}`\n    return new PostgrestRpcBuilder<T>(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    }).rpc(params, { head, count })\n  }\n}\n","import { Fetch, PostgrestBuilder } from './types'\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder'\n\nexport default class PostgrestQueryBuilder<T> extends PostgrestBuilder<T> {\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    } = {}\n  ) {\n    super(({ fetch, shouldThrowOnError } as unknown) as PostgrestBuilder<T>)\n    this.url = new URL(url)\n    this.headers = { ...headers }\n    this.schema = schema\n  }\n\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   * @param head  When set to true, select will void data.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  select(\n    columns = '*',\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'GET'\n    // Remove whitespaces except when quoted\n    let quoted = false\n    const cleanedColumns = columns\n      .split('')\n      .map((c) => {\n        if (/\\s/.test(c) && !quoted) {\n          return ''\n        }\n        if (c === '\"') {\n          quoted = !quoted\n        }\n        return c\n      })\n      .join('')\n    this.url.searchParams.set('select', cleanedColumns)\n    if (count) {\n      this.headers['Prefer'] = `count=${count}`\n    }\n    if (head) {\n      this.method = 'HEAD'\n    }\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an INSERT into the table.\n   *\n   * @param values  The values to insert.\n   * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  insert(\n    values: Partial<T> | Partial<T>[],\n    options?: {\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    }\n  ): PostgrestFilterBuilder<T>\n  /**\n   * @deprecated Use `upsert()` instead.\n   */\n  insert(\n    values: Partial<T> | Partial<T>[],\n    options?: {\n      upsert?: boolean\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    }\n  ): PostgrestFilterBuilder<T>\n  insert(\n    values: Partial<T> | Partial<T>[],\n    {\n      upsert = false,\n      onConflict,\n      returning = 'representation',\n      count = null,\n    }: {\n      upsert?: boolean\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'POST'\n\n    const prefersHeaders = [`return=${returning}`]\n    if (upsert) prefersHeaders.push('resolution=merge-duplicates')\n\n    if (upsert && onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict)\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n\n    if (Array.isArray(values)) {\n      const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), [] as string[])\n      if (columns.length > 0) {\n        const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`)\n        this.url.searchParams.set('columns', uniqueColumns.join(','))\n      }\n    }\n\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an UPSERT into the table.\n   *\n   * @param values  The values to insert.\n   * @param onConflict  By specifying the `on_conflict` query parameter, you can make UPSERT work on a column(s) that has a UNIQUE constraint.\n   * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   * @param ignoreDuplicates  Specifies if duplicate rows should be ignored and not inserted.\n   */\n  upsert(\n    values: Partial<T> | Partial<T>[],\n    {\n      onConflict,\n      returning = 'representation',\n      count = null,\n      ignoreDuplicates = false,\n    }: {\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n      ignoreDuplicates?: boolean\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'POST'\n\n    const prefersHeaders = [\n      `resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`,\n      `return=${returning}`,\n    ]\n\n    if (onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict)\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an UPDATE on the table.\n   *\n   * @param values  The values to update.\n   * @param returning  By default the updated record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  update(\n    values: Partial<T>,\n    {\n      returning = 'representation',\n      count = null,\n    }: {\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'PATCH'\n    const prefersHeaders = [`return=${returning}`]\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs a DELETE on the table.\n   *\n   * @param returning  If `true`, return the deleted row(s) in the response.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  delete({\n    returning = 'representation',\n    count = null,\n  }: {\n    returning?: 'minimal' | 'representation'\n    count?: null | 'exact' | 'planned' | 'estimated'\n  } = {}): PostgrestFilterBuilder<T> {\n    this.method = 'DELETE'\n    const prefersHeaders = [`return=${returning}`]\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n    return new PostgrestFilterBuilder(this)\n  }\n}\n","import crossFetch from 'cross-fetch'\n\nexport type Fetch = typeof fetch\n\n/**\n * Error format\n *\n * {@link https://postgrest.org/en/stable/api.html?highlight=options#errors-and-http-status-codes}\n */\nexport type PostgrestError = {\n  message: string\n  details: string\n  hint: string\n  code: string\n}\n\n/**\n * Response format\n *\n * {@link https://github.com/supabase/supabase-js/issues/32}\n */\ninterface PostgrestResponseBase {\n  status: number\n  statusText: string\n}\n\ninterface PostgrestResponseSuccess<T> extends PostgrestResponseBase {\n  error: null\n  data: T[]\n  body: T[]\n  count: number | null\n}\ninterface PostgrestResponseFailure extends PostgrestResponseBase {\n  error: PostgrestError\n  data: null\n  // For backward compatibility: body === data\n  body: null\n  count: null\n}\nexport type PostgrestResponse<T> = PostgrestResponseSuccess<T> | PostgrestResponseFailure\n\ninterface PostgrestSingleResponseSuccess<T> extends PostgrestResponseBase {\n  error: null\n  data: T\n  // For backward compatibility: body === data\n  body: T\n}\nexport type PostgrestSingleResponse<T> =\n  | PostgrestSingleResponseSuccess<T>\n  | PostgrestResponseFailure\nexport type PostgrestMaybeSingleResponse<T> = PostgrestSingleResponse<T | null>\n\nexport abstract class PostgrestBuilder<T> implements PromiseLike<PostgrestResponse<T>> {\n  protected method!: 'GET' | 'HEAD' | 'POST' | 'PATCH' | 'DELETE'\n  protected url!: URL\n  protected headers!: { [key: string]: string }\n  protected schema?: string\n  protected body?: Partial<T> | Partial<T>[]\n  protected shouldThrowOnError: boolean\n  protected signal?: AbortSignal\n  protected fetch: Fetch\n\n  constructor(builder: PostgrestBuilder<T>) {\n    Object.assign(this, builder)\n    let _fetch: Fetch\n    if (builder.fetch) {\n      _fetch = builder.fetch\n    } else if (typeof fetch === 'undefined') {\n      _fetch = crossFetch\n    } else {\n      _fetch = fetch\n    }\n    this.fetch = (...args) => _fetch(...args)\n    this.shouldThrowOnError = builder.shouldThrowOnError || false\n  }\n\n  /**\n   * If there's an error with the query, throwOnError will reject the promise by\n   * throwing the error instead of returning it as part of a successful response.\n   *\n   * {@link https://github.com/supabase/supabase-js/issues/92}\n   */\n  throwOnError(throwOnError?: boolean): this {\n    if (throwOnError === null || throwOnError === undefined) {\n      throwOnError = true\n    }\n    this.shouldThrowOnError = throwOnError\n    return this\n  }\n\n  then<TResult1 = PostgrestResponse<T>, TResult2 = never>(\n    onfulfilled?:\n      | ((value: PostgrestResponse<T>) => TResult1 | PromiseLike<TResult1>)\n      | undefined\n      | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n  ): PromiseLike<TResult1 | TResult2> {\n    // https://postgrest.org/en/stable/api.html#switching-schemas\n    if (typeof this.schema === 'undefined') {\n      // skip\n    } else if (['GET', 'HEAD'].includes(this.method)) {\n      this.headers['Accept-Profile'] = this.schema\n    } else {\n      this.headers['Content-Profile'] = this.schema\n    }\n    if (this.method !== 'GET' && this.method !== 'HEAD') {\n      this.headers['Content-Type'] = 'application/json'\n    }\n\n    let res = this.fetch(this.url.toString(), {\n      method: this.method,\n      headers: this.headers,\n      body: JSON.stringify(this.body),\n      signal: this.signal,\n    }).then(async (res) => {\n      let error = null\n      let data = null\n      let count = null\n\n      if (res.ok) {\n        const isReturnMinimal = this.headers['Prefer']?.split(',').includes('return=minimal')\n        if (this.method !== 'HEAD' && !isReturnMinimal) {\n          const text = await res.text()\n          if (!text) {\n            // discard `text`\n          } else if (this.headers['Accept'] === 'text/csv') {\n            data = text\n          } else {\n            data = JSON.parse(text)\n          }\n        }\n\n        const countHeader = this.headers['Prefer']?.match(/count=(exact|planned|estimated)/)\n        const contentRange = res.headers.get('content-range')?.split('/')\n        if (countHeader && contentRange && contentRange.length > 1) {\n          count = parseInt(contentRange[1])\n        }\n      } else {\n        const body = await res.text()\n\n        try {\n          error = JSON.parse(body)\n        } catch {\n          error = {\n            message: body,\n          }\n        }\n\n        if (error && this.shouldThrowOnError) {\n          throw error\n        }\n      }\n\n      const postgrestResponse = {\n        error,\n        data,\n        count,\n        status: res.status,\n        statusText: res.statusText,\n        body: data,\n      }\n\n      return postgrestResponse\n    })\n    if (!this.shouldThrowOnError) {\n      res = res.catch((fetchError) => ({\n        error: {\n          message: `FetchError: ${fetchError.message}`,\n          details: '',\n          hint: '',\n          code: fetchError.code || '',\n        },\n        data: null,\n        body: null,\n        count: null,\n        status: 400,\n        statusText: 'Bad Request',\n      }))\n    }\n\n    return res.then(onfulfilled, onrejected)\n  }\n}\n","import PostgrestTransformBuilder from './PostgrestTransformBuilder'\n\n/**\n * Filters\n */\n\ntype FilterOperator =\n  | 'eq'\n  | 'neq'\n  | 'gt'\n  | 'gte'\n  | 'lt'\n  | 'lte'\n  | 'like'\n  | 'ilike'\n  | 'is'\n  | 'in'\n  | 'cs'\n  | 'cd'\n  | 'sl'\n  | 'sr'\n  | 'nxl'\n  | 'nxr'\n  | 'adj'\n  | 'ov'\n  | 'fts'\n  | 'plfts'\n  | 'phfts'\n  | 'wfts'\n  | 'not.eq'\n  | 'not.neq'\n  | 'not.gt'\n  | 'not.gte'\n  | 'not.lt'\n  | 'not.lte'\n  | 'not.like'\n  | 'not.ilike'\n  | 'not.is'\n  | 'not.in'\n  | 'not.cs'\n  | 'not.cd'\n  | 'not.sl'\n  | 'not.sr'\n  | 'not.nxl'\n  | 'not.nxr'\n  | 'not.adj'\n  | 'not.ov'\n  | 'not.fts'\n  | 'not.plfts'\n  | 'not.phfts'\n  | 'not.wfts'\n\nexport default class PostgrestFilterBuilder<T> extends PostgrestTransformBuilder<T> {\n  /**\n   * Finds all rows which doesn't satisfy the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n  not(column: keyof T, operator: FilterOperator, value: any): this {\n    this.url.searchParams.append(`${column}`, `not.${operator}.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows satisfying at least one of the filters.\n   *\n   * @param filters  The filters to use, separated by commas.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n  or(filters: string, { foreignTable }: { foreignTable?: string } = {}): this {\n    const key = typeof foreignTable === 'undefined' ? 'or' : `${foreignTable}.or`\n    this.url.searchParams.append(key, `(${filters})`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` exactly matches the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  eq(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `eq.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` doesn't match the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  neq(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `neq.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is greater than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  gt(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `gt.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is greater than or\n   * equal to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  gte(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `gte.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is less than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  lt(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `lt.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is less than or equal\n   * to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  lte(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `lte.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case sensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n  like(column: keyof T, pattern: string): this {\n    this.url.searchParams.append(`${column}`, `like.${pattern}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case insensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n  ilike(column: keyof T, pattern: string): this {\n    this.url.searchParams.append(`${column}`, `ilike.${pattern}`)\n    return this\n  }\n\n  /**\n   * A check for exact equality (null, true, false), finds all rows whose\n   * value on the stated `column` exactly match the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  is(column: keyof T, value: boolean | null): this {\n    this.url.searchParams.append(`${column}`, `is.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is found on the\n   * specified `values`.\n   *\n   * @param column  The column to filter on.\n   * @param values  The values to filter with.\n   */\n  in(column: keyof T, values: T[keyof T][]): this {\n    const cleanedValues = values\n      .map((s) => {\n        // handle postgrest reserved characters\n        // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n        if (typeof s === 'string' && new RegExp('[,()]').test(s)) return `\"${s}\"`\n        else return `${s}`\n      })\n      .join(',')\n    this.url.searchParams.append(`${column}`, `in.(${cleanedValues})`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column`\n   * contains the values specified in `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  contains(column: keyof T, value: string | T[keyof T][] | object): this {\n    if (typeof value === 'string') {\n      // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n      // keep it simple and accept a string\n      this.url.searchParams.append(`${column}`, `cs.${value}`)\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(`${column}`, `cs.{${value.join(',')}}`)\n    } else {\n      // json\n      this.url.searchParams.append(`${column}`, `cs.${JSON.stringify(value)}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `contains()` instead. */\n  cs = this.contains\n\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column` is\n   * contained by the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  containedBy(column: keyof T, value: string | T[keyof T][] | object): this {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(`${column}`, `cd.${value}`)\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(`${column}`, `cd.{${value.join(',')}}`)\n    } else {\n      // json\n      this.url.searchParams.append(`${column}`, `cd.${JSON.stringify(value)}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `containedBy()` instead. */\n  cd = this.containedBy\n\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to the\n   * left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeLt(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `sl.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeLt()` instead. */\n  sl = this.rangeLt\n\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to\n   * the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeGt(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `sr.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeGt()` instead. */\n  sr = this.rangeGt\n\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeGte(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `nxl.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeGte()` instead. */\n  nxl = this.rangeGte\n\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeLte(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `nxr.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeLte()` instead. */\n  nxr = this.rangeLte\n\n  /**\n   * Finds all rows whose range value on the stated `column` is adjacent to\n   * the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeAdjacent(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `adj.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeAdjacent()` instead. */\n  adj = this.rangeAdjacent\n\n  /**\n   * Finds all rows whose array or range value on the stated `column` overlaps\n   * (has a value in common) with the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  overlaps(column: keyof T, value: string | T[keyof T][]): this {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(`${column}`, `ov.${value}`)\n    } else {\n      // array\n      this.url.searchParams.append(`${column}`, `ov.{${value.join(',')}}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `overlaps()` instead. */\n  ov = this.overlaps\n\n  /**\n   * Finds all rows whose text or tsvector value on the stated `column` matches\n   * the tsquery in `query`.\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   * @param type  The type of tsquery conversion to use on `query`.\n   */\n  textSearch(\n    column: keyof T,\n    query: string,\n    {\n      config,\n      type = null,\n    }: { config?: string; type?: 'plain' | 'phrase' | 'websearch' | null } = {}\n  ): this {\n    let typePart = ''\n    if (type === 'plain') {\n      typePart = 'pl'\n    } else if (type === 'phrase') {\n      typePart = 'ph'\n    } else if (type === 'websearch') {\n      typePart = 'w'\n    }\n    const configPart = config === undefined ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `${typePart}fts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` instead.\n   */\n  fts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `fts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * plainto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'plain'` instead.\n   */\n  plfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `plfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * phraseto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'phrase'` instead.\n   */\n  phfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `phfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * websearch_to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'websearch'` instead.\n   */\n  wfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `wfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose `column` satisfies the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n  filter(column: keyof T, operator: FilterOperator, value: any): this {\n    this.url.searchParams.append(`${column}`, `${operator}.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose columns match the specified `query` object.\n   *\n   * @param query  The object to filter with, with column names as keys mapped\n   *               to their filter values.\n   */\n  match(query: Record<string, unknown>): this {\n    Object.keys(query).forEach((key) => {\n      this.url.searchParams.append(`${key}`, `eq.${query[key]}`)\n    })\n    return this\n  }\n}\n","import { PostgrestBuilder, PostgrestMaybeSingleResponse, PostgrestSingleResponse } from './types'\n\n/**\n * Post-filters (transforms)\n */\n\nexport default class PostgrestTransformBuilder<T> extends PostgrestBuilder<T> {\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   */\n  select(columns = '*'): this {\n    // Remove whitespaces except when quoted\n    let quoted = false\n    const cleanedColumns = columns\n      .split('')\n      .map((c) => {\n        if (/\\s/.test(c) && !quoted) {\n          return ''\n        }\n        if (c === '\"') {\n          quoted = !quoted\n        }\n        return c\n      })\n      .join('')\n    this.url.searchParams.set('select', cleanedColumns)\n    return this\n  }\n\n  /**\n   * Orders the result with the specified `column`.\n   *\n   * @param column  The column to order on.\n   * @param ascending  If `true`, the result will be in ascending order.\n   * @param nullsFirst  If `true`, `null`s appear first.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n  order(\n    column: keyof T,\n    {\n      ascending = true,\n      nullsFirst = false,\n      foreignTable,\n    }: { ascending?: boolean; nullsFirst?: boolean; foreignTable?: string } = {}\n  ): this {\n    const key = typeof foreignTable === 'undefined' ? 'order' : `${foreignTable}.order`\n    const existingOrder = this.url.searchParams.get(key)\n\n    this.url.searchParams.set(\n      key,\n      `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}.${\n        nullsFirst ? 'nullsfirst' : 'nullslast'\n      }`\n    )\n    return this\n  }\n\n  /**\n   * Limits the result with the specified `count`.\n   *\n   * @param count  The maximum no. of rows to limit to.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n  limit(count: number, { foreignTable }: { foreignTable?: string } = {}): this {\n    const key = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`\n    this.url.searchParams.set(key, `${count}`)\n    return this\n  }\n\n  /**\n   * Limits the result to rows within the specified range, inclusive.\n   *\n   * @param from  The starting index from which to limit the result, inclusive.\n   * @param to  The last index to which to limit the result, inclusive.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n  range(from: number, to: number, { foreignTable }: { foreignTable?: string } = {}): this {\n    const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : `${foreignTable}.offset`\n    const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`\n    this.url.searchParams.set(keyOffset, `${from}`)\n    // Range is inclusive, so add 1\n    this.url.searchParams.set(keyLimit, `${to - from + 1}`)\n    return this\n  }\n\n  /**\n   * Sets the AbortSignal for the fetch request.\n   */\n  abortSignal(signal: AbortSignal): this {\n    this.signal = signal\n    return this\n  }\n\n  /**\n   * Retrieves only one row from the result. Result must be one row (e.g. using\n   * `limit`), otherwise this will result in an error.\n   */\n  single(): PromiseLike<PostgrestSingleResponse<T>> {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json'\n    return this as PromiseLike<PostgrestSingleResponse<T>>\n  }\n\n  /**\n   * Retrieves at most one row from the result. Result must be at most one row\n   * (e.g. using `eq` on a UNIQUE column), otherwise this will result in an\n   * error.\n   */\n  maybeSingle(): PromiseLike<PostgrestMaybeSingleResponse<T>> {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json'\n    const _this = new PostgrestTransformBuilder(this)\n    _this.then = ((onfulfilled: any, onrejected: any) =>\n      this.then((res: any): any => {\n        if (res.error?.details?.includes('Results contain 0 rows')) {\n          return onfulfilled({\n            error: null,\n            data: null,\n            count: res.count,\n            status: 200,\n            statusText: 'OK',\n            body: null,\n          })\n        }\n\n        return onfulfilled(res)\n      }, onrejected)) as any\n    return _this as PromiseLike<PostgrestMaybeSingleResponse<T>>\n  }\n\n  /**\n   * Set the response type to CSV.\n   */\n  csv(): PromiseLike<PostgrestSingleResponse<string>> {\n    this.headers['Accept'] = 'text/csv'\n    return this as PromiseLike<PostgrestSingleResponse<string>>\n  }\n}\n","import { Fetch, PostgrestBuilder } from './types'\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder'\n\nexport default class PostgrestRpcBuilder<T> extends PostgrestBuilder<T> {\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    } = {}\n  ) {\n    super(({ fetch, shouldThrowOnError } as unknown) as PostgrestBuilder<T>)\n    this.url = new URL(url)\n    this.headers = { ...headers }\n    this.schema = schema\n  }\n\n  /**\n   * Perform a function call.\n   */\n  rpc(\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    if (head) {\n      this.method = 'HEAD'\n\n      if (params) {\n        Object.entries(params).forEach(([name, value]) => {\n          this.url.searchParams.append(name, value)\n        })\n      }\n    } else {\n      this.method = 'POST'\n      this.body = params\n    }\n\n    if (count) {\n      if (this.headers['Prefer'] !== undefined) this.headers['Prefer'] += `,count=${count}`\n      else this.headers['Prefer'] = `count=${count}`\n    }\n\n    return new PostgrestFilterBuilder(this)\n  }\n}\n","import { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version}` }\n","// generated by genversion\nexport const version = '0.37.2'\n","import { RealtimeSubscription, RealtimeClient, Transformers } from '@supabase/realtime-js'\nimport { GenericObject, SupabaseEventTypes, SupabaseRealtimePayload } from './types'\n\nexport class SupabaseRealtimeClient {\n  subscription: RealtimeSubscription\n\n  constructor(socket: RealtimeClient, headers: GenericObject, schema: string, tableName: string) {\n    const chanParams: GenericObject = {}\n    const topic = tableName === '*' ? `realtime:${schema}` : `realtime:${schema}:${tableName}`\n    const userToken = headers['Authorization'].split(' ')[1]\n\n    if (userToken) {\n      chanParams['user_token'] = userToken\n    }\n\n    this.subscription = socket.channel(topic, chanParams) as RealtimeSubscription\n  }\n\n  private getPayloadRecords(payload: any) {\n    const records = {\n      new: {},\n      old: {},\n    }\n\n    if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n      records.new = Transformers.convertChangeData(payload.columns, payload.record)\n    }\n\n    if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n      records.old = Transformers.convertChangeData(payload.columns, payload.old_record)\n    }\n\n    return records\n  }\n\n  /**\n   * The event you want to listen to.\n   *\n   * @param event The event\n   * @param callback A callback function that is called whenever the event occurs.\n   */\n  on(event: SupabaseEventTypes, callback: (payload: SupabaseRealtimePayload<any>) => void) {\n    this.subscription.on(event, (payload: any) => {\n      let enrichedPayload: SupabaseRealtimePayload<any> = {\n        schema: payload.schema,\n        table: payload.table,\n        commit_timestamp: payload.commit_timestamp,\n        eventType: payload.type,\n        new: {},\n        old: {},\n        errors: payload.errors,\n      }\n\n      enrichedPayload = { ...enrichedPayload, ...this.getPayloadRecords(payload) }\n\n      callback(enrichedPayload)\n    })\n    return this\n  }\n\n  /**\n   * Enables the subscription.\n   */\n  subscribe(callback: Function = () => {}) {\n    this.subscription.onError((e: Error) => callback('SUBSCRIPTION_ERROR', e))\n    this.subscription.onClose(() => callback('CLOSED'))\n    this.subscription\n      .subscribe()\n      .receive('ok', () => callback('SUBSCRIBED'))\n      .receive('error', (e: Error) => callback('SUBSCRIPTION_ERROR', e))\n      .receive('timeout', () => callback('RETRYING_AFTER_TIMEOUT'))\n    return this.subscription\n  }\n}\n","import * as Transformers from './lib/transformers'\nimport RealtimeClient, {\n  Options as RealtimeClientOptions,\n} from './RealtimeClient'\nimport RealtimeSubscription from './RealtimeSubscription'\nimport RealtimeChannel from './RealtimeChannel'\nimport RealtimePresence from './RealtimePresence'\n\nexport {\n  RealtimeClient,\n  RealtimeClientOptions,\n  RealtimeSubscription,\n  RealtimeChannel,\n  RealtimePresence,\n  Transformers,\n}\n","/**\n * Helpers to convert the change Payload into native JS types.\n */\n\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\n\nexport enum PostgresTypes {\n  abstime = 'abstime',\n  bool = 'bool',\n  date = 'date',\n  daterange = 'daterange',\n  float4 = 'float4',\n  float8 = 'float8',\n  int2 = 'int2',\n  int4 = 'int4',\n  int4range = 'int4range',\n  int8 = 'int8',\n  int8range = 'int8range',\n  json = 'json',\n  jsonb = 'jsonb',\n  money = 'money',\n  numeric = 'numeric',\n  oid = 'oid',\n  reltime = 'reltime',\n  text = 'text',\n  time = 'time',\n  timestamp = 'timestamp',\n  timestamptz = 'timestamptz',\n  timetz = 'timetz',\n  tsrange = 'tsrange',\n  tstzrange = 'tstzrange',\n}\n\ntype Columns = {\n  name: string // the column name. eg: \"user_id\"\n  type: string // the column type. eg: \"uuid\"\n  flags?: string[] // any special flags for the column. eg: [\"key\"]\n  type_modifier?: number // the type modifier. eg: 4294967295\n}[]\n\ntype BaseValue = null | string | number | boolean\ntype RecordValue = BaseValue | BaseValue[]\n\ntype Record = {\n  [key: string]: RecordValue\n}\n\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (\n  columns: Columns,\n  record: Record,\n  options: { skipTypes?: string[] } = {}\n): Record => {\n  const skipTypes = options.skipTypes ?? []\n\n  return Object.keys(record).reduce((acc, rec_key) => {\n    acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes)\n    return acc\n  }, {} as Record)\n}\n\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (\n  columnName: string,\n  columns: Columns,\n  record: Record,\n  skipTypes: string[]\n): RecordValue => {\n  const column = columns.find((x) => x.name === columnName)\n  const colType = column?.type\n  const value = record[columnName]\n\n  if (colType && !skipTypes.includes(colType)) {\n    return convertCell(colType, value)\n  }\n\n  return noop(value)\n}\n\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type: string, value: RecordValue): RecordValue => {\n  // if data type is an array\n  if (type.charAt(0) === '_') {\n    const dataType = type.slice(1, type.length)\n    return toArray(value, dataType)\n  }\n\n  // If not null, convert to correct type.\n  switch (type) {\n    case PostgresTypes.bool:\n      return toBoolean(value)\n    case PostgresTypes.float4:\n    case PostgresTypes.float8:\n    case PostgresTypes.int2:\n    case PostgresTypes.int4:\n    case PostgresTypes.int8:\n    case PostgresTypes.numeric:\n    case PostgresTypes.oid:\n      return toNumber(value)\n    case PostgresTypes.json:\n    case PostgresTypes.jsonb:\n      return toJson(value)\n    case PostgresTypes.timestamp:\n      return toTimestampString(value) // Format to be consistent with PostgREST\n    case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n    case PostgresTypes.date: // To allow users to cast it based on Timezone\n    case PostgresTypes.daterange:\n    case PostgresTypes.int4range:\n    case PostgresTypes.int8range:\n    case PostgresTypes.money:\n    case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n    case PostgresTypes.text:\n    case PostgresTypes.time: // To allow users to cast it based on Timezone\n    case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n    case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n    case PostgresTypes.tsrange:\n    case PostgresTypes.tstzrange:\n      return noop(value)\n    default:\n      // Return the value for remaining types\n      return noop(value)\n  }\n}\n\nconst noop = (value: RecordValue): RecordValue => {\n  return value\n}\nexport const toBoolean = (value: RecordValue): RecordValue => {\n  switch (value) {\n    case 't':\n      return true\n    case 'f':\n      return false\n    default:\n      return value\n  }\n}\nexport const toNumber = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    const parsedValue = parseFloat(value)\n    if (!Number.isNaN(parsedValue)) {\n      return parsedValue\n    }\n  }\n  return value\n}\nexport const toJson = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    try {\n      return JSON.parse(value)\n    } catch (error) {\n      console.log(`JSON parse error: ${error}`)\n      return value\n    }\n  }\n  return value\n}\n\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value: RecordValue, type: string): RecordValue => {\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  const lastIdx = value.length - 1\n  const closeBrace = value[lastIdx]\n  const openBrace = value[0]\n\n  // Confirm value is a Postgres array by checking curly brackets\n  if (openBrace === '{' && closeBrace === '}') {\n    let arr\n    const valTrim = value.slice(1, lastIdx)\n\n    // TODO: find a better solution to separate Postgres array data\n    try {\n      arr = JSON.parse('[' + valTrim + ']')\n    } catch (_) {\n      // WARNING: splitting on comma does not cover all edge cases\n      arr = valTrim ? valTrim.split(',') : []\n    }\n\n    return arr.map((val: BaseValue) => convertCell(type, val))\n  }\n\n  return value\n}\n\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    return value.replace(' ', 'T')\n  }\n\n  return value\n}\n","import { w3cwebsocket } from 'websocket'\nimport {\n  VSN,\n  CHANNEL_EVENTS,\n  TRANSPORTS,\n  SOCKET_STATES,\n  DEFAULT_TIMEOUT,\n  WS_CLOSE_NORMAL,\n  DEFAULT_HEADERS,\n} from './lib/constants'\nimport Timer from './lib/timer'\nimport Serializer from './lib/serializer'\nimport RealtimeSubscription from './RealtimeSubscription'\nimport RealtimeChannel from './RealtimeChannel'\n\nexport type Options = {\n  transport?: WebSocket\n  timeout?: number\n  heartbeatIntervalMs?: number\n  longpollerTimeout?: number\n  logger?: Function\n  encode?: Function\n  decode?: Function\n  reconnectAfterMs?: Function\n  headers?: { [key: string]: string }\n  params?: { [key: string]: string }\n}\ntype Message = {\n  topic: string\n  event: string\n  payload: any\n  ref: string\n}\n\nconst noop = () => {}\n\nexport default class RealtimeClient {\n  accessToken: string | null = null\n  channels: (RealtimeSubscription | RealtimeChannel)[] = []\n  endPoint: string = ''\n  headers?: { [key: string]: string } = DEFAULT_HEADERS\n  params?: { [key: string]: string } = {}\n  timeout: number = DEFAULT_TIMEOUT\n  transport: any = w3cwebsocket\n  heartbeatIntervalMs: number = 30000\n  longpollerTimeout: number = 20000\n  heartbeatTimer: ReturnType<typeof setInterval> | undefined = undefined\n  pendingHeartbeatRef: string | null = null\n  ref: number = 0\n  reconnectTimer: Timer\n  logger: Function = noop\n  encode: Function\n  decode: Function\n  reconnectAfterMs: Function\n  conn: WebSocket | null = null\n  sendBuffer: Function[] = []\n  serializer: Serializer = new Serializer()\n  stateChangeCallbacks: {\n    open: Function[]\n    close: Function[]\n    error: Function[]\n    message: Function[]\n  } = {\n    open: [],\n    close: [],\n    error: [],\n    message: [],\n  }\n\n  /**\n   * Initializes the Socket\n   *\n   * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n   * @param options.transport The Websocket Transport, for example WebSocket.\n   * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n   * @param options.params The optional params to pass when connecting.\n   * @param options.headers The optional headers to pass when connecting.\n   * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n   * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n   * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n   * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n   * @param options.longpollerTimeout The maximum timeout of a long poll AJAX request. Defaults to 20s (double the server long poll timer).\n   * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n   */\n  constructor(endPoint: string, options?: Options) {\n    this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`\n\n    if (options?.params) this.params = options.params\n    if (options?.headers) this.headers = { ...this.headers, ...options.headers }\n    if (options?.timeout) this.timeout = options.timeout\n    if (options?.logger) this.logger = options.logger\n    if (options?.transport) this.transport = options.transport\n    if (options?.heartbeatIntervalMs)\n      this.heartbeatIntervalMs = options.heartbeatIntervalMs\n    if (options?.longpollerTimeout)\n      this.longpollerTimeout = options.longpollerTimeout\n\n    this.reconnectAfterMs = options?.reconnectAfterMs\n      ? options.reconnectAfterMs\n      : (tries: number) => {\n          return [1000, 2000, 5000, 10000][tries - 1] || 10000\n        }\n    this.encode = options?.encode\n      ? options.encode\n      : (payload: JSON, callback: Function) => {\n          return callback(JSON.stringify(payload))\n        }\n    this.decode = options?.decode\n      ? options.decode\n      : this.serializer.decode.bind(this.serializer)\n    this.reconnectTimer = new Timer(async () => {\n      await this.disconnect()\n      this.connect()\n    }, this.reconnectAfterMs)\n  }\n\n  /**\n   * Connects the socket.\n   */\n  connect() {\n    if (this.conn) {\n      return\n    }\n\n    this.conn = new this.transport(this.endPointURL(), [], null, this.headers)\n    if (this.conn) {\n      // this.conn.timeout = this.longpollerTimeout // TYPE ERROR\n      this.conn.binaryType = 'arraybuffer'\n      this.conn.onopen = () => this._onConnOpen()\n      this.conn.onerror = (error) => this._onConnError(error as ErrorEvent)\n      this.conn.onmessage = (event) => this.onConnMessage(event)\n      this.conn.onclose = (event) => this._onConnClose(event)\n    }\n  }\n\n  /**\n   * Disconnects the socket.\n   *\n   * @param code A numeric status code to send on disconnect.\n   * @param reason A custom reason for the disconnect.\n   */\n  disconnect(\n    code?: number,\n    reason?: string\n  ): Promise<{ error: Error | null; data: boolean }> {\n    return new Promise((resolve, _reject) => {\n      try {\n        if (this.conn) {\n          this.conn.onclose = function () {} // noop\n          if (code) {\n            this.conn.close(code, reason || '')\n          } else {\n            this.conn.close()\n          }\n          this.conn = null\n          // remove open handles\n          this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n          this.reconnectTimer.reset()\n        }\n        resolve({ error: null, data: true })\n      } catch (error) {\n        resolve({ error: error as Error, data: false })\n      }\n    })\n  }\n\n  /**\n   * Logs the message. Override `this.logger` for specialized logging.\n   */\n  log(kind: string, msg: string, data?: any) {\n    this.logger(kind, msg, data)\n  }\n\n  /**\n   * Registers a callback for connection state change event.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket opened.\"))\n   */\n  onOpen(callback: Function) {\n    this.stateChangeCallbacks.open.push(callback)\n  }\n\n  /**\n   * Registers a callbacks for connection state change events.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket closed.\"))\n   */\n  onClose(callback: Function) {\n    this.stateChangeCallbacks.close.push(callback)\n  }\n\n  /**\n   * Registers a callback for connection state change events.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen((error) => console.log(\"An error occurred\"))\n   */\n  onError(callback: Function) {\n    this.stateChangeCallbacks.error.push(callback)\n  }\n\n  /**\n   * Calls a function any time a message is received.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onMessage((message) => console.log(message))\n   */\n  onMessage(callback: Function) {\n    this.stateChangeCallbacks.message.push(callback)\n  }\n\n  /**\n   * Returns the current state of the socket.\n   */\n  connectionState() {\n    switch (this.conn && this.conn.readyState) {\n      case SOCKET_STATES.connecting:\n        return 'connecting'\n      case SOCKET_STATES.open:\n        return 'open'\n      case SOCKET_STATES.closing:\n        return 'closing'\n      default:\n        return 'closed'\n    }\n  }\n\n  /**\n   * Retuns `true` is the connection is open.\n   */\n  isConnected() {\n    return this.connectionState() === 'open'\n  }\n\n  /**\n   * Removes a subscription from the socket.\n   *\n   * @param channel An open subscription.\n   */\n  remove(channel: RealtimeSubscription | RealtimeChannel) {\n    this.channels = this.channels.filter(\n      (c: RealtimeSubscription | RealtimeChannel) =>\n        c.joinRef() !== channel.joinRef()\n    )\n  }\n\n  channel(\n    topic: string,\n    chanParams: { [key: string]: any } = { isNewVersion: false }\n  ) {\n    const { isNewVersion, ...params } = chanParams\n\n    const chan = isNewVersion\n      ? new RealtimeChannel(topic, { ...params }, this)\n      : new RealtimeSubscription(topic, { ...params }, this)\n\n    if (chan instanceof RealtimeChannel) {\n      chan.presence.onJoin((key, currentPresences, newPresences) => {\n        chan.trigger('presence', {\n          event: 'JOIN',\n          key,\n          currentPresences,\n          newPresences,\n        })\n      })\n\n      chan.presence.onLeave((key, currentPresences, leftPresences) => {\n        chan.trigger('presence', {\n          event: 'LEAVE',\n          key,\n          currentPresences,\n          leftPresences,\n        })\n      })\n\n      chan.presence.onSync(() => {\n        chan.trigger('presence', { event: 'SYNC' })\n      })\n    }\n\n    this.channels.push(chan)\n    return chan\n  }\n\n  push(data: Message) {\n    let { topic, event, payload, ref } = data\n    let callback = () => {\n      this.encode(data, (result: any) => {\n        this.conn?.send(result)\n      })\n    }\n    this.log('push', `${topic} ${event} (${ref})`, payload)\n    if (this.isConnected()) {\n      callback()\n    } else {\n      this.sendBuffer.push(callback)\n    }\n  }\n\n  onConnMessage(rawMessage: any) {\n    this.decode(rawMessage.data, (msg: Message) => {\n      let { topic, event, payload, ref } = msg\n\n      if (\n        (ref && ref === this.pendingHeartbeatRef) ||\n        event === payload?.type\n      ) {\n        this.pendingHeartbeatRef = null\n      }\n\n      this.log(\n        'receive',\n        `${payload.status || ''} ${topic} ${event} ${\n          (ref && '(' + ref + ')') || ''\n        }`,\n        payload\n      )\n      this.channels\n        .filter((channel: RealtimeSubscription | RealtimeChannel) =>\n          channel.isMember(topic)\n        )\n        .forEach((channel: RealtimeSubscription | RealtimeChannel) =>\n          channel.trigger(event, payload, ref)\n        )\n      this.stateChangeCallbacks.message.forEach((callback) => callback(msg))\n    })\n  }\n\n  /**\n   * Returns the URL of the websocket.\n   */\n  endPointURL() {\n    return this._appendParams(\n      this.endPoint,\n      Object.assign({}, this.params, { vsn: VSN })\n    )\n  }\n\n  /**\n   * Return the next message ref, accounting for overflows\n   */\n  makeRef() {\n    let newRef = this.ref + 1\n    if (newRef === this.ref) {\n      this.ref = 0\n    } else {\n      this.ref = newRef\n    }\n\n    return this.ref.toString()\n  }\n\n  /**\n   * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n   *\n   * @param token A JWT string.\n   */\n  setAuth(token: string | null) {\n    this.accessToken = token\n\n    try {\n      this.channels.forEach((channel) => {\n        token && channel.updateJoinPayload({ user_token: token })\n\n        if (channel.joinedOnce && channel.isJoined()) {\n          channel.push(CHANNEL_EVENTS.access_token, { access_token: token })\n        }\n      })\n    } catch (error) {\n      console.log('setAuth error', error)\n    }\n  }\n\n  leaveOpenTopic(topic: string): void {\n    let dupChannel = this.channels.find(\n      (c) => c.topic === topic && (c.isJoined() || c.isJoining())\n    )\n    if (dupChannel) {\n      this.log('transport', `leaving duplicate topic \"${topic}\"`)\n      dupChannel.unsubscribe()\n    }\n  }\n\n  private _onConnOpen() {\n    this.log('transport', `connected to ${this.endPointURL()}`)\n    this._flushSendBuffer()\n    this.reconnectTimer.reset()\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n    this.heartbeatTimer = setInterval(\n      () => this._sendHeartbeat(),\n      this.heartbeatIntervalMs\n    )\n    this.stateChangeCallbacks.open.forEach((callback) => callback())!\n  }\n\n  private _onConnClose(event: any) {\n    this.log('transport', 'close', event)\n    this._triggerChanError()\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n    this.reconnectTimer.scheduleTimeout()\n    this.stateChangeCallbacks.close.forEach((callback) => callback(event))\n  }\n\n  private _onConnError(error: ErrorEvent) {\n    this.log('transport', error.message)\n    this._triggerChanError()\n    this.stateChangeCallbacks.error.forEach((callback) => callback(error))\n  }\n\n  private _triggerChanError() {\n    this.channels.forEach((channel: RealtimeSubscription | RealtimeChannel) =>\n      channel.trigger(CHANNEL_EVENTS.error)\n    )\n  }\n\n  private _appendParams(url: string, params: { [key: string]: string }) {\n    if (Object.keys(params).length === 0) {\n      return url\n    }\n    const prefix = url.match(/\\?/) ? '&' : '?'\n    const query = new URLSearchParams(params)\n\n    return `${url}${prefix}${query}`\n  }\n\n  private _flushSendBuffer() {\n    if (this.isConnected() && this.sendBuffer.length > 0) {\n      this.sendBuffer.forEach((callback) => callback())\n      this.sendBuffer = []\n    }\n  }\n\n  private _sendHeartbeat() {\n    if (!this.isConnected()) {\n      return\n    }\n    if (this.pendingHeartbeatRef) {\n      this.pendingHeartbeatRef = null\n      this.log(\n        'transport',\n        'heartbeat timeout. Attempting to re-establish connection'\n      )\n      this.conn?.close(WS_CLOSE_NORMAL, 'hearbeat timeout')\n      return\n    }\n    this.pendingHeartbeatRef = this.makeRef()\n    this.push({\n      topic: 'phoenix',\n      event: 'heartbeat',\n      payload: {},\n      ref: this.pendingHeartbeatRef,\n    })\n    this.setAuth(this.accessToken)\n  }\n}\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","module.exports = require('../package.json').version;\n","{\n  \"name\": \"websocket\",\n  \"description\": \"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",\n  \"keywords\": [\n    \"websocket\",\n    \"websockets\",\n    \"socket\",\n    \"networking\",\n    \"comet\",\n    \"push\",\n    \"RFC-6455\",\n    \"realtime\",\n    \"server\",\n    \"client\"\n  ],\n  \"author\": \"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)\",\n  \"contributors\": [\n    \"Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)\"\n  ],\n  \"version\": \"1.0.34\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node.git\"\n  },\n  \"homepage\": \"https://github.com/theturtle32/WebSocket-Node\",\n  \"engines\": {\n    \"node\": \">=4.0.0\"\n  },\n  \"dependencies\": {\n    \"bufferutil\": \"^4.0.1\",\n    \"debug\": \"^2.2.0\",\n    \"es5-ext\": \"^0.10.50\",\n    \"typedarray-to-buffer\": \"^3.1.5\",\n    \"utf-8-validate\": \"^5.0.2\",\n    \"yaeti\": \"^0.0.6\"\n  },\n  \"devDependencies\": {\n    \"buffer-equal\": \"^1.0.0\",\n    \"gulp\": \"^4.0.2\",\n    \"gulp-jshint\": \"^2.0.4\",\n    \"jshint-stylish\": \"^2.2.1\",\n    \"jshint\": \"^2.0.0\",\n    \"tape\": \"^4.9.1\"\n  },\n  \"config\": {\n    \"verbose\": false\n  },\n  \"scripts\": {\n    \"test\": \"tape test/unit/*.js\",\n    \"gulp\": \"gulp\"\n  },\n  \"main\": \"index\",\n  \"directories\": {\n    \"lib\": \"./lib\"\n  },\n  \"browser\": \"lib/browser.js\",\n  \"license\": \"Apache-2.0\"\n}\n","import { version } from './version'\n\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` }\n\nexport const VSN: string = '1.0.0'\n\nexport const DEFAULT_TIMEOUT = 10000\n\nexport const WS_CLOSE_NORMAL = 1000\n\nexport enum SOCKET_STATES {\n  connecting = 0,\n  open = 1,\n  closing = 2,\n  closed = 3,\n}\n\nexport enum CHANNEL_STATES {\n  closed = 'closed',\n  errored = 'errored',\n  joined = 'joined',\n  joining = 'joining',\n  leaving = 'leaving',\n}\n\nexport enum CHANNEL_EVENTS {\n  close = 'phx_close',\n  error = 'phx_error',\n  join = 'phx_join',\n  reply = 'phx_reply',\n  leave = 'phx_leave',\n  access_token = 'access_token',\n}\n\nexport enum TRANSPORTS {\n  websocket = 'websocket',\n}\n","export const version = '1.6.2'\n","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n  timer: number | undefined = undefined\n  tries: number = 0\n\n  constructor(public callback: Function, public timerCalc: Function) {\n    this.callback = callback\n    this.timerCalc = timerCalc\n  }\n\n  reset() {\n    this.tries = 0\n    clearTimeout(this.timer)\n  }\n\n  // Cancels any previous scheduleTimeout and schedules callback\n  scheduleTimeout() {\n    clearTimeout(this.timer)\n\n    this.timer = <any>setTimeout(() => {\n      this.tries = this.tries + 1\n      this.callback()\n    }, this.timerCalc(this.tries + 1))\n  }\n}\n","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\n\nexport default class Serializer {\n  HEADER_LENGTH = 1\n\n  decode(rawPayload: ArrayBuffer | string, callback: Function) {\n    if (rawPayload.constructor === ArrayBuffer) {\n      return callback(this._binaryDecode(rawPayload))\n    }\n\n    if (typeof rawPayload === 'string') {\n      return callback(JSON.parse(rawPayload))\n    }\n\n    return callback({})\n  }\n\n  private _binaryDecode(buffer: ArrayBuffer) {\n    const view = new DataView(buffer)\n    const decoder = new TextDecoder()\n\n    return this._decodeBroadcast(buffer, view, decoder)\n  }\n\n  private _decodeBroadcast(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    ref: null\n    topic: string\n    event: string\n    payload: object\n  } {\n    const topicSize = view.getUint8(1)\n    const eventSize = view.getUint8(2)\n    let offset = this.HEADER_LENGTH + 2\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    const data = JSON.parse(\n      decoder.decode(buffer.slice(offset, buffer.byteLength))\n    )\n\n    return { ref: null, topic: topic, event: event, payload: data }\n  }\n}\n","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants'\nimport Push from './lib/push'\nimport RealtimeClient from './RealtimeClient'\nimport Timer from './lib/timer'\n\nexport default class RealtimeSubscription {\n  bindings: any[] = []\n  timeout: number\n  state = CHANNEL_STATES.closed\n  joinedOnce = false\n  joinPush: Push\n  rejoinTimer: Timer\n  pushBuffer: Push[] = []\n\n  constructor(\n    public topic: string,\n    public params: { [key: string]: unknown } = {},\n    public socket: RealtimeClient\n  ) {\n    this.timeout = this.socket.timeout\n    this.joinPush = new Push(\n      this,\n      CHANNEL_EVENTS.join,\n      this.params,\n      this.timeout\n    )\n    this.rejoinTimer = new Timer(\n      () => this.rejoinUntilConnected(),\n      this.socket.reconnectAfterMs\n    )\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach((pushEvent: Push) => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this.onClose(() => {\n      this.rejoinTimer.reset()\n      this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket.remove(this)\n    })\n    this.onError((reason: string) => {\n      if (this.isLeaving() || this.isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.joinPush.receive('timeout', () => {\n      if (!this.isJoining()) {\n        return\n      }\n      this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.on(CHANNEL_EVENTS.reply, (payload: any, ref: string) => {\n      this.trigger(this.replyEventName(ref), payload)\n    })\n  }\n\n  rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout()\n    if (this.socket.isConnected()) {\n      this.rejoin()\n    }\n  }\n\n  subscribe(timeout = this.timeout) {\n    if (this.joinedOnce) {\n      throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`\n    } else {\n      this.joinedOnce = true\n      this.rejoin(timeout)\n      return this.joinPush\n    }\n  }\n\n  onClose(callback: Function) {\n    this.on(CHANNEL_EVENTS.close, callback)\n  }\n\n  onError(callback: Function) {\n    this.on(CHANNEL_EVENTS.error, (reason: string) => callback(reason))\n  }\n\n  on(event: string, callback: Function) {\n    this.bindings.push({ event, callback })\n  }\n\n  off(event: string) {\n    this.bindings = this.bindings.filter((bind) => bind.event !== event)\n  }\n\n  canPush() {\n    return this.socket.isConnected() && this.isJoined()\n  }\n\n  push(event: CHANNEL_EVENTS, payload: any, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`\n    }\n    let pushEvent = new Push(this, event, payload, timeout)\n    if (this.canPush()) {\n      pushEvent.send()\n    } else {\n      pushEvent.startTimeout()\n      this.pushBuffer.push(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  updateJoinPayload(payload: { [key: string]: unknown }): void {\n    this.joinPush.updatePayload(payload)\n  }\n\n  /**\n   * Leaves the channel\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n  unsubscribe(timeout = this.timeout) {\n    this.state = CHANNEL_STATES.leaving\n    let onClose = () => {\n      this.socket.log('channel', `leave ${this.topic}`)\n      this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef())\n    }\n    // Destroy joinPush to avoid connection timeouts during unscription phase\n    this.joinPush.destroy()\n\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout)\n    leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose())\n    leavePush.send()\n    if (!this.canPush()) {\n      leavePush.trigger('ok', {})\n    }\n\n    return leavePush\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   */\n  onMessage(event: string, payload: any, ref?: string) {\n    return payload\n  }\n\n  isMember(topic: string) {\n    return this.topic === topic\n  }\n\n  joinRef() {\n    return this.joinPush.ref\n  }\n\n  rejoin(timeout = this.timeout) {\n    if (this.isLeaving()) {\n      return\n    }\n    this.socket.leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  trigger(event: string, payload?: any, ref?: string) {\n    let { close, error, leave, join } = CHANNEL_EVENTS\n    let events: string[] = [close, error, leave, join]\n    if (ref && events.indexOf(event) >= 0 && ref !== this.joinRef()) {\n      return\n    }\n    let handledPayload = this.onMessage(event, payload, ref)\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified'\n    }\n\n    this.bindings\n      .filter((bind) => {\n        // Bind all events if the user specifies a wildcard.\n        if (bind.event === '*') {\n          return event === payload?.type\n        } else {\n          return bind.event === event\n        }\n      })\n      .map((bind) => bind.callback(handledPayload, ref))\n  }\n\n  replyEventName(ref: string) {\n    return `chan_reply_${ref}`\n  }\n\n  isClosed() {\n    return this.state === CHANNEL_STATES.closed\n  }\n  isErrored() {\n    return this.state === CHANNEL_STATES.errored\n  }\n  isJoined() {\n    return this.state === CHANNEL_STATES.joined\n  }\n  isJoining() {\n    return this.state === CHANNEL_STATES.joining\n  }\n  isLeaving() {\n    return this.state === CHANNEL_STATES.leaving\n  }\n}\n","import { DEFAULT_TIMEOUT } from '../lib/constants'\nimport RealtimeChannel from '../RealtimeChannel'\nimport RealtimeSubscription from '../RealtimeSubscription'\n\nexport default class Push {\n  sent: boolean = false\n  timeoutTimer: number | undefined = undefined\n  ref: string = ''\n  receivedResp: {\n    status: string\n    response: Function\n  } | null = null\n  recHooks: {\n    status: string\n    callback: Function\n  }[] = []\n  refEvent: string | null = null\n\n  /**\n   * Initializes the Push\n   *\n   * @param channel The Channel\n   * @param event The event, for example `\"phx_join\"`\n   * @param payload The payload, for example `{user_id: 123}`\n   * @param timeout The push timeout in milliseconds\n   */\n  constructor(\n    public channel: RealtimeSubscription | RealtimeChannel,\n    public event: string,\n    public payload: { [key: string]: unknown } = {},\n    public timeout: number = DEFAULT_TIMEOUT\n  ) {}\n\n  resend(timeout: number) {\n    this.timeout = timeout\n    this._cancelRefEvent()\n    this.ref = ''\n    this.refEvent = null\n    this.receivedResp = null\n    this.sent = false\n    this.send()\n  }\n\n  send() {\n    if (this._hasReceived('timeout')) {\n      return\n    }\n    this.startTimeout()\n    this.sent = true\n    this.channel.socket.push({\n      topic: this.channel.topic,\n      event: this.event,\n      payload: this.payload,\n      ref: this.ref,\n    })\n  }\n\n  updatePayload(payload: { [key: string]: unknown }): void {\n    this.payload = { ...this.payload, ...payload }\n  }\n\n  receive(status: string, callback: Function) {\n    if (this._hasReceived(status)) {\n      callback(this.receivedResp?.response)\n    }\n\n    this.recHooks.push({ status, callback })\n    return this\n  }\n\n  startTimeout() {\n    if (this.timeoutTimer) {\n      return\n    }\n    this.ref = this.channel.socket.makeRef()\n    this.refEvent = this.channel.replyEventName(this.ref)\n\n    const callback = (payload: any) => {\n      this._cancelRefEvent()\n      this._cancelTimeout()\n      this.receivedResp = payload\n      this._matchReceive(payload)\n    }\n\n    if (this.channel instanceof RealtimeSubscription) {\n      this.channel.on(this.refEvent, callback)\n    } else {\n      this.channel.on(this.refEvent, {}, callback)\n    }\n\n    this.timeoutTimer = <any>setTimeout(() => {\n      this.trigger('timeout', {})\n    }, this.timeout)\n  }\n\n  trigger(status: string, response: any) {\n    if (this.refEvent) this.channel.trigger(this.refEvent, { status, response })\n  }\n\n  destroy() {\n    this._cancelRefEvent()\n    this._cancelTimeout()\n  }\n\n  private _cancelRefEvent() {\n    if (!this.refEvent) {\n      return\n    }\n\n    if (this.channel instanceof RealtimeSubscription) {\n      this.channel.off(this.refEvent)\n    } else {\n      this.channel.off(this.refEvent, {})\n    }\n  }\n\n  private _cancelTimeout() {\n    clearTimeout(this.timeoutTimer)\n    this.timeoutTimer = undefined\n  }\n\n  private _matchReceive({\n    status,\n    response,\n  }: {\n    status: string\n    response: Function\n  }) {\n    this.recHooks\n      .filter((h) => h.status === status)\n      .forEach((h) => h.callback(response))\n  }\n\n  private _hasReceived(status: string) {\n    return this.receivedResp && this.receivedResp.status === status\n  }\n}\n","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants'\nimport Push from './lib/push'\nimport RealtimeClient from './RealtimeClient'\nimport Timer from './lib/timer'\nimport RealtimePresence from './RealtimePresence'\n\nexport default class RealtimeChannel {\n  bindings: any[] = []\n  timeout: number\n  state = CHANNEL_STATES.closed\n  joinedOnce = false\n  joinPush: Push\n  rejoinTimer: Timer\n  pushBuffer: Push[] = []\n  presence: RealtimePresence\n\n  constructor(\n    public topic: string,\n    public params: { [key: string]: unknown } = {},\n    public socket: RealtimeClient\n  ) {\n    this.timeout = this.socket.timeout\n    this.joinPush = new Push(\n      this,\n      CHANNEL_EVENTS.join,\n      this.params,\n      this.timeout\n    )\n    this.rejoinTimer = new Timer(\n      () => this.rejoinUntilConnected(),\n      this.socket.reconnectAfterMs\n    )\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach((pushEvent: Push) => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this.onClose(() => {\n      this.rejoinTimer.reset()\n      this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket.remove(this)\n    })\n    this.onError((reason: string) => {\n      if (this.isLeaving() || this.isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.joinPush.receive('timeout', () => {\n      if (!this.isJoining()) {\n        return\n      }\n      this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.on(CHANNEL_EVENTS.reply, {}, (payload: any, ref: string) => {\n      this.trigger(this.replyEventName(ref), payload)\n    })\n    this.presence = new RealtimePresence(this)\n  }\n\n  list() {\n    return this.presence.list()\n  }\n\n  rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout()\n    if (this.socket.isConnected()) {\n      this.rejoin()\n    }\n  }\n\n  subscribe(timeout = this.timeout) {\n    if (this.joinedOnce) {\n      throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`\n    } else {\n      const configs = this.bindings.reduce(\n        (acc, binding: { [key: string]: any }) => {\n          const { type } = binding\n          if (\n            ![\n              'phx_close',\n              'phx_error',\n              'phx_reply',\n              'presence_diff',\n              'presence_state',\n            ].includes(type)\n          ) {\n            acc[type] = binding\n          }\n          return acc\n        },\n        {}\n      )\n\n      if (Object.keys(configs).length) {\n        this.updateJoinPayload({ configs })\n      }\n\n      this.joinedOnce = true\n      this.rejoin(timeout)\n      return this.joinPush\n    }\n  }\n\n  onClose(callback: Function) {\n    this.on(CHANNEL_EVENTS.close, {}, callback)\n  }\n\n  onError(callback: Function) {\n    this.on(CHANNEL_EVENTS.error, {}, (reason: string) => callback(reason))\n  }\n\n  on(\n    type: string,\n    eventFilter?: { [key: string]: string },\n    callback?: Function\n  ) {\n    this.bindings.push({\n      type,\n      eventFilter: eventFilter ?? {},\n      callback: callback ?? (() => {}),\n    })\n  }\n\n  off(type: string, eventFilter: { [key: string]: any }) {\n    this.bindings = this.bindings.filter((bind) => {\n      return !(\n        bind.type === type &&\n        RealtimeChannel.isEqual(bind.eventFilter, eventFilter)\n      )\n    })\n  }\n\n  canPush() {\n    return this.socket.isConnected() && this.isJoined()\n  }\n\n  push(event: CHANNEL_EVENTS, payload: any, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`\n    }\n    let pushEvent = new Push(this, event, payload, timeout)\n    if (this.canPush()) {\n      pushEvent.send()\n    } else {\n      pushEvent.startTimeout()\n      this.pushBuffer.push(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  updateJoinPayload(payload: { [key: string]: unknown }): void {\n    this.joinPush.updatePayload(payload)\n  }\n\n  /**\n   * Leaves the channel\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n  unsubscribe(timeout = this.timeout) {\n    this.state = CHANNEL_STATES.leaving\n    let onClose = () => {\n      this.socket.log('channel', `leave ${this.topic}`)\n      this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef())\n    }\n    // Destroy joinPush to avoid connection timeouts during unscription phase\n    this.joinPush.destroy()\n\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout)\n    leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose())\n    leavePush.send()\n    if (!this.canPush()) {\n      leavePush.trigger('ok', {})\n    }\n\n    return leavePush\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   */\n  onMessage(event: string, payload: any, ref?: string) {\n    return payload\n  }\n\n  isMember(topic: string) {\n    return this.topic === topic\n  }\n\n  joinRef() {\n    return this.joinPush.ref\n  }\n\n  rejoin(timeout = this.timeout) {\n    if (this.isLeaving()) {\n      return\n    }\n    this.socket.leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  trigger(type: string, payload?: any, ref?: string) {\n    const { close, error, leave, join } = CHANNEL_EVENTS\n    const events: string[] = [close, error, leave, join]\n    if (ref && events.indexOf(type) >= 0 && ref !== this.joinRef()) {\n      return\n    }\n    const handledPayload = this.onMessage(type, payload, ref)\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified'\n    }\n\n    this.bindings\n      .filter((bind) => {\n        return (\n          bind?.type === type &&\n          (bind?.eventFilter?.event === '*' ||\n            bind?.eventFilter?.event === payload?.event)\n        )\n      })\n      .map((bind) => bind.callback(handledPayload, ref))\n  }\n\n  send(payload: { type: string; [key: string]: any }) {\n    const push = this.push(payload.type as any, payload)\n\n    return new Promise((resolve, reject) => {\n      push.receive('ok', () => resolve('ok'))\n      push.receive('timeout', () => reject('timeout'))\n    })\n  }\n\n  replyEventName(ref: string) {\n    return `chan_reply_${ref}`\n  }\n\n  isClosed() {\n    return this.state === CHANNEL_STATES.closed\n  }\n  isErrored() {\n    return this.state === CHANNEL_STATES.errored\n  }\n  isJoined() {\n    return this.state === CHANNEL_STATES.joined\n  }\n  isJoining() {\n    return this.state === CHANNEL_STATES.joining\n  }\n  isLeaving() {\n    return this.state === CHANNEL_STATES.leaving\n  }\n\n  private static isEqual(\n    obj1: { [key: string]: string },\n    obj2: { [key: string]: string }\n  ) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n      return false\n    }\n\n    for (const k in obj1) {\n      if (obj1[k] !== obj2[k]) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n","/*\n  This file draws heavily from https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/assets/js/phoenix/presence.js\n  License: https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/LICENSE.md\n*/\n\nimport {\n  PresenceOpts,\n  PresenceOnJoinCallback,\n  PresenceOnLeaveCallback,\n} from 'phoenix'\nimport RealtimeChannel from './RealtimeChannel'\n\ntype Presence = {\n  presence_id: string\n  [key: string]: any\n}\n\ntype PresenceState = { [key: string]: Presence[] }\n\ntype PresenceDiff = {\n  joins: PresenceState\n  leaves: PresenceState\n}\n\ntype RawPresenceState = {\n  [key: string]: Record<\n    'metas',\n    {\n      phx_ref?: string\n      phx_ref_prev?: string\n      [key: string]: any\n    }[]\n  >\n}\n\ntype RawPresenceDiff = {\n  joins: RawPresenceState\n  leaves: RawPresenceState\n}\n\ntype PresenceChooser<T> = (key: string, presences: any) => T\n\nexport default class RealtimePresence {\n  state: PresenceState = {}\n  pendingDiffs: RawPresenceDiff[] = []\n  joinRef: string | null = null\n  caller: {\n    onJoin: PresenceOnJoinCallback\n    onLeave: PresenceOnLeaveCallback\n    onSync: () => void\n  } = {\n    onJoin: () => {},\n    onLeave: () => {},\n    onSync: () => {},\n  }\n\n  /**\n   * Initializes the Presence\n   * @param channel - The RealtimeSubscription\n   * @param opts - The options,\n   *        for example `{events: {state: 'state', diff: 'diff'}}`\n   */\n  constructor(public channel: RealtimeChannel, opts?: PresenceOpts) {\n    const events = opts?.events || {\n      state: 'presence_state',\n      diff: 'presence_diff',\n    }\n\n    this.channel.on(events.state, {}, (newState: RawPresenceState) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      this.joinRef = this.channel.joinRef()\n\n      this.state = RealtimePresence.syncState(\n        this.state,\n        newState,\n        onJoin,\n        onLeave\n      )\n\n      this.pendingDiffs.forEach((diff) => {\n        this.state = RealtimePresence.syncDiff(\n          this.state,\n          diff,\n          onJoin,\n          onLeave\n        )\n      })\n\n      this.pendingDiffs = []\n\n      onSync()\n    })\n\n    this.channel.on(events.diff, {}, (diff: RawPresenceDiff) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      if (this.inPendingSyncState()) {\n        this.pendingDiffs.push(diff)\n      } else {\n        this.state = RealtimePresence.syncDiff(\n          this.state,\n          diff,\n          onJoin,\n          onLeave\n        )\n\n        onSync()\n      }\n    })\n  }\n\n  /**\n   * Used to sync the list of presences on the server\n   * with the client's state. An optional `onJoin` and `onLeave` callback can\n   * be provided to react to changes in the client's local presences across\n   * disconnects and reconnects with the server.\n   */\n  static syncState(\n    currentState: PresenceState,\n    newState: RawPresenceState | PresenceState,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): PresenceState {\n    const state = this.cloneDeep(currentState)\n    const transformedState = this.transformState(newState)\n    const joins: PresenceState = {}\n    const leaves: PresenceState = {}\n\n    this.map(state, (key: string, presences: Presence[]) => {\n      if (!transformedState[key]) {\n        leaves[key] = presences\n      }\n    })\n\n    this.map(transformedState, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key]\n\n      if (currentPresences) {\n        const newPresenceIds = newPresences.map((m: Presence) => m.presence_id)\n        const curPresenceIds = currentPresences.map(\n          (m: Presence) => m.presence_id\n        )\n        const joinedPresences: Presence[] = newPresences.filter(\n          (m: Presence) => curPresenceIds.indexOf(m.presence_id) < 0\n        )\n        const leftPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => newPresenceIds.indexOf(m.presence_id) < 0\n        )\n\n        if (joinedPresences.length > 0) {\n          joins[key] = joinedPresences\n        }\n\n        if (leftPresences.length > 0) {\n          leaves[key] = leftPresences\n        }\n      } else {\n        joins[key] = newPresences\n      }\n    })\n\n    return this.syncDiff(state, { joins, leaves }, onJoin, onLeave)\n  }\n\n  /**\n   *\n   * Used to sync a diff of presence join and leave\n   * events from the server, as they happen. Like `syncState`, `syncDiff`\n   * accepts optional `onJoin` and `onLeave` callbacks to react to a user\n   * joining or leaving from a device.\n   */\n  static syncDiff(\n    state: PresenceState,\n    diff: RawPresenceDiff | PresenceDiff,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): PresenceState {\n    const { joins, leaves } = {\n      joins: this.transformState(diff.joins),\n      leaves: this.transformState(diff.leaves),\n    }\n\n    if (!onJoin) {\n      onJoin = () => {}\n    }\n\n    if (!onLeave) {\n      onLeave = () => {}\n    }\n\n    this.map(joins, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key]\n      state[key] = this.cloneDeep(newPresences)\n\n      if (currentPresences) {\n        const joinedPresenceIds = state[key].map((m: Presence) => m.presence_id)\n        const curPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => joinedPresenceIds.indexOf(m.presence_id) < 0\n        )\n\n        state[key].unshift(...curPresences)\n      }\n\n      onJoin(key, currentPresences, newPresences)\n    })\n\n    this.map(leaves, (key, leftPresences: Presence[]) => {\n      let currentPresences: Presence[] = state[key]\n\n      if (!currentPresences) return\n\n      const presenceIdsToRemove = leftPresences.map(\n        (m: Presence) => m.presence_id\n      )\n      currentPresences = currentPresences.filter(\n        (m: Presence) => presenceIdsToRemove.indexOf(m.presence_id) < 0\n      )\n\n      state[key] = currentPresences\n\n      onLeave(key, currentPresences, leftPresences)\n\n      if (currentPresences.length === 0) delete state[key]\n    })\n\n    return state\n  }\n\n  /**\n   * Returns the array of presences, with selected metadata.\n   */\n  static list<T = any>(\n    presences: PresenceState,\n    chooser: PresenceChooser<T> | undefined\n  ): T[] {\n    if (!chooser) {\n      chooser = (_key, pres) => pres\n    }\n\n    return this.map(presences, (key, presences: Presence[]) =>\n      chooser!(key, presences)\n    )\n  }\n\n  private static map<T = any>(\n    obj: PresenceState,\n    func: PresenceChooser<T>\n  ): T[] {\n    return Object.getOwnPropertyNames(obj).map((key) => func(key, obj[key]))\n  }\n\n  /**\n   * Remove 'metas' key\n   * Change 'phx_ref' to 'presence_id'\n   * Remove 'phx_ref' and 'phx_ref_prev'\n   *\n   * @example\n   * // returns {\n   *  abc123: [\n   *    { presence_id: '2', user_id: 1 },\n   *    { presence_id: '3', user_id: 2 }\n   *  ]\n   * }\n   * RealtimePresence.transformState({\n   *  abc123: {\n   *    metas: [\n   *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },\n   *      { phx_ref: '3', user_id: 2 }\n   *    ]\n   *  }\n   * })\n   */\n  private static transformState(\n    state: RawPresenceState | PresenceState\n  ): PresenceState {\n    state = this.cloneDeep(state)\n\n    return Object.getOwnPropertyNames(state).reduce((newState, key) => {\n      const presences = state[key]\n\n      if ('metas' in presences) {\n        newState[key] = presences.metas.map((presence) => {\n          presence['presence_id'] = presence['phx_ref']\n\n          delete presence['phx_ref']\n          delete presence['phx_ref_prev']\n\n          return presence\n        }) as Presence[]\n      } else {\n        newState[key] = presences\n      }\n\n      return newState\n    }, {} as PresenceState)\n  }\n\n  private static cloneDeep(obj: object) {\n    return JSON.parse(JSON.stringify(obj))\n  }\n\n  onJoin(callback: PresenceOnJoinCallback): void {\n    this.caller.onJoin = callback\n  }\n\n  onLeave(callback: PresenceOnLeaveCallback): void {\n    this.caller.onLeave = callback\n  }\n\n  onSync(callback: () => void): void {\n    this.caller.onSync = callback\n  }\n\n  list<T = any>(by?: PresenceChooser<T>): T[] {\n    return RealtimePresence.list<T>(this.state, by)\n  }\n\n  private inPendingSyncState(): boolean {\n    return !this.joinRef || this.joinRef !== this.channel.joinRef()\n  }\n}\n","import { StorageBucketApi, StorageFileApi } from './lib'\nimport { Fetch } from './lib/fetch'\n\nexport class StorageClient extends StorageBucketApi {\n  constructor(url: string, headers: { [key: string]: string } = {}, fetch?: Fetch) {\n    super(url, headers, fetch)\n  }\n\n  /**\n   * Perform file operation in a bucket.\n   *\n   * @param id The bucket id to operate on.\n   */\n  from(id: string): StorageFileApi {\n    return new StorageFileApi(this.url, this.headers, id, this.fetch)\n  }\n}\n","export * from './StorageBucketApi'\nexport * from './StorageFileApi'\nexport * from './types'\nexport * from './constants'\n","import { DEFAULT_HEADERS } from './constants'\nimport { Fetch, get, post, put, remove } from './fetch'\nimport { resolveFetch } from './helpers'\nimport { Bucket } from './types'\n\nexport class StorageBucketApi {\n  protected url: string\n  protected headers: { [key: string]: string }\n  protected fetch: Fetch\n\n  constructor(url: string, headers: { [key: string]: string } = {}, fetch?: Fetch) {\n    this.url = url\n    this.headers = { ...DEFAULT_HEADERS, ...headers }\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Retrieves the details of all Storage buckets within an existing product.\n   */\n  async listBuckets(): Promise<{ data: Bucket[] | null; error: Error | null }> {\n    try {\n      const data = await get(this.fetch, `${this.url}/bucket`, { headers: this.headers })\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Retrieves the details of an existing Storage bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to retrieve.\n   */\n  async getBucket(id: string): Promise<{ data: Bucket | null; error: Error | null }> {\n    try {\n      const data = await get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers })\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Creates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are creating.\n   * @returns newly created bucket id\n   */\n  async createBucket(\n    id: string,\n    options: { public: boolean } = { public: false }\n  ): Promise<{ data: string | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/bucket`,\n        { id, name: id, public: options.public },\n        { headers: this.headers }\n      )\n      return { data: data.name, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Updates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are creating.\n   */\n  async updateBucket(\n    id: string,\n    options: { public: boolean }\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await put(\n        this.fetch,\n        `${this.url}/bucket/${id}`,\n        { id, name: id, public: options.public },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Removes all objects inside a single bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to empty.\n   */\n  async emptyBucket(\n    id: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/bucket/${id}/empty`,\n        {},\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n   * You must first `empty()` the bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to delete.\n   */\n  async deleteBucket(\n    id: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await remove(\n        this.fetch,\n        `${this.url}/bucket/${id}`,\n        {},\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n}\n","import { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` }\n","// generated by genversion\nexport const version = '0.0.0'\n","export type Fetch = typeof fetch\n\nexport interface FetchOptions {\n  headers?: {\n    [key: string]: string\n  }\n  noResolveJson?: boolean\n}\n\nexport interface FetchParameters {\n  signal?: AbortSignal\n}\n\nexport type RequestMethodType = 'GET' | 'POST' | 'PUT' | 'DELETE'\n\nconst _getErrorMessage = (err: any): string =>\n  err.msg || err.message || err.error_description || err.error || JSON.stringify(err)\n\nconst handleError = (error: any, reject: any) => {\n  if (typeof error.json !== 'function') {\n    return reject(error)\n  }\n  error.json().then((err: any) => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: error?.status || 500,\n    })\n  })\n}\n\nconst _getRequestParams = (\n  method: RequestMethodType,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n) => {\n  const params: { [k: string]: any } = { method, headers: options?.headers || {} }\n\n  if (method === 'GET') {\n    return params\n  }\n\n  params.headers = { 'Content-Type': 'application/json', ...options?.headers }\n  params.body = JSON.stringify(body)\n  return { ...params, ...parameters }\n}\n\nasync function _handleRequest(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n): Promise<any> {\n  return new Promise((resolve, reject) => {\n    fetcher(url, _getRequestParams(method, options, parameters, body))\n      .then((result) => {\n        if (!result.ok) throw result\n        if (options?.noResolveJson) return resolve(result)\n        return result.json()\n      })\n      .then((data) => resolve(data))\n      .catch((error) => handleError(error, reject))\n  })\n}\n\nexport async function get(\n  fetcher: Fetch,\n  url: string,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'GET', url, options, parameters)\n}\n\nexport async function post(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'POST', url, options, parameters, body)\n}\n\nexport async function put(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'PUT', url, options, parameters, body)\n}\n\nexport async function remove(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'DELETE', url, options, parameters, body)\n}\n","import crossFetch from 'cross-fetch'\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = (crossFetch as unknown) as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","import { Fetch, FetchParameters, get, post, remove } from './fetch'\nimport { resolveFetch } from './helpers'\nimport { FileObject, FileOptions, SearchOptions } from './types'\n\nconst DEFAULT_SEARCH_OPTIONS = {\n  limit: 100,\n  offset: 0,\n  sortBy: {\n    column: 'name',\n    order: 'asc',\n  },\n}\n\nconst DEFAULT_FILE_OPTIONS: FileOptions = {\n  cacheControl: '3600',\n  contentType: 'text/plain;charset=UTF-8',\n  upsert: false,\n}\n\nexport class StorageFileApi {\n  protected url: string\n  protected headers: { [key: string]: string }\n  protected bucketId?: string\n  protected fetch: Fetch\n\n  constructor(\n    url: string,\n    headers: { [key: string]: string } = {},\n    bucketId?: string,\n    fetch?: Fetch\n  ) {\n    this.url = url\n    this.headers = headers\n    this.bucketId = bucketId\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n   *\n   * @param method HTTP method.\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  private async uploadOrUpdate(\n    method: 'POST' | 'PUT',\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    try {\n      let body\n      const options = { ...DEFAULT_FILE_OPTIONS, ...fileOptions }\n      const headers: Record<string, string> = {\n        ...this.headers,\n        ...(method === 'POST' && { 'x-upsert': String(options.upsert as boolean) }),\n      }\n\n      if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n        body = new FormData()\n        body.append('cacheControl', options.cacheControl as string)\n        body.append('', fileBody)\n      } else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n        body = fileBody\n        body.append('cacheControl', options.cacheControl as string)\n      } else {\n        body = fileBody\n        headers['cache-control'] = `max-age=${options.cacheControl}`\n        headers['content-type'] = options.contentType as string\n      }\n\n      const cleanPath = this._removeEmptyFolders(path)\n      const _path = this._getFinalPath(cleanPath)\n      const res = await this.fetch(`${this.url}/object/${_path}`, {\n        method,\n        body: body as BodyInit,\n        headers,\n      })\n\n      if (res.ok) {\n        // const data = await res.json()\n        // temporary fix till backend is updated to the latest storage-api version\n        return { data: { Key: _path }, error: null }\n      } else {\n        const error = await res.json()\n        return { data: null, error }\n      }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Uploads a file to an existing bucket.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  async upload(\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    return this.uploadOrUpdate('POST', path, fileBody, fileOptions)\n  }\n\n  /**\n   * Replaces an existing file at the specified path with a new one.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  async update(\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    return this.uploadOrUpdate('PUT', path, fileBody, fileOptions)\n  }\n\n  /**\n   * Moves an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n   */\n  async move(\n    fromPath: string,\n    toPath: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/move`,\n        { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Copies an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n   */\n  async copy(\n    fromPath: string,\n    toPath: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/copy`,\n        { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Create signed URL to download file without requiring permissions. This URL can be valid for a set number of seconds.\n   *\n   * @param path The file path to be downloaded, including the current file name. For example `folder/image.png`.\n   * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n   */\n  async createSignedUrl(\n    path: string,\n    expiresIn: number\n  ): Promise<{\n    data: { signedURL: string } | null\n    error: Error | null\n    signedURL: string | null\n  }> {\n    try {\n      const _path = this._getFinalPath(path)\n      let data = await post(\n        this.fetch,\n        `${this.url}/object/sign/${_path}`,\n        { expiresIn },\n        { headers: this.headers }\n      )\n      const signedURL = `${this.url}${data.signedURL}`\n      data = { signedURL }\n      return { data, error: null, signedURL }\n    } catch (error) {\n      return { data: null, error, signedURL: null }\n    }\n  }\n\n  /**\n   * Create signed URLs to download files without requiring permissions. These URLs can be valid for a set number of seconds.\n   *\n   * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n   * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n   */\n  async createSignedUrls(\n    paths: string[],\n    expiresIn: number\n  ): Promise<{\n    data: { error: string | null; path: string | null; signedURL: string }[] | null\n    error: Error | null\n  }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/sign/${this.bucketId}`,\n        { expiresIn, paths },\n        { headers: this.headers }\n      )\n      return {\n        data: data.map((datum: { signedURL: string }) => ({\n          ...datum,\n          signedURL: datum.signedURL ? `${this.url}${datum.signedURL}` : null,\n        })),\n        error: null,\n      }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Downloads a file.\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n  async download(path: string): Promise<{ data: Blob | null; error: Error | null }> {\n    try {\n      const _path = this._getFinalPath(path)\n      const res = await get(this.fetch, `${this.url}/object/${_path}`, {\n        headers: this.headers,\n        noResolveJson: true,\n      })\n      const data = await res.blob()\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Retrieve URLs for assets in public buckets\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n  getPublicUrl(\n    path: string\n  ): {\n    data: { publicURL: string } | null\n    error: Error | null\n    publicURL: string | null\n  } {\n    try {\n      const _path = this._getFinalPath(path)\n      const publicURL = `${this.url}/object/public/${_path}`\n      const data = { publicURL }\n      return { data, error: null, publicURL }\n    } catch (error) {\n      return { data: null, error, publicURL: null }\n    }\n  }\n\n  /**\n   * Deletes files within the same bucket\n   *\n   * @param paths An array of files to be deleted, including the path and file name. For example [`folder/image.png`].\n   */\n  async remove(paths: string[]): Promise<{ data: FileObject[] | null; error: Error | null }> {\n    try {\n      const data = await remove(\n        this.fetch,\n        `${this.url}/object/${this.bucketId}`,\n        { prefixes: paths },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Get file metadata\n   * @param id the file id to retrieve metadata\n   */\n  // async getMetadata(id: string): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await get(`${this.url}/metadata/${id}`, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Update file metadata\n   * @param id the file id to update metadata\n   * @param meta the new file metadata\n   */\n  // async updateMetadata(\n  //   id: string,\n  //   meta: Metadata\n  // ): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await post(`${this.url}/metadata/${id}`, { ...meta }, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Lists all the files within a bucket.\n   * @param path The folder path.\n   * @param options Search options, including `limit`, `offset`, and `sortBy`.\n   * @param parameters Fetch parameters, currently only supports `signal`, which is an AbortController's signal\n   */\n  async list(\n    path?: string,\n    options?: SearchOptions,\n    parameters?: FetchParameters\n  ): Promise<{ data: FileObject[] | null; error: Error | null }> {\n    try {\n      const body = { ...DEFAULT_SEARCH_OPTIONS, ...options, prefix: path || '' }\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/list/${this.bucketId}`,\n        body,\n        { headers: this.headers },\n        parameters\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  _getFinalPath(path: string) {\n    return `${this.bucketId}/${path}`\n  }\n\n  _removeEmptyFolders(path: string) {\n    return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/')\n  }\n}\n","import { resolveFetch } from './helper'\nimport { Fetch, FunctionInvokeOptions } from './types'\n\nexport class FunctionsClient {\n  protected url: string\n  protected headers: Record<string, string>\n  protected fetch: Fetch\n\n  constructor(\n    url: string,\n    {\n      headers = {},\n      customFetch,\n    }: {\n      headers?: Record<string, string>\n      customFetch?: Fetch\n    } = {}\n  ) {\n    this.url = url\n    this.headers = headers\n    this.fetch = resolveFetch(customFetch)\n  }\n\n  /**\n   * Updates the authorization header\n   * @params token - the new jwt token sent in the authorisation header\n   */\n  setAuth(token: string) {\n    this.headers.Authorization = `Bearer ${token}`\n  }\n\n  /**\n   * Invokes a function\n   * @param functionName - the name of the function to invoke\n   * @param invokeOptions - object with the following properties\n   * `headers`: object representing the headers to send with the request\n   * `body`: the body of the request\n   * `responseType`: how the response should be parsed. The default is `json`\n   */\n  async invoke<T = any>(\n    functionName: string,\n    invokeOptions?: FunctionInvokeOptions\n  ): Promise<{ data: T; error: null } | { data: null; error: Error }> {\n    try {\n      const { headers, body } = invokeOptions ?? {}\n      const response = await this.fetch(`${this.url}/${functionName}`, {\n        method: 'POST',\n        headers: Object.assign({}, this.headers, headers),\n        body,\n      })\n\n      const isRelayError = response.headers.get('x-relay-error')\n      if (isRelayError && isRelayError === 'true') {\n        return { data: null, error: new Error(await response.text()) }\n      }\n\n      let data\n      const { responseType } = invokeOptions ?? {}\n      if (!responseType || responseType === 'json') {\n        data = await response.json()\n      } else if (responseType === 'arrayBuffer') {\n        data = await response.arrayBuffer()\n      } else if (responseType === 'blob') {\n        data = await response.blob()\n      } else {\n        data = await response.text()\n      }\n\n      return { data, error: null }\n    } catch (error: any) {\n      return { data: null, error }\n    }\n  }\n}\n","import crossFetch from 'cross-fetch'\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = crossFetch as unknown as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","/* MIT https://github.com/fabiospampinato/cash */\n(function(){\n\"use strict\";\n\nvar propMap = {\n  /* GENERAL */\n  \"class\": 'className',\n  contenteditable: 'contentEditable',\n\n  /* LABEL */\n  \"for\": 'htmlFor',\n\n  /* INPUT */\n  readonly: 'readOnly',\n  maxlength: 'maxLength',\n  tabindex: 'tabIndex',\n\n  /* TABLE */\n  colspan: 'colSpan',\n  rowspan: 'rowSpan',\n\n  /* IMAGE */\n  usemap: 'useMap'\n};\n\nfunction attempt(fn, arg) {\n  try {\n    return fn(arg);\n  } catch (_a) {\n    return arg;\n  }\n}\n\nvar doc = document,\n    win = window,\n    docEle = doc.documentElement,\n    createElement = doc.createElement.bind(doc),\n    div = createElement('div'),\n    table = createElement('table'),\n    tbody = createElement('tbody'),\n    tr = createElement('tr'),\n    isArray = Array.isArray,\n    ArrayPrototype = Array.prototype,\n    concat = ArrayPrototype.concat,\n    filter = ArrayPrototype.filter,\n    indexOf = ArrayPrototype.indexOf,\n    map = ArrayPrototype.map,\n    push = ArrayPrototype.push,\n    slice = ArrayPrototype.slice,\n    some = ArrayPrototype.some,\n    splice = ArrayPrototype.splice;\nvar idRe = /^#(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    classRe = /^\\.(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    htmlRe = /<.+>/,\n    tagRe = /^\\w+$/; // @require ./variables.ts\n\nfunction find(selector, context) {\n  var isFragment = isDocumentFragment(context);\n  return !selector || !isFragment && !isDocument(context) && !isElement(context) ? [] : !isFragment && classRe.test(selector) ? context.getElementsByClassName(selector.slice(1)) : !isFragment && tagRe.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector);\n} // @require ./find.ts\n// @require ./variables.ts\n\n\nvar Cash =\n/** @class */\nfunction () {\n  function Cash(selector, context) {\n    if (!selector) return;\n    if (isCash(selector)) return selector;\n    var eles = selector;\n\n    if (isString(selector)) {\n      var ctx = (isCash(context) ? context[0] : context) || doc;\n      eles = idRe.test(selector) && 'getElementById' in ctx ? ctx.getElementById(selector.slice(1)) : htmlRe.test(selector) ? parseHTML(selector) : find(selector, ctx);\n      if (!eles) return;\n    } else if (isFunction(selector)) {\n      return this.ready(selector); //FIXME: `fn.ready` is not included in `core`, but it's actually a core functionality\n    }\n\n    if (eles.nodeType || eles === win) eles = [eles];\n    this.length = eles.length;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      this[i] = eles[i];\n    }\n  }\n\n  Cash.prototype.init = function (selector, context) {\n    return new Cash(selector, context);\n  };\n\n  return Cash;\n}();\n\nvar fn = Cash.prototype,\n    cash = fn.init;\ncash.fn = cash.prototype = fn; // Ensuring that `cash () instanceof cash`\n\nfn.length = 0;\nfn.splice = splice; // Ensuring a cash collection gets printed as array-like in Chrome's devtools\n\nif (typeof Symbol === 'function') {\n  // Ensuring a cash collection is iterable\n  fn[Symbol['iterator']] = ArrayPrototype[Symbol['iterator']];\n}\n\nfn.map = function (callback) {\n  return cash(concat.apply([], map.call(this, function (ele, i) {\n    return callback.call(ele, i, ele);\n  })));\n};\n\nfn.slice = function (start, end) {\n  return cash(slice.call(this, start, end));\n}; // @require ./cash.ts\n\n\nvar dashAlphaRe = /-([a-z])/g;\n\nfunction camelCase(str) {\n  return str.replace(dashAlphaRe, function (match, letter) {\n    return letter.toUpperCase();\n  });\n}\n\ncash.guid = 1; // @require ./cash.ts\n\nfunction matches(ele, selector) {\n  var matches = ele && (ele['matches'] || ele['webkitMatchesSelector'] || ele['msMatchesSelector']);\n  return !!matches && !!selector && matches.call(ele, selector);\n}\n\nfunction isCash(x) {\n  return x instanceof Cash;\n}\n\nfunction isWindow(x) {\n  return !!x && x === x.window;\n}\n\nfunction isDocument(x) {\n  return !!x && x.nodeType === 9;\n}\n\nfunction isDocumentFragment(x) {\n  return !!x && x.nodeType === 11;\n}\n\nfunction isElement(x) {\n  return !!x && x.nodeType === 1;\n}\n\nfunction isBoolean(x) {\n  return typeof x === 'boolean';\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isString(x) {\n  return typeof x === 'string';\n}\n\nfunction isUndefined(x) {\n  return x === undefined;\n}\n\nfunction isNull(x) {\n  return x === null;\n}\n\nfunction isNumeric(x) {\n  return !isNaN(parseFloat(x)) && isFinite(x);\n}\n\nfunction isPlainObject(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  var proto = Object.getPrototypeOf(x);\n  return proto === null || proto === Object.prototype;\n}\n\ncash.isWindow = isWindow;\ncash.isFunction = isFunction;\ncash.isArray = isArray;\ncash.isNumeric = isNumeric;\ncash.isPlainObject = isPlainObject;\n\nfn.get = function (index) {\n  if (isUndefined(index)) return slice.call(this);\n  index = Number(index);\n  return this[index < 0 ? index + this.length : index];\n};\n\nfn.eq = function (index) {\n  return cash(this.get(index));\n};\n\nfn.first = function () {\n  return this.eq(0);\n};\n\nfn.last = function () {\n  return this.eq(-1);\n};\n\nfunction each(arr, callback, _reverse) {\n  if (_reverse) {\n    var i = arr.length;\n\n    while (i--) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  } else if (isPlainObject(arr)) {\n    var keys = Object.keys(arr);\n\n    for (var i = 0, l = keys.length; i < l; i++) {\n      var key = keys[i];\n      if (callback.call(arr[key], key, arr[key]) === false) return arr;\n    }\n  } else {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  }\n\n  return arr;\n}\n\ncash.each = each;\n\nfn.each = function (callback) {\n  return each(this, callback);\n};\n\nfn.prop = function (prop, value) {\n  if (!prop) return;\n\n  if (isString(prop)) {\n    prop = propMap[prop] || prop;\n    if (arguments.length < 2) return this[0] && this[0][prop];\n    return this.each(function (i, ele) {\n      ele[prop] = value;\n    });\n  }\n\n  for (var key in prop) {\n    this.prop(key, prop[key]);\n  }\n\n  return this;\n};\n\nfn.removeProp = function (prop) {\n  return this.each(function (i, ele) {\n    delete ele[propMap[prop] || prop];\n  });\n};\n\nfunction extend() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  var deep = isBoolean(sources[0]) ? sources.shift() : false,\n      target = sources.shift(),\n      length = sources.length;\n  if (!target) return {};\n  if (!length) return extend(deep, cash, target);\n\n  for (var i = 0; i < length; i++) {\n    var source = sources[i];\n\n    for (var key in source) {\n      if (deep && (isArray(source[key]) || isPlainObject(source[key]))) {\n        if (!target[key] || target[key].constructor !== source[key].constructor) target[key] = new source[key].constructor();\n        extend(deep, target[key], source[key]);\n      } else {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}\n\ncash.extend = extend;\n\nfn.extend = function (plugins) {\n  return extend(fn, plugins);\n}; // @require ./matches.ts\n// @require ./type_checking.ts\n\n\nfunction getCompareFunction(comparator) {\n  return isString(comparator) ? function (i, ele) {\n    return matches(ele, comparator);\n  } : isFunction(comparator) ? comparator : isCash(comparator) ? function (i, ele) {\n    return comparator.is(ele);\n  } : !comparator ? function () {\n    return false;\n  } : function (i, ele) {\n    return ele === comparator;\n  };\n}\n\nfn.filter = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return cash(filter.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  }));\n}; // @require collection/filter.ts\n\n\nfunction filtered(collection, comparator) {\n  return !comparator ? collection : collection.filter(comparator);\n} // @require ./type_checking.ts\n\n\nvar splitValuesRe = /\\S+/g;\n\nfunction getSplitValues(str) {\n  return isString(str) ? str.match(splitValuesRe) || [] : [];\n}\n\nfn.hasClass = function (cls) {\n  return !!cls && some.call(this, function (ele) {\n    return isElement(ele) && ele.classList.contains(cls);\n  });\n};\n\nfn.removeAttr = function (attr) {\n  var attrs = getSplitValues(attr);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(attrs, function (i, a) {\n      ele.removeAttribute(a);\n    });\n  });\n};\n\nfunction attr(attr, value) {\n  if (!attr) return;\n\n  if (isString(attr)) {\n    if (arguments.length < 2) {\n      if (!this[0] || !isElement(this[0])) return;\n      var value_1 = this[0].getAttribute(attr);\n      return isNull(value_1) ? undefined : value_1;\n    }\n\n    if (isUndefined(value)) return this;\n    if (isNull(value)) return this.removeAttr(attr);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      ele.setAttribute(attr, value);\n    });\n  }\n\n  for (var key in attr) {\n    this.attr(key, attr[key]);\n  }\n\n  return this;\n}\n\nfn.attr = attr;\n\nfn.toggleClass = function (cls, force) {\n  var classes = getSplitValues(cls),\n      isForce = !isUndefined(force);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(classes, function (i, c) {\n      if (isForce) {\n        force ? ele.classList.add(c) : ele.classList.remove(c);\n      } else {\n        ele.classList.toggle(c);\n      }\n    });\n  });\n};\n\nfn.addClass = function (cls) {\n  return this.toggleClass(cls, true);\n};\n\nfn.removeClass = function (cls) {\n  if (arguments.length) return this.toggleClass(cls, false);\n  return this.attr('class', '');\n};\n\nfunction pluck(arr, prop, deep, until) {\n  var plucked = [],\n      isCallback = isFunction(prop),\n      compare = until && getCompareFunction(until);\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    if (isCallback) {\n      var val_1 = prop(arr[i]);\n      if (val_1.length) push.apply(plucked, val_1);\n    } else {\n      var val_2 = arr[i][prop];\n\n      while (val_2 != null) {\n        if (until && compare(-1, val_2)) break;\n        plucked.push(val_2);\n        val_2 = deep ? val_2[prop] : null;\n      }\n    }\n  }\n\n  return plucked;\n}\n\nfunction unique(arr) {\n  return arr.length > 1 ? filter.call(arr, function (item, index, self) {\n    return indexOf.call(self, item) === index;\n  }) : arr;\n}\n\ncash.unique = unique;\n\nfn.add = function (selector, context) {\n  return cash(unique(this.get().concat(cash(selector, context).get())));\n}; // @require core/type_checking.ts\n// @require core/variables.ts\n\n\nfunction computeStyle(ele, prop, isVariable) {\n  if (!isElement(ele)) return;\n  var style = win.getComputedStyle(ele, null);\n  return isVariable ? style.getPropertyValue(prop) || undefined : style[prop] || ele.style[prop];\n} // @require ./compute_style.ts\n\n\nfunction computeStyleInt(ele, prop) {\n  return parseInt(computeStyle(ele, prop), 10) || 0;\n}\n\nvar cssVariableRe = /^--/; // @require ./variables.ts\n\nfunction isCSSVariable(prop) {\n  return cssVariableRe.test(prop);\n} // @require core/camel_case.ts\n// @require core/cash.ts\n// @require core/each.ts\n// @require core/variables.ts\n// @require ./is_css_variable.ts\n\n\nvar prefixedProps = {},\n    style = div.style,\n    vendorsPrefixes = ['webkit', 'moz', 'ms'];\n\nfunction getPrefixedProp(prop, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  if (isVariable) return prop;\n\n  if (!prefixedProps[prop]) {\n    var propCC = camelCase(prop),\n        propUC = \"\" + propCC[0].toUpperCase() + propCC.slice(1),\n        props = (propCC + \" \" + vendorsPrefixes.join(propUC + \" \") + propUC).split(' ');\n    each(props, function (i, p) {\n      if (p in style) {\n        prefixedProps[prop] = p;\n        return false;\n      }\n    });\n  }\n\n  return prefixedProps[prop];\n}\n\n; // @require core/type_checking.ts\n// @require ./is_css_variable.ts\n\nvar numericProps = {\n  animationIterationCount: true,\n  columnCount: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  gridArea: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnStart: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowStart: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true\n};\n\nfunction getSuffixedValue(prop, value, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  return !isVariable && !numericProps[prop] && isNumeric(value) ? value + \"px\" : value;\n}\n\nfunction css(prop, value) {\n  if (isString(prop)) {\n    var isVariable_1 = isCSSVariable(prop);\n    prop = getPrefixedProp(prop, isVariable_1);\n    if (arguments.length < 2) return this[0] && computeStyle(this[0], prop, isVariable_1);\n    if (!prop) return this;\n    value = getSuffixedValue(prop, value, isVariable_1);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n\n      if (isVariable_1) {\n        ele.style.setProperty(prop, value);\n      } else {\n        ele.style[prop] = value;\n      }\n    });\n  }\n\n  for (var key in prop) {\n    this.css(key, prop[key]);\n  }\n\n  return this;\n}\n\n;\nfn.css = css; // @optional ./css.ts\n// @require core/attempt.ts\n// @require core/camel_case.ts\n\nvar JSONStringRe = /^\\s+|\\s+$/;\n\nfunction getData(ele, key) {\n  var value = ele.dataset[key] || ele.dataset[camelCase(key)];\n  if (JSONStringRe.test(value)) return value;\n  return attempt(JSON.parse, value);\n} // @require core/attempt.ts\n// @require core/camel_case.ts\n\n\nfunction setData(ele, key, value) {\n  value = attempt(JSON.stringify, value);\n  ele.dataset[camelCase(key)] = value;\n}\n\nfunction data(name, value) {\n  if (!name) {\n    if (!this[0]) return;\n    var datas = {};\n\n    for (var key in this[0].dataset) {\n      datas[key] = getData(this[0], key);\n    }\n\n    return datas;\n  }\n\n  if (isString(name)) {\n    if (arguments.length < 2) return this[0] && getData(this[0], name);\n    if (isUndefined(value)) return this;\n    return this.each(function (i, ele) {\n      setData(ele, name, value);\n    });\n  }\n\n  for (var key in name) {\n    this.data(key, name[key]);\n  }\n\n  return this;\n}\n\nfn.data = data; // @optional ./data.ts\n\nfunction getDocumentDimension(doc, dimension) {\n  var docEle = doc.documentElement;\n  return Math.max(doc.body[\"scroll\" + dimension], docEle[\"scroll\" + dimension], doc.body[\"offset\" + dimension], docEle[\"offset\" + dimension], docEle[\"client\" + dimension]);\n} // @require css/helpers/compute_style_int.ts\n\n\nfunction getExtraSpace(ele, xAxis) {\n  return computeStyleInt(ele, \"border\" + (xAxis ? 'Left' : 'Top') + \"Width\") + computeStyleInt(ele, \"padding\" + (xAxis ? 'Left' : 'Top')) + computeStyleInt(ele, \"padding\" + (xAxis ? 'Right' : 'Bottom')) + computeStyleInt(ele, \"border\" + (xAxis ? 'Right' : 'Bottom') + \"Width\");\n}\n\neach([true, false], function (i, outer) {\n  each(['Width', 'Height'], function (i, prop) {\n    var name = \"\" + (outer ? 'outer' : 'inner') + prop;\n\n    fn[name] = function (includeMargins) {\n      if (!this[0]) return;\n      if (isWindow(this[0])) return outer ? this[0][\"inner\" + prop] : this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0][\"\" + (outer ? 'offset' : 'client') + prop] + (includeMargins && outer ? computeStyleInt(this[0], \"margin\" + (i ? 'Top' : 'Left')) + computeStyleInt(this[0], \"margin\" + (i ? 'Bottom' : 'Right')) : 0);\n    };\n  });\n});\neach(['Width', 'Height'], function (index, prop) {\n  var propLC = prop.toLowerCase();\n\n  fn[propLC] = function (value) {\n    if (!this[0]) return isUndefined(value) ? undefined : this;\n\n    if (!arguments.length) {\n      if (isWindow(this[0])) return this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0].getBoundingClientRect()[propLC] - getExtraSpace(this[0], !index);\n    }\n\n    var valueNumber = parseInt(value, 10);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      var boxSizing = computeStyle(ele, 'boxSizing');\n      ele.style[propLC] = getSuffixedValue(propLC, valueNumber + (boxSizing === 'border-box' ? getExtraSpace(ele, !index) : 0));\n    });\n  };\n}); // @optional ./inner_outer.ts\n// @optional ./normal.ts\n// @require css/helpers/compute_style.ts\n\nvar defaultDisplay = {};\n\nfunction getDefaultDisplay(tagName) {\n  if (defaultDisplay[tagName]) return defaultDisplay[tagName];\n  var ele = createElement(tagName);\n  doc.body.insertBefore(ele, null);\n  var display = computeStyle(ele, 'display');\n  doc.body.removeChild(ele);\n  return defaultDisplay[tagName] = display !== 'none' ? display : 'block';\n} // @require css/helpers/compute_style.ts\n\n\nfunction isHidden(ele) {\n  return computeStyle(ele, 'display') === 'none';\n}\n\nvar displayProperty = '___cd';\n\nfn.toggle = function (force) {\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    var show = isUndefined(force) ? isHidden(ele) : force;\n\n    if (show) {\n      ele.style.display = ele[displayProperty] || '';\n\n      if (isHidden(ele)) {\n        ele.style.display = getDefaultDisplay(ele.tagName);\n      }\n    } else {\n      ele[displayProperty] = computeStyle(ele, 'display');\n      ele.style.display = 'none';\n    }\n  });\n};\n\nfn.hide = function () {\n  return this.toggle(false);\n};\n\nfn.show = function () {\n  return this.toggle(true);\n}; // @optional ./hide.ts\n// @optional ./show.ts\n// @optional ./toggle.ts\n\n\nfunction hasNamespaces(ns1, ns2) {\n  return !ns2 || !some.call(ns2, function (ns) {\n    return ns1.indexOf(ns) < 0;\n  });\n}\n\nvar eventsNamespace = '___ce',\n    eventsNamespacesSeparator = '.',\n    eventsFocus = {\n  focus: 'focusin',\n  blur: 'focusout'\n},\n    eventsHover = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n},\n    eventsMouseRe = /^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i; // @require ./variables.ts\n\nfunction getEventNameBubbling(name) {\n  return eventsHover[name] || eventsFocus[name] || name;\n} // @require ./variables.ts\n\n\nfunction getEventsCache(ele) {\n  return ele[eventsNamespace] = ele[eventsNamespace] || {};\n} // @require core/guid.ts\n// @require events/helpers/get_events_cache.ts\n\n\nfunction addEvent(ele, name, namespaces, selector, callback) {\n  var eventCache = getEventsCache(ele);\n  eventCache[name] = eventCache[name] || [];\n  eventCache[name].push([namespaces, selector, callback]);\n  ele.addEventListener(name, callback);\n} // @require ./variables.ts\n\n\nfunction parseEventName(eventName) {\n  var parts = eventName.split(eventsNamespacesSeparator);\n  return [parts[0], parts.slice(1).sort()]; // [name, namespace[]]\n} // @require ./get_events_cache.ts\n// @require ./has_namespaces.ts\n// @require ./parse_event_name.ts\n\n\nfunction removeEvent(ele, name, namespaces, selector, callback) {\n  var cache = getEventsCache(ele);\n\n  if (!name) {\n    for (name in cache) {\n      removeEvent(ele, name, namespaces, selector, callback);\n    }\n  } else if (cache[name]) {\n    cache[name] = cache[name].filter(function (_a) {\n      var ns = _a[0],\n          sel = _a[1],\n          cb = _a[2];\n      if (callback && cb.guid !== callback.guid || !hasNamespaces(ns, namespaces) || selector && selector !== sel) return true;\n      ele.removeEventListener(name, cb);\n    });\n  }\n}\n\nfn.off = function (eventFullName, selector, callback) {\n  var _this = this;\n\n  if (isUndefined(eventFullName)) {\n    this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n      removeEvent(ele);\n    });\n  } else if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.off(key, eventFullName[key]);\n    }\n  } else {\n    if (isFunction(selector)) {\n      callback = selector;\n      selector = '';\n    }\n\n    each(getSplitValues(eventFullName), function (i, eventFullName) {\n      var _a = parseEventName(eventFullName),\n          nameOriginal = _a[0],\n          namespaces = _a[1],\n          name = getEventNameBubbling(nameOriginal);\n\n      _this.each(function (i, ele) {\n        if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n        removeEvent(ele, name, namespaces, selector, callback);\n      });\n    });\n  }\n\n  return this;\n};\n\nfunction on(eventFullName, selector, data, callback, _one) {\n  var _this = this;\n\n  if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.on(key, selector, data, eventFullName[key], _one);\n    }\n\n    return this;\n  }\n\n  if (!isString(selector)) {\n    if (isUndefined(selector) || isNull(selector)) {\n      selector = '';\n    } else if (isUndefined(data)) {\n      data = selector;\n      selector = '';\n    } else {\n      callback = data;\n      data = selector;\n      selector = '';\n    }\n  }\n\n  if (!isFunction(callback)) {\n    callback = data;\n    data = undefined;\n  }\n\n  if (!callback) return this;\n  each(getSplitValues(eventFullName), function (i, eventFullName) {\n    var _a = parseEventName(eventFullName),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name = getEventNameBubbling(nameOriginal),\n        isEventHover = (nameOriginal in eventsHover),\n        isEventFocus = (nameOriginal in eventsFocus);\n\n    if (!name) return;\n\n    _this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n\n      var finalCallback = function finalCallback(event) {\n        if (event.target[\"___i\" + event.type]) return event.stopImmediatePropagation(); // Ignoring native event in favor of the upcoming custom one\n\n        if (event.namespace && !hasNamespaces(namespaces, event.namespace.split(eventsNamespacesSeparator))) return;\n        if (!selector && (isEventFocus && (event.target !== ele || event.___ot === name) || isEventHover && event.relatedTarget && ele.contains(event.relatedTarget))) return;\n        var thisArg = ele;\n\n        if (selector) {\n          var target = event.target;\n\n          while (!matches(target, selector)) {\n            if (target === ele) return;\n            target = target.parentNode;\n            if (!target) return;\n          }\n\n          thisArg = target;\n        }\n\n        Object.defineProperty(event, 'currentTarget', {\n          configurable: true,\n          get: function get() {\n            return thisArg;\n          }\n        });\n        Object.defineProperty(event, 'delegateTarget', {\n          configurable: true,\n          get: function get() {\n            return ele;\n          }\n        });\n        Object.defineProperty(event, 'data', {\n          configurable: true,\n          get: function get() {\n            return data;\n          }\n        });\n        var returnValue = callback.call(thisArg, event, event.___td);\n\n        if (_one) {\n          removeEvent(ele, name, namespaces, selector, finalCallback);\n        }\n\n        if (returnValue === false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      };\n\n      finalCallback.guid = callback.guid = callback.guid || cash.guid++;\n      addEvent(ele, name, namespaces, selector, finalCallback);\n    });\n  });\n  return this;\n}\n\nfn.on = on;\n\nfunction one(eventFullName, selector, data, callback) {\n  return this.on(eventFullName, selector, data, callback, true);\n}\n\n;\nfn.one = one;\n\nfn.ready = function (callback) {\n  var cb = function cb() {\n    return setTimeout(callback, 0, cash);\n  };\n\n  if (doc.readyState !== 'loading') {\n    cb();\n  } else {\n    doc.addEventListener('DOMContentLoaded', cb);\n  }\n\n  return this;\n};\n\nfn.trigger = function (event, data) {\n  if (isString(event)) {\n    var _a = parseEventName(event),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name_1 = getEventNameBubbling(nameOriginal);\n\n    if (!name_1) return this;\n    var type = eventsMouseRe.test(name_1) ? 'MouseEvents' : 'HTMLEvents';\n    event = doc.createEvent(type);\n    event.initEvent(name_1, true, true);\n    event.namespace = namespaces.join(eventsNamespacesSeparator);\n    event.___ot = nameOriginal;\n  }\n\n  event.___td = data;\n  var isEventFocus = (event.___ot in eventsFocus);\n  return this.each(function (i, ele) {\n    if (isEventFocus && isFunction(ele[event.___ot])) {\n      ele[\"___i\" + event.type] = true; // Ensuring the native event is ignored\n\n      ele[event.___ot]();\n\n      ele[\"___i\" + event.type] = false; // Ensuring the custom event is not ignored\n    }\n\n    ele.dispatchEvent(event);\n  });\n}; // @optional ./off.ts\n// @optional ./on.ts\n// @optional ./one.ts\n// @optional ./ready.ts\n// @optional ./trigger.ts\n// @require core/pluck.ts\n// @require core/variables.ts\n\n\nfunction getValue(ele) {\n  if (ele.multiple && ele.options) return pluck(filter.call(ele.options, function (option) {\n    return option.selected && !option.disabled && !option.parentNode.disabled;\n  }), 'value');\n  return ele.value || '';\n}\n\nvar queryEncodeSpaceRe = /%20/g,\n    queryEncodeCRLFRe = /\\r?\\n/g;\n\nfunction queryEncode(prop, value) {\n  return \"&\" + encodeURIComponent(prop) + \"=\" + encodeURIComponent(value.replace(queryEncodeCRLFRe, '\\r\\n')).replace(queryEncodeSpaceRe, '+');\n}\n\nvar skippableRe = /file|reset|submit|button|image/i,\n    checkableRe = /radio|checkbox/i;\n\nfn.serialize = function () {\n  var query = '';\n  this.each(function (i, ele) {\n    each(ele.elements || [ele], function (i, ele) {\n      if (ele.disabled || !ele.name || ele.tagName === 'FIELDSET' || skippableRe.test(ele.type) || checkableRe.test(ele.type) && !ele.checked) return;\n      var value = getValue(ele);\n\n      if (!isUndefined(value)) {\n        var values = isArray(value) ? value : [value];\n        each(values, function (i, value) {\n          query += queryEncode(ele.name, value);\n        });\n      }\n    });\n  });\n  return query.slice(1);\n};\n\nfunction val(value) {\n  if (!arguments.length) return this[0] && getValue(this[0]);\n  return this.each(function (i, ele) {\n    var isSelect = ele.multiple && ele.options;\n\n    if (isSelect || checkableRe.test(ele.type)) {\n      var eleValue_1 = isArray(value) ? map.call(value, String) : isNull(value) ? [] : [String(value)];\n\n      if (isSelect) {\n        each(ele.options, function (i, option) {\n          option.selected = eleValue_1.indexOf(option.value) >= 0;\n        }, true);\n      } else {\n        ele.checked = eleValue_1.indexOf(ele.value) >= 0;\n      }\n    } else {\n      ele.value = isUndefined(value) || isNull(value) ? '' : value;\n    }\n  });\n}\n\nfn.val = val;\n\nfn.clone = function () {\n  return this.map(function (i, ele) {\n    return ele.cloneNode(true);\n  });\n};\n\nfn.detach = function (comparator) {\n  filtered(this, comparator).each(function (i, ele) {\n    if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n    }\n  });\n  return this;\n};\n\nvar fragmentRe = /^\\s*<(\\w+)[^>]*>/,\n    singleTagRe = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/;\nvar containers = {\n  '*': div,\n  tr: tbody,\n  td: tr,\n  th: tr,\n  thead: table,\n  tbody: table,\n  tfoot: table\n}; //TODO: Create elements inside a document fragment, in order to prevent inline event handlers from firing\n//TODO: Ensure the created elements have the fragment as their parent instead of null, this also ensures we can deal with detatched nodes more reliably\n\nfunction parseHTML(html) {\n  if (!isString(html)) return [];\n  if (singleTagRe.test(html)) return [createElement(RegExp.$1)];\n  var fragment = fragmentRe.test(html) && RegExp.$1,\n      container = containers[fragment] || containers['*'];\n  container.innerHTML = html;\n  return cash(container.childNodes).detach().get();\n}\n\ncash.parseHTML = parseHTML;\n\nfn.empty = function () {\n  return this.each(function (i, ele) {\n    while (ele.firstChild) {\n      ele.removeChild(ele.firstChild);\n    }\n  });\n};\n\nfunction html(html) {\n  if (!arguments.length) return this[0] && this[0].innerHTML;\n  if (isUndefined(html)) return this;\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.innerHTML = html;\n  });\n}\n\nfn.html = html;\n\nfn.remove = function (comparator) {\n  filtered(this, comparator).detach().off();\n  return this;\n};\n\nfunction text(text) {\n  if (isUndefined(text)) return this[0] ? this[0].textContent : '';\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.textContent = text;\n  });\n}\n\n;\nfn.text = text;\n\nfn.unwrap = function () {\n  this.parent().each(function (i, ele) {\n    if (ele.tagName === 'BODY') return;\n    var $ele = cash(ele);\n    $ele.replaceWith($ele.children());\n  });\n  return this;\n};\n\nfn.offset = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var rect = ele.getBoundingClientRect();\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n};\n\nfn.offsetParent = function () {\n  return this.map(function (i, ele) {\n    var offsetParent = ele.offsetParent;\n\n    while (offsetParent && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n\n    return offsetParent || docEle;\n  });\n};\n\nfn.position = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var isFixed = computeStyle(ele, 'position') === 'fixed',\n      offset = isFixed ? ele.getBoundingClientRect() : this.offset();\n\n  if (!isFixed) {\n    var doc_1 = ele.ownerDocument;\n    var offsetParent = ele.offsetParent || doc_1.documentElement;\n\n    while ((offsetParent === doc_1.body || offsetParent === doc_1.documentElement) && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.parentNode;\n    }\n\n    if (offsetParent !== ele && isElement(offsetParent)) {\n      var parentOffset = cash(offsetParent).offset();\n      offset.top -= parentOffset.top + computeStyleInt(offsetParent, 'borderTopWidth');\n      offset.left -= parentOffset.left + computeStyleInt(offsetParent, 'borderLeftWidth');\n    }\n  }\n\n  return {\n    top: offset.top - computeStyleInt(ele, 'marginTop'),\n    left: offset.left - computeStyleInt(ele, 'marginLeft')\n  };\n};\n\nfn.children = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return ele.children;\n  }))), comparator);\n};\n\nfn.contents = function () {\n  return cash(unique(pluck(this, function (ele) {\n    return ele.tagName === 'IFRAME' ? [ele.contentDocument] : ele.tagName === 'TEMPLATE' ? ele.content.childNodes : ele.childNodes;\n  })));\n};\n\nfn.find = function (selector) {\n  return cash(unique(pluck(this, function (ele) {\n    return find(selector, ele);\n  })));\n}; // @require core/variables.ts\n// @require collection/filter.ts\n// @require traversal/find.ts\n\n\nvar HTMLCDATARe = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n    scriptTypeRe = /^$|^module$|\\/(java|ecma)script/i,\n    scriptAttributes = ['type', 'src', 'nonce', 'noModule'];\n\nfunction evalScripts(node, doc) {\n  var collection = cash(node);\n  collection.filter('script').add(collection.find('script')).each(function (i, ele) {\n    if (scriptTypeRe.test(ele.type) && docEle.contains(ele)) {\n      // The script type is supported // The element is attached to the DOM // Using `documentElement` for broader browser support\n      var script_1 = createElement('script');\n      script_1.text = ele.textContent.replace(HTMLCDATARe, '');\n      each(scriptAttributes, function (i, attr) {\n        if (ele[attr]) script_1[attr] = ele[attr];\n      });\n      doc.head.insertBefore(script_1, null);\n      doc.head.removeChild(script_1);\n    }\n  });\n} // @require ./eval_scripts.ts\n\n\nfunction insertElement(anchor, target, left, inside, evaluate) {\n  if (inside) {\n    // prepend/append\n    anchor.insertBefore(target, left ? anchor.firstChild : null);\n  } else {\n    // before/after\n    if (anchor.nodeName === 'HTML') {\n      anchor.parentNode.replaceChild(target, anchor);\n    } else {\n      anchor.parentNode.insertBefore(target, left ? anchor : anchor.nextSibling);\n    }\n  }\n\n  if (evaluate) {\n    evalScripts(target, anchor.ownerDocument);\n  }\n} // @require ./insert_element.ts\n\n\nfunction insertSelectors(selectors, anchors, inverse, left, inside, reverseLoop1, reverseLoop2, reverseLoop3) {\n  each(selectors, function (si, selector) {\n    each(cash(selector), function (ti, target) {\n      each(cash(anchors), function (ai, anchor) {\n        var anchorFinal = inverse ? target : anchor,\n            targetFinal = inverse ? anchor : target,\n            indexFinal = inverse ? ti : ai;\n        insertElement(anchorFinal, !indexFinal ? targetFinal : targetFinal.cloneNode(true), left, inside, !indexFinal);\n      }, reverseLoop3);\n    }, reverseLoop2);\n  }, reverseLoop1);\n  return anchors;\n}\n\nfn.after = function () {\n  return insertSelectors(arguments, this, false, false, false, true, true);\n};\n\nfn.append = function () {\n  return insertSelectors(arguments, this, false, false, true);\n};\n\nfn.appendTo = function (selector) {\n  return insertSelectors(arguments, this, true, false, true);\n};\n\nfn.before = function () {\n  return insertSelectors(arguments, this, false, true);\n};\n\nfn.insertAfter = function (selector) {\n  return insertSelectors(arguments, this, true, false, false, false, false, true);\n};\n\nfn.insertBefore = function (selector) {\n  return insertSelectors(arguments, this, true, true);\n};\n\nfn.prepend = function () {\n  return insertSelectors(arguments, this, false, true, true, true, true);\n};\n\nfn.prependTo = function (selector) {\n  return insertSelectors(arguments, this, true, true, true, false, false, true);\n};\n\nfn.replaceWith = function (selector) {\n  return this.before(selector).remove();\n};\n\nfn.replaceAll = function (selector) {\n  cash(selector).replaceWith(this);\n  return this;\n};\n\nfn.wrapAll = function (selector) {\n  var structure = cash(selector),\n      wrapper = structure[0];\n\n  while (wrapper.children.length) {\n    wrapper = wrapper.firstElementChild;\n  }\n\n  this.first().before(structure);\n  return this.appendTo(wrapper);\n};\n\nfn.wrap = function (selector) {\n  return this.each(function (i, ele) {\n    var wrapper = cash(selector)[0];\n    cash(ele).wrapAll(!i ? wrapper : wrapper.cloneNode(true));\n  });\n};\n\nfn.wrapInner = function (selector) {\n  return this.each(function (i, ele) {\n    var $ele = cash(ele),\n        contents = $ele.contents();\n    contents.length ? contents.wrapAll(selector) : $ele.append(selector);\n  });\n};\n\nfn.has = function (selector) {\n  var comparator = isString(selector) ? function (i, ele) {\n    return find(selector, ele).length;\n  } : function (i, ele) {\n    return ele.contains(selector);\n  };\n  return this.filter(comparator);\n};\n\nfn.is = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return some.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  });\n};\n\nfn.next = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'nextElementSibling', _all, _until))), comparator);\n};\n\nfn.nextAll = function (comparator) {\n  return this.next(comparator, true);\n};\n\nfn.nextUntil = function (until, comparator) {\n  return this.next(comparator, true, until);\n};\n\nfn.not = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return this.filter(function (i, ele) {\n    return (!isString(comparator) || isElement(ele)) && !compare.call(ele, i, ele);\n  });\n};\n\nfn.parent = function (comparator) {\n  return filtered(cash(unique(pluck(this, 'parentNode'))), comparator);\n};\n\nfn.index = function (selector) {\n  var child = selector ? cash(selector)[0] : this[0],\n      collection = selector ? this : cash(child).parent().children();\n  return indexOf.call(collection, child);\n};\n\nfn.closest = function (comparator) {\n  var filtered = this.filter(comparator);\n  if (filtered.length) return filtered;\n  var $parent = this.parent();\n  if (!$parent.length) return filtered;\n  return $parent.closest(comparator);\n};\n\nfn.parents = function (comparator, _until) {\n  return filtered(cash(unique(pluck(this, 'parentElement', true, _until))), comparator);\n};\n\nfn.parentsUntil = function (until, comparator) {\n  return this.parents(comparator, until);\n};\n\nfn.prev = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'previousElementSibling', _all, _until))), comparator);\n};\n\nfn.prevAll = function (comparator) {\n  return this.prev(comparator, true);\n};\n\nfn.prevUntil = function (until, comparator) {\n  return this.prev(comparator, true, until);\n};\n\nfn.siblings = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return cash(ele).parent().children().not(ele);\n  }))), comparator);\n}; // @optional ./children.ts\n// @optional ./closest.ts\n// @optional ./contents.ts\n// @optional ./find.ts\n// @optional ./has.ts\n// @optional ./is.ts\n// @optional ./next.ts\n// @optional ./next_all.ts\n// @optional ./next_until.ts\n// @optional ./not.ts\n// @optional ./parent.ts\n// @optional ./parents.ts\n// @optional ./parents_until.ts\n// @optional ./prev.ts\n// @optional ./prev_all.ts\n// @optional ./prev_until.ts\n// @optional ./siblings.ts\n// @optional attributes/index.ts\n// @optional collection/index.ts\n// @optional css/index.ts\n// @optional data/index.ts\n// @optional dimensions/index.ts\n// @optional effects/index.ts\n// @optional events/index.ts\n// @optional forms/index.ts\n// @optional manipulation/index.ts\n// @optional offset/index.ts\n// @optional traversal/index.ts\n// @require core/index.ts\n// @priority -100\n// @require ./cash.ts\n// @require ./variables.ts\n\n\nif (typeof exports !== 'undefined') {\n  // Node.js\n  module.exports = cash;\n} else {\n  // Browser\n  win['cash'] = win['$'] = cash;\n}\n})();"],"names":["$hrs9D","parcelRequire","$5a1fcc18818239b9$export$5d730b7aed1a3eb0","supabaseUrl","supabaseKey","options","default","$cb2acc2586e63cf7$var$DEFAULT_OPTIONS","schema","autoRefreshToken","persistSession","detectSessionInUrl","multiTab","headers","$aqcUu","DEFAULT_HEADERS","$cb2acc2586e63cf7$export$2e2bcd8739ae039","functions","$dYsJx","FunctionsClient","this","functionsUrl","_getAuthHeaders","customFetch","fetch","storage","$40FHT","StorageClient","storageUrl","from","table","url","restUrl","$ltdGU","SupabaseQueryBuilder","realtime","shouldThrowOnError","rpc","fn","params","head","count","_initPostgRESTClient","removeAllSubscriptions","allSubs","getSubscriptions","slice","allSubPromises","map","sub","removeSubscription","Promise","all","error","i","data","subscription","_closeSubscription","openSubCount","filter","chan","isJoined","length","disconnect","openSubscriptions","isClosed","unsubError","_unsubscribeSubscription","remove","resolve","unsubscribe","receive","Error","channels","_initSupabaseAuthClient","localStorage","authHeaders","Authorization","apikey","$lLExE","SupabaseAuthClient","authUrl","Object","assign","_initRealtimeClient","$hCLXU","realtimeUrl","$4fzNV","throwOnError","authBearer","_b","_a","auth","session","access_token","_listenForMultiTabEvents","$1vP65","isBrowser","window","addEventListener","e","key","STORAGE_KEY","newSession","JSON","parse","String","newValue","accessToken","currentSession","undefined","previousAccessToken","_c","_handleTokenChanged","console","_listenForAuthEvents","onAuthStateChange","event","token","source","changedAccessToken","setAuth","signOut","constructor","_supabaseUrl","stripTrailingSlash","settings","replace","match","urlParts","split","$796658c002c495ce$export$88a84136db6a4b64","version","$796658c002c495ce$export$86880b4b2e1a2384","$5a10e71ba72d2e8b$export$83d89fbfd8236492","$11a052849a72c68c$export$d95b4586d238a081","$11a052849a72c68c$export$4e09c449d6c407f7","$dgDi5","$fd8d6f7ecee4c43f$export$8199a418bb09bd56","super","$ff5cc4af66e5f82d$export$2e2bcd8739ae039","_createRequestHeaders","jwt","cookieName","cookieOptions","name","getUrlForProvider","provider","urlParams","encodeURIComponent","redirectTo","push","scopes","join","signUpWithEmail","email","password","queryString","$4kCYN","post","gotrue_meta_security","hcaptcha_token","captchaToken","expires_in","expires_at","$iFuwO","expiresAt","signInWithEmail","signUpWithPhone","phone","signInWithPhone","signInWithOpenIDConnect","id_token","nonce","client_id","issuer","sendMagicLinkEmail","shouldCreateUser","create_user","sendMobileOTP","noResolveJson","verifyMobileOTP","type","redirect_to","verifyOTP","inviteUserByEmail","resetPasswordForEmail","refreshAccessToken","refreshToken","refresh_token","setAuthCookie","req","res","method","setHeader","status","end","body","$9RuDq","setCookies","value","domain","maxAge","lifetime","path","sameSite","json","deleteAuthCookie","redirect","getAuthCookieString","getCookieString","getHeader","generateLink","createUser","attributes","user","listUsers","get","users","getUserById","uid","getUserByCookie","cookies","getUserError","getUser","updateUserById","put","deleteUser","updateUser","$2fJ0H","COOKIE_OPTIONS","resolveFetch","$3277443a2e2e5d0f$var$_getErrorMessage","err","msg","message","error_description","stringify","$3277443a2e2e5d0f$var$_handleRequest","fetcher","reject","$3277443a2e2e5d0f$var$_getRequestParams","then","result","ok","catch","$3277443a2e2e5d0f$var$handleError","$3277443a2e2e5d0f$export$3988ae62b71be9a3","$3277443a2e2e5d0f$export$299ba2dee77727e9","$3277443a2e2e5d0f$export$327f7b26ebf455db","$3277443a2e2e5d0f$export$cd7f480d6b8286c3","$ifN14","$1a3fe5970e3d678f$export$7fedf552187f0c3d","$1a3fe5970e3d678f$export$88a84136db6a4b64","$1a3fe5970e3d678f$export$86880b4b2e1a2384","$1a3fe5970e3d678f$export$5d04dceb9d38c3f8","$d49fa64e761ef5ec$export$83d89fbfd8236492","$72e0d3bffec5035c$var$serializeCookie","cookie","secure","val","opt","enc","fieldContentRegExp","TypeError","test","str","isNaN","isFinite","Math","floor","expires","toUTCString","httpOnly","toLowerCase","$72e0d3bffec5035c$var$serialize","Date","now","$72e0d3bffec5035c$export$cabcf1eb6b547ccb","strCookies","c","host","indexOf","endsWith","$72e0d3bffec5035c$var$isSecureEnvironment","previousCookies","Array","prototype","apply","$72e0d3bffec5035c$export$31cdeeae171a741d","$4UH6f","$d973bc9e69b2ee48$export$e02d0a488392f690","expiresIn","round","$d973bc9e69b2ee48$export$31b40729666a4ae0","r","random","toString","$d973bc9e69b2ee48$export$4e09c449d6c407f7","$d973bc9e69b2ee48$export$7a5418d73bdac342","location","href","results","RegExp","exec","decodeURIComponent","$d973bc9e69b2ee48$export$98d92b1aa79f8cc7","_fetch","$parcel$interopDefault","args","global","self","__self__","F","DOMException","exports","support","Symbol","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","call","normalizeName","normalizeValue","iteratorFor","items","iterator","next","shift","done","Headers","forEach","append","isArray","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","text","readAsText","chars","fromCharCode","readArrayBufferAsText","formData","decode","oldValue","has","hasOwnProperty","callback","thisArg","keys","values","entries","methods","Request","input","upcased","credentials","mode","signal","toUpperCase","referrer","form","trim","bytes","Response","bodyInit","statusText","clone","response","redirectStatuses","RangeError","stack","create","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","ponyfill","ctx","module","$d0Nvd","polyfillGlobalThis","$9a8b3f4daaab0da4$var$DEFAULT_OPTIONS","GOTRUE_URL","$9a8b3f4daaab0da4$export$2e2bcd8739ae039","signUp","_removeSession","api","_saveSession","_notifyAllSubscribers","id","signIn","oidc","_handleEmailSignIn","_handlePhoneSignIn","_callRefreshToken","currentUser","_handleProviderSignIn","_handleOpenIDConnectSignIn","refreshSession","update","setSession","token_type","getSessionFromUrl","getParameterByName","provider_token","parseInt","storeSession","recoveryMode","hash","uuid","stateChangeEmitters","delete","confirmed_at","email_confirmed_at","phone_confirmed_at","_recoverSession","getItem","log","_recoverAndRefresh","x","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","setItem","refreshTokenTimer","clearTimeout","removeItem","setTimeout","unref","Map","globalThis","$lVhQP","$9791ac9b23a0d4c4$export$ad067ce270531206","configurable","__magic__","$9Jk6J","$fa16ed25c9b079c4$export$d6b56fa12d975d17","on","_realtime","isConnected","connect","_subscription","$1SmkK","SupabaseRealtimeClient","_headers","_schema","_table","$3184561a440c7b72$export$2e2bcd8739ae039","$rMq0L","$gr54n","$bFKMN","$7157e9f79303e90b$export$2e2bcd8739ae039","PostgrestBuilder","select","columns","quoted","cleanedColumns","searchParams","$8uLlR","insert","upsert","onConflict","returning","prefersHeaders","unshift","reduce","acc","concat","uniqueColumns","Set","column","ignoreDuplicates","URL","$87f7d0ca2a184629$export$3106e21688a06353","onfulfilled","onrejected","includes","res1","$87f7d0ca2a184629$var$__awaiter","isReturnMinimal","countHeader","contentRange","_d","fetchError","details","hint","code","builder","$dm35x","$62f5db1a66d48fa7$export$2e2bcd8739ae039","not","operator","or","filters","foreignTable","eq","neq","gt","gte","lt","lte","like","pattern","ilike","is","in","cleanedValues","s","contains","containedBy","rangeLt","range","rangeGt","rangeGte","rangeLte","rangeAdjacent","overlaps","textSearch","query","config","typePart","configPart","fts","plfts","phfts","wfts","cs","cd","sl","sr","nxl","nxr","adj","ov","$9b8fb9ba6c8fbbd0$export$2e2bcd8739ae039","order","ascending","nullsFirst","existingOrder","limit","to","keyOffset","keyLimit","abortSignal","single","maybeSingle","_this","csv","$053814a4d9a3c4a2$export$2e2bcd8739ae039","$bf7319b12b9dc962$export$88a84136db6a4b64","$e7cd28157aab8678$export$83d89fbfd8236492","$61OEz","$15dc289341002a44$export$a1c0cbe03b169679","getPayloadRecords","payload","records","new","old","convertChangeData","record","old_record","enrichedPayload","commit_timestamp","eventType","errors","subscribe","onError","onClose","socket","tableName","chanParams","topic","userToken","channel","$463a20c8442d7454$export$4d213a7d364021dc","$463a20c8442d7454$export$20ce708a1f594c5e","skipTypes","rec_key","$463a20c8442d7454$export$c054edfec1afa88d","columnName","find","colType","$463a20c8442d7454$export$3df02a362b86a91","$463a20c8442d7454$var$noop","charAt","dataType","$463a20c8442d7454$export$45b10814cc054894","bool","$463a20c8442d7454$export$3c2e6d1b7583eee6","float4","float8","int2","int4","int8","numeric","oid","$463a20c8442d7454$export$a0a81dc3380ce7d3","jsonb","$463a20c8442d7454$export$d5b7a8bf56ee1fe2","timestamp","$463a20c8442d7454$export$eccf8c5d91d19e3a","abstime","date","daterange","int4range","int8range","money","reltime","time","timestamptz","timetz","tsrange","tstzrange","parsedValue","parseFloat","Number","lastIdx","closeBrace","arr","valTrim","_","$cd4b3129f08519b6$var$noop","$cd4b3129f08519b6$export$2e2bcd8739ae039","conn","transport","endPointURL","binaryType","onopen","_onConnOpen","_onConnError","onmessage","onConnMessage","onclose","_onConnClose","reason","_reject","close","heartbeatTimer","clearInterval","reconnectTimer","reset","kind","logger","onOpen","stateChangeCallbacks","onMessage","connectionState","$dnX1y","SOCKET_STATES","connecting","closing","joinRef","isNewVersion","$cd4b3129f08519b6$var$__rest","$7Am4W","$gxl2J","presence","onJoin","currentPresences","newPresences","trigger","onLeave","leftPresences","onSync","ref","encode","sendBuffer","rawMessage","pendingHeartbeatRef","isMember","_appendParams","endPoint","vsn","VSN","makeRef","newRef","updateJoinPayload","user_token","joinedOnce","CHANNEL_EVENTS","leaveOpenTopic","dupChannel","isJoining","_flushSendBuffer","setInterval","_sendHeartbeat","heartbeatIntervalMs","_triggerChanError","scheduleTimeout","prefix","WS_CLOSE_NORMAL","timeout","DEFAULT_TIMEOUT","$bAl6e","w3cwebsocket","longpollerTimeout","serializer","$2qxvp","TRANSPORTS","websocket","reconnectAfterMs","tries","bind","$g3vly","$cd4b3129f08519b6$var$__awaiter","$86f36c67720196a7$var$_globalThis","$86f36c67720196a7$var$NativeWebSocket","WebSocket","MozWebSocket","$86f36c67720196a7$var$W3CWebSocket","uri","protocols","prop","$kFVfN","$91498d1f4c3baf47$var$naiveFallback","__global__","$9beb35519adf9fd9$export$88a84136db6a4b64","$9beb35519adf9fd9$export$df3f558bb9a9c991","$9beb35519adf9fd9$export$7bd623b29ec8e1eb","$9beb35519adf9fd9$export$5e80cf62e56a877b","$9beb35519adf9fd9$export$a6d0320a1563d49e","$9beb35519adf9fd9$export$b83816118db74fe7","$9beb35519adf9fd9$export$8db7548e65d6ea55","$9beb35519adf9fd9$export$b2688bfb999f5751","$9eac742c82bfa4ce$export$83d89fbfd8236492","$bb053df52b5c973e$export$2e2bcd8739ae039","timer","timerCalc","$1c480000c3f83d39$export$2e2bcd8739ae039","rawPayload","_binaryDecode","decoder","TextDecoder","_decodeBroadcast","topicSize","getUint8","eventSize","offset","HEADER_LENGTH","$c0a00d2148d4a98b$export$2e2bcd8739ae039","rejoinUntilConnected","rejoinTimer","rejoin","joinPush","bindings","off","canPush","pushEvent","$9jemB","startTimeout","pushBuffer","updatePayload","state","CHANNEL_STATES","leaving","destroy","leavePush","leave","isLeaving","joining","resend","handledPayload","replyEventName","closed","isErrored","errored","joined","reply","$6c7107bb4019b428$export$2e2bcd8739ae039","_cancelRefEvent","refEvent","receivedResp","sent","_hasReceived","recHooks","timeoutTimer","_cancelTimeout","_matchReceive","h","$585d058bdae8d43c$export$2e2bcd8739ae039","list","configs","binding","eventFilter","isEqual","static","obj1","obj2","k","$aabXy","$76641d7888f8a937$export$2e2bcd8739ae039","currentState","newState","cloneDeep","transformedState","transformState","joins","leaves","presences","newPresenceIds","m","presence_id","curPresenceIds","joinedPresences","syncDiff","diff","joinedPresenceIds","curPresences","presenceIdsToRemove","presences1","chooser","_key","pres","func","metas","caller","by","inPendingSyncState","opts","pendingDiffs","events","syncState","$25uA1","$2eb783a76edf6e8b$export$6c85f5032e75eff9","StorageBucketApi","$lxP8O","StorageFileApi","$1853c4edeb3a3e90$export$698875e798f36d2d","listBuckets","$gwPoW","getBucket","createBucket","public","updateBucket","emptyBucket","deleteBucket","$ghg3O","$ajjnG","$bd9ab129bfc6e9f0$export$88a84136db6a4b64","$ebf4e74345f99280$export$83d89fbfd8236492","$c08781b5383b8ae1$var$_getErrorMessage","$c08781b5383b8ae1$var$_handleRequest","parameters","$c08781b5383b8ae1$var$_getRequestParams","$c08781b5383b8ae1$var$handleError","$c08781b5383b8ae1$export$3988ae62b71be9a3","$c08781b5383b8ae1$export$299ba2dee77727e9","$c08781b5383b8ae1$export$327f7b26ebf455db","$c08781b5383b8ae1$export$cd7f480d6b8286c3","$781ab65ed1f6c2c7$export$98d92b1aa79f8cc7","$faf4599912246a1f$var$DEFAULT_SEARCH_OPTIONS","sortBy","$faf4599912246a1f$var$DEFAULT_FILE_OPTIONS","cacheControl","contentType","$faf4599912246a1f$export$f62f1779c09b9522","uploadOrUpdate","fileBody","fileOptions","cleanPath","_removeEmptyFolders","_path","_getFinalPath","Key","upload","move","fromPath","toPath","bucketId","sourceKey","destinationKey","copy","createSignedUrl","signedURL","createSignedUrls","paths","datum","download","getPublicUrl","publicURL","prefixes","$a2c72ad9e2247a38$export$1d0b400bf8a0fa55","invoke","functionName","invokeOptions","isRelayError","$24UDp","$1837e2f814e6b26b$export$98d92b1aa79f8cc7","propMap","class","contenteditable","for","readonly","maxlength","tabindex","colspan","rowspan","usemap","attempt","arg","doc1","document","win","docEle1","documentElement","createElement","div","tbody","tr","ArrayPrototype","some","splice","idRe","classRe","htmlRe","tagRe","selector","context","isFragment","nodeType","isDocument","isElement","getElementsByClassName","getElementsByTagName","querySelectorAll","Cash1","Cash","isCash","eles","isString","getElementById","parseHTML","isFunction","ready","l","fn1","cash","ele","start","dashAlphaRe","camelCase","letter","matches1","matches","isWindow","isBoolean","isUndefined","isNull","isNumeric","isPlainObject","proto","getPrototypeOf","each","_reverse","extend","sources","_i","arguments","deep","target","getCompareFunction","comparator","filtered1","collection","guid","index","first","last","removeProp","plugins","compare","splitValuesRe","getSplitValues","pluck","until","plucked","isCallback","val_1","val_2","unique","item","computeStyle","isVariable","style","getComputedStyle","getPropertyValue","computeStyleInt","hasClass","cls","classList","removeAttr","attr","attrs","a","removeAttribute","value_1","getAttribute","setAttribute","toggleClass","force","classes","isForce","add","toggle","addClass","removeClass","cssVariableRe","isCSSVariable","prefixedProps","style1","vendorsPrefixes","getPrefixedProp","propCC","propUC","p","numericProps","animationIterationCount","columnCount","flexGrow","flexShrink","fontWeight","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","opacity","orphans","widows","zIndex","getSuffixedValue","css","isVariable_1","setProperty","JSONStringRe","getData","dataset","setData","getDocumentDimension","doc","dimension","docEle","max","getExtraSpace","xAxis","datas","i1","outer","includeMargins","propLC","getBoundingClientRect","valueNumber","boxSizing","defaultDisplay","isHidden","hasNamespaces","ns1","ns2","ns","display","tagName","insertBefore","removeChild","getDefaultDisplay","hide","show","eventsFocus","focus","blur","eventsHover","mouseenter","mouseleave","eventsMouseRe","getEventNameBubbling","getEventsCache","parseEventName","eventName","sort","removeEvent","namespaces","cache","sel","cb","getValue","multiple","option","selected","disabled","parentNode","eventFullName1","eventFullName","nameOriginal","eventFullName2","_one","isEventHover","isEventFocus","finalCallback1","finalCallback","stopImmediatePropagation","namespace","___ot","relatedTarget","returnValue","___td","preventDefault","stopPropagation","eventCache","addEvent","one","name_1","createEvent","initEvent","dispatchEvent","queryEncodeSpaceRe","queryEncodeCRLFRe","skippableRe","checkableRe","serialize","ele1","elements","checked","value1","queryEncode","isSelect","eleValue_1","cloneNode","detach","fragmentRe","singleTagRe","containers","td","th","thead","tfoot","html","$1","fragment","container","innerHTML","childNodes","empty","firstChild","textContent","unwrap","parent","$ele","replaceWith","children","rect","top","pageYOffset","left","pageXOffset","offsetParent","position","isFixed","doc_1","ownerDocument","parentOffset","contents","contentDocument","content","HTMLCDATARe","scriptTypeRe","scriptAttributes","insertElement","anchor","inside","evaluate","node","nodeName","replaceChild","nextSibling","script_1","insertSelectors","selectors","anchors","inverse","reverseLoop1","reverseLoop2","reverseLoop3","si","ti","ai","targetFinal","indexFinal","after","appendTo","before","insertAfter","prepend","prependTo","replaceAll","wrapAll","structure","wrapper","firstElementChild","wrap","wrapInner","_all","_until","nextAll","nextUntil","child","closest","filtered","$parent","parents","parentsUntil","prev","prevAll","prevUntil","siblings"],"version":3,"file":"order.8e694cb6.js.map"}