{"mappings":"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","sources":["node_modules/@supabase/supabase-js/src/index.ts","node_modules/@supabase/supabase-js/src/SupabaseClient.ts","node_modules/@swc/helpers/src/_class_call_check.js","node_modules/@swc/helpers/src/_create_class.js","node_modules/@swc/helpers/src/_create_super.js","node_modules/@swc/helpers/src/_is_native_reflect_construct.js","node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/@swc/helpers/src/_type_of.js","node_modules/@swc/helpers/src/_inherits.js","node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/src/_array_like_to_array.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/regenerator-runtime/runtime.js","node_modules/@supabase/supabase-js/src/lib/constants.ts","node_modules/@supabase/supabase-js/src/lib/version.ts","node_modules/@supabase/supabase-js/src/lib/helpers.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts","node_modules/@supabase/gotrue-js/src/index.ts","node_modules/@supabase/gotrue-js/src/GoTrueApi.ts","node_modules/@supabase/gotrue-js/src/lib/fetch.ts","node_modules/@supabase/gotrue-js/src/lib/constants.ts","node_modules/@supabase/gotrue-js/src/lib/version.ts","node_modules/@supabase/gotrue-js/src/lib/cookies.ts","node_modules/@supabase/gotrue-js/src/lib/helpers.ts","node_modules/cross-fetch/dist/browser-ponyfill.js","node_modules/@supabase/gotrue-js/src/GoTrueClient.ts","node_modules/@supabase/gotrue-js/src/lib/polyfills.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseQueryBuilder.ts","node_modules/@supabase/postgrest-js/src/index.ts","node_modules/@supabase/postgrest-js/src/PostgrestClient.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestQueryBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/types.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestFilterBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestTransformBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestRpcBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/constants.ts","node_modules/@supabase/postgrest-js/src/lib/version.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseRealtimeClient.ts","node_modules/@supabase/realtime-js/src/index.ts","node_modules/@supabase/realtime-js/src/lib/transformers.ts","node_modules/@supabase/realtime-js/src/RealtimeClient.ts","node_modules/websocket/lib/browser.js","node_modules/es5-ext/global.js","node_modules/websocket/lib/version.js","node_modules/websocket/package.json","node_modules/@supabase/realtime-js/src/lib/constants.ts","node_modules/@supabase/realtime-js/src/lib/version.ts","node_modules/@supabase/realtime-js/src/lib/timer.ts","node_modules/@supabase/realtime-js/src/lib/serializer.ts","node_modules/@supabase/realtime-js/src/RealtimeSubscription.ts","node_modules/@supabase/realtime-js/src/lib/push.ts","node_modules/@supabase/realtime-js/src/RealtimeChannel.ts","node_modules/@supabase/realtime-js/src/RealtimePresence.ts","node_modules/@supabase/storage-js/src/StorageClient.ts","node_modules/@supabase/storage-js/src/lib/index.ts","node_modules/@supabase/storage-js/src/lib/StorageBucketApi.ts","node_modules/@supabase/storage-js/src/lib/constants.ts","node_modules/@supabase/storage-js/src/lib/version.ts","node_modules/@supabase/storage-js/src/lib/fetch.ts","node_modules/@supabase/storage-js/src/lib/helpers.ts","node_modules/@supabase/storage-js/src/lib/StorageFileApi.ts","node_modules/@supabase/functions-js/src/index.ts","node_modules/@supabase/functions-js/src/helper.ts","node_modules/cash-dom/dist/cash.js"],"sourcesContent":["import SupabaseClient from './SupabaseClient'\nimport { SupabaseClientOptions, SupabaseRealtimePayload } from './lib/types'\nimport { User as AuthUser, Session as AuthSession } from '@supabase/gotrue-js'\nexport * from '@supabase/gotrue-js'\nexport {\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n  PostgrestError,\n} from '@supabase/postgrest-js'\nexport * from '@supabase/realtime-js'\n\n/**\n * Creates a new Supabase Client.\n */\nconst createClient = (\n  supabaseUrl: string,\n  supabaseKey: string,\n  options?: SupabaseClientOptions\n): SupabaseClient => {\n  return new SupabaseClient(supabaseUrl, supabaseKey, options)\n}\n\nexport {\n  createClient,\n  SupabaseClient,\n  SupabaseClientOptions,\n  SupabaseRealtimePayload,\n  AuthUser,\n  AuthSession,\n}\n","import { DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants'\nimport { stripTrailingSlash, isBrowser } from './lib/helpers'\nimport { Fetch, GenericObject, SupabaseClientOptions } from './lib/types'\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient'\nimport { SupabaseQueryBuilder } from './lib/SupabaseQueryBuilder'\nimport { SupabaseStorageClient } from '@supabase/storage-js'\nimport { FunctionsClient } from '@supabase/functions-js'\nimport { PostgrestClient } from '@supabase/postgrest-js'\nimport { AuthChangeEvent } from '@supabase/gotrue-js'\nimport { RealtimeClient, RealtimeSubscription, RealtimeClientOptions } from '@supabase/realtime-js'\n\nconst DEFAULT_OPTIONS = {\n  schema: 'public',\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS,\n}\n\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n  /**\n   * Supabase Auth allows you to create and manage user sessions for access to data that is secured by access policies.\n   */\n  auth: SupabaseAuthClient\n\n  protected schema: string\n  protected restUrl: string\n  protected realtimeUrl: string\n  protected authUrl: string\n  protected storageUrl: string\n  protected functionsUrl: string\n  protected realtime: RealtimeClient\n  protected multiTab: boolean\n  protected fetch?: Fetch\n  protected changedAccessToken: string | undefined\n  protected shouldThrowOnError: boolean\n\n  protected headers: {\n    [key: string]: string\n  }\n\n  /**\n   * Create a new client for use in the browser.\n   * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n   * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n   * @param options.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.headers Any additional headers to send with each network request.\n   * @param options.realtime Options passed along to realtime-js constructor.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(\n    protected supabaseUrl: string,\n    protected supabaseKey: string,\n    options?: SupabaseClientOptions\n  ) {\n    if (!supabaseUrl) throw new Error('supabaseUrl is required.')\n    if (!supabaseKey) throw new Error('supabaseKey is required.')\n\n    const _supabaseUrl = stripTrailingSlash(supabaseUrl)\n    const settings = { ...DEFAULT_OPTIONS, ...options }\n\n    this.restUrl = `${_supabaseUrl}/rest/v1`\n    this.realtimeUrl = `${_supabaseUrl}/realtime/v1`.replace('http', 'ws')\n    this.authUrl = `${_supabaseUrl}/auth/v1`\n    this.storageUrl = `${_supabaseUrl}/storage/v1`\n\n    const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/)\n    if (isPlatform) {\n      const urlParts = _supabaseUrl.split('.')\n      this.functionsUrl = `${urlParts[0]}.functions.${urlParts[1]}.${urlParts[2]}`\n    } else {\n      this.functionsUrl = `${_supabaseUrl}/functions/v1`\n    }\n\n    this.schema = settings.schema\n    this.multiTab = settings.multiTab\n    this.fetch = settings.fetch\n    this.headers = { ...DEFAULT_HEADERS, ...options?.headers }\n    this.shouldThrowOnError = settings.shouldThrowOnError || false\n\n    this.auth = this._initSupabaseAuthClient(settings)\n    this.realtime = this._initRealtimeClient({ headers: this.headers, ...settings.realtime })\n\n    this._listenForAuthEvents()\n    this._listenForMultiTabEvents()\n\n    // In the future we might allow the user to pass in a logger to receive these events.\n    // this.realtime.onOpen(() => console.log('OPEN'))\n    // this.realtime.onClose(() => console.log('CLOSED'))\n    // this.realtime.onError((e: Error) => console.log('Socket error', e))\n  }\n\n  /**\n   * Supabase Functions allows you to deploy and invoke edge functions.\n   */\n  get functions() {\n    return new FunctionsClient(this.functionsUrl, {\n      headers: this._getAuthHeaders(),\n      customFetch: this.fetch,\n    })\n  }\n\n  /**\n   * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n   */\n  get storage() {\n    return new SupabaseStorageClient(this.storageUrl, this._getAuthHeaders(), this.fetch)\n  }\n\n  /**\n   * Perform a table operation.\n   *\n   * @param table The table name to operate on.\n   */\n  from<T = any>(table: string): SupabaseQueryBuilder<T> {\n    const url = `${this.restUrl}/${table}`\n    return new SupabaseQueryBuilder<T>(url, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      realtime: this.realtime,\n      table,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    })\n  }\n\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head   When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   *\n   */\n  rpc<T = any>(\n    fn: string,\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: { head?: boolean; count?: null | 'exact' | 'planned' | 'estimated' } = {}\n  ) {\n    const rest = this._initPostgRESTClient()\n    return rest.rpc<T>(fn, params, { head, count })\n  }\n\n  /**\n   * Closes and removes all subscriptions and returns a list of removed\n   * subscriptions and their errors.\n   */\n  async removeAllSubscriptions(): Promise<\n    { data: { subscription: RealtimeSubscription }; error: Error | null }[]\n  > {\n    const allSubs: RealtimeSubscription[] = this.getSubscriptions().slice()\n    const allSubPromises = allSubs.map((sub) => this.removeSubscription(sub))\n    const allRemovedSubs = await Promise.all(allSubPromises)\n\n    return allRemovedSubs.map(({ error }, i) => {\n      return {\n        data: { subscription: allSubs[i] },\n        error,\n      }\n    })\n  }\n\n  /**\n   * Closes and removes a subscription and returns the number of open subscriptions.\n   *\n   * @param subscription The subscription you want to close and remove.\n   */\n  async removeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ data: { openSubscriptions: number }; error: Error | null }> {\n    const { error } = await this._closeSubscription(subscription)\n    const allSubs: RealtimeSubscription[] = this.getSubscriptions()\n    const openSubCount = allSubs.filter((chan) => chan.isJoined()).length\n\n    if (allSubs.length === 0) await this.realtime.disconnect()\n\n    return { data: { openSubscriptions: openSubCount }, error }\n  }\n\n  private async _closeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ error: Error | null }> {\n    let error = null\n\n    if (!subscription.isClosed()) {\n      const { error: unsubError } = await this._unsubscribeSubscription(subscription)\n      error = unsubError\n    }\n\n    this.realtime.remove(subscription)\n\n    return { error }\n  }\n\n  private _unsubscribeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ error: Error | null }> {\n    return new Promise((resolve) => {\n      subscription\n        .unsubscribe()\n        .receive('ok', () => resolve({ error: null }))\n        .receive('error', (error: Error) => resolve({ error }))\n        .receive('timeout', () => resolve({ error: new Error('timed out') }))\n    })\n  }\n\n  /**\n   * Returns an array of all your subscriptions.\n   */\n  getSubscriptions(): RealtimeSubscription[] {\n    return this.realtime.channels as RealtimeSubscription[]\n  }\n\n  private _initSupabaseAuthClient({\n    autoRefreshToken,\n    persistSession,\n    detectSessionInUrl,\n    localStorage,\n    headers,\n    fetch,\n  }: SupabaseClientOptions) {\n    const authHeaders = {\n      Authorization: `Bearer ${this.supabaseKey}`,\n      apikey: `${this.supabaseKey}`,\n    }\n    return new SupabaseAuthClient({\n      url: this.authUrl,\n      headers: { ...headers, ...authHeaders },\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      localStorage,\n      fetch,\n    })\n  }\n\n  private _initRealtimeClient(options?: RealtimeClientOptions) {\n    return new RealtimeClient(this.realtimeUrl, {\n      ...options,\n      params: { ...options?.params, apikey: this.supabaseKey },\n    })\n  }\n\n  private _initPostgRESTClient() {\n    return new PostgrestClient(this.restUrl, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      fetch: this.fetch,\n      throwOnError: this.shouldThrowOnError,\n    })\n  }\n\n  private _getAuthHeaders(): GenericObject {\n    const headers: GenericObject = { ...this.headers }\n    const authBearer = this.auth.session()?.access_token ?? this.supabaseKey\n    headers['apikey'] = this.supabaseKey\n    headers['Authorization'] = headers['Authorization'] || `Bearer ${authBearer}`\n    return headers\n  }\n\n  private _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !window?.addEventListener) {\n      return null\n    }\n\n    try {\n      return window?.addEventListener('storage', (e: StorageEvent) => {\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue))\n          const accessToken: string | undefined =\n            newSession?.currentSession?.access_token ?? undefined\n          const previousAccessToken = this.auth.session()?.access_token\n          if (!accessToken) {\n            this._handleTokenChanged('SIGNED_OUT', accessToken, 'STORAGE')\n          } else if (!previousAccessToken && accessToken) {\n            this._handleTokenChanged('SIGNED_IN', accessToken, 'STORAGE')\n          } else if (previousAccessToken !== accessToken) {\n            this._handleTokenChanged('TOKEN_REFRESHED', accessToken, 'STORAGE')\n          }\n        }\n      })\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error)\n      return null\n    }\n  }\n\n  private _listenForAuthEvents() {\n    let { data } = this.auth.onAuthStateChange((event, session) => {\n      this._handleTokenChanged(event, session?.access_token, 'CLIENT')\n    })\n    return data\n  }\n\n  private _handleTokenChanged(\n    event: AuthChangeEvent,\n    token: string | undefined,\n    source: 'CLIENT' | 'STORAGE'\n  ) {\n    if (\n      (event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n      this.changedAccessToken !== token\n    ) {\n      // Token has changed\n      this.realtime.setAuth(token!)\n      // Ideally we should call this.auth.recoverSession() - need to make public\n      // to trigger a \"SIGNED_IN\" event on this client.\n      if (source == 'STORAGE') this.auth.setAuth(token!)\n\n      this.changedAccessToken = token\n    } else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n      // Token is removed\n      this.realtime.setAuth(this.supabaseKey)\n      if (source == 'STORAGE') this.auth.signOut()\n    }\n  }\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","import _isNativeReflectConstruct from \"./_is_native_reflect_construct\";\nimport _getPrototypeOf from \"./_get_prototype_of\";\nimport _possibleConstructorReturn from './_possible_constructor_return';\n\nexport default function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _getPrototypeOf(Derived),\n            result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _getPrototypeOf(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _possibleConstructorReturn(this, result);\n    };\n}","export default function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { }));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","export default function _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","import _arrayLikeToArray from './_array_like_to_array';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// constants.ts\nimport { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js/${version}` }\nexport const STORAGE_KEY = 'supabase.auth.token'\n","export const version = '1.33.3'\n","// helpers.ts\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport function stripTrailingSlash(url: string): string {\n  return url.replace(/\\/$/, '')\n}\n\nexport const isBrowser = () => typeof window !== 'undefined'\n","import { GoTrueClient } from '@supabase/gotrue-js'\nimport { SupabaseAuthClientOptions } from './types'\n\nexport class SupabaseAuthClient extends GoTrueClient {\n  constructor(options: SupabaseAuthClientOptions) {\n    super(options)\n  }\n}\n","import GoTrueApi from './GoTrueApi'\nimport GoTrueClient from './GoTrueClient'\n\nexport { GoTrueApi, GoTrueClient }\nexport * from './lib/types'\n","import { Fetch, get, post, put, remove } from './lib/fetch'\nimport {\n  Session,\n  Provider,\n  AdminUserAttributes,\n  UserAttributes,\n  CookieOptions,\n  User,\n  OpenIDConnectCredentials,\n  VerifyOTPParams,\n} from './lib/types'\nimport { COOKIE_OPTIONS } from './lib/constants'\nimport { setCookies, getCookieString } from './lib/cookies'\nimport { expiresAt, resolveFetch } from './lib/helpers'\n\nimport type { ApiError } from './lib/types'\nexport default class GoTrueApi {\n  protected url: string\n  protected headers: {\n    [key: string]: string\n  }\n  protected cookieOptions: CookieOptions\n  protected fetch: Fetch\n\n  constructor({\n    url = '',\n    headers = {},\n    cookieOptions,\n    fetch,\n  }: {\n    url: string\n    headers?: {\n      [key: string]: string\n    }\n    cookieOptions?: CookieOptions\n    fetch?: Fetch\n  }) {\n    this.url = url\n    this.headers = headers\n    this.cookieOptions = { ...COOKIE_OPTIONS, ...cookieOptions }\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Create a temporary object with all configured headers and\n   * adds the Authorization token to be used on request methods\n   * @param jwt A valid, logged-in JWT.\n   */\n  private _createRequestHeaders(jwt: string) {\n    const headers = { ...this.headers }\n    headers['Authorization'] = `Bearer ${jwt}`\n    return headers\n  }\n\n  private cookieName() {\n    return this.cookieOptions.name ?? ''\n  }\n\n  /**\n   * Generates the relevant login URL for a third-party provider.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n  getUrlForProvider(\n    provider: Provider,\n    options: {\n      redirectTo?: string\n      scopes?: string\n    }\n  ) {\n    const urlParams: string[] = [`provider=${encodeURIComponent(provider)}`]\n    if (options?.redirectTo) {\n      urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`)\n    }\n    if (options?.scopes) {\n      urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`)\n    }\n    return `${this.url}/authorize?${urlParams.join('&')}`\n  }\n\n  /**\n   * Creates a new user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata.\n   *\n   * @returns A logged-in session if the server has \"autoconfirm\" ON\n   * @returns A user if the server has \"autoconfirm\" OFF\n   */\n  async signUpWithEmail(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString = '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/signup${queryString}`,\n        {\n          email,\n          password,\n          data: options.data,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an existing user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async signInWithEmail(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = '?grant_type=password'\n      if (options.redirectTo) {\n        queryString += '&redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { email, password },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Signs up a new user using their phone number and a password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   * @param data Optional user metadata.\n   */\n  async signUpWithPhone(\n    phone: string,\n    password: string,\n    options: {\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/signup`,\n        {\n          phone,\n          password,\n          data: options.data,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an existing user using their phone number and password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   */\n  async signInWithPhone(\n    phone: string,\n    password: string\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const queryString = '?grant_type=password'\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { phone, password },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an OpenID Connect user using their id_token.\n   * @param id_token The IDToken of the user.\n   * @param nonce The nonce of the user. The nonce is a random value generated by the developer (= yourself) before the initial grant is started. You should check the OpenID Connect specification for details. https://openid.net/developers/specs/\n   * @param provider The provider of the user.\n   * @param client_id The clientID of the user.\n   * @param issuer The issuer of the user.\n   */\n  async signInWithOpenIDConnect({\n    id_token,\n    nonce,\n    client_id,\n    issuer,\n    provider,\n  }: OpenIDConnectCredentials): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const queryString = '?grant_type=id_token'\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { id_token, nonce, client_id, issuer, provider },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a magic login link to an email address.\n   * @param email The email address of the user.\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async sendMagicLinkEmail(\n    email: string,\n    options: {\n      shouldCreateUser?: boolean\n      redirectTo?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n\n      const shouldCreateUser = options.shouldCreateUser ?? true\n      const data = await post(\n        this.fetch,\n        `${this.url}/otp${queryString}`,\n        {\n          email,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a mobile OTP via SMS. Will register the account if it doesn't already exist\n   * @param phone The user's phone number WITH international prefix\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   */\n  async sendMobileOTP(\n    phone: string,\n    options: {\n      shouldCreateUser?: boolean\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const shouldCreateUser = options.shouldCreateUser ?? true\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/otp`,\n        {\n          phone,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Removes a logged-in session.\n   * @param jwt A valid, logged-in JWT.\n   */\n  async signOut(jwt: string): Promise<{ error: ApiError | null }> {\n    try {\n      await post(\n        this.fetch,\n        `${this.url}/logout`,\n        {},\n        { headers: this._createRequestHeaders(jwt), noResolveJson: true }\n      )\n      return { error: null }\n    } catch (e) {\n      return { error: e as ApiError }\n    }\n  }\n\n  /**\n   * @deprecated Use `verifyOTP` instead!\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyMobileOTP(\n    phone: string,\n    token: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/verify`,\n        { phone, token, type: 'sms', redirect_to: options.redirectTo },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Send User supplied Email / Mobile OTP to be verified\n   * @param email The user's email address\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param type verification type that the otp is generated for\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyOTP(\n    { email, phone, token, type = 'sms' }: VerifyOTPParams,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/verify`,\n        { email, phone, token, type, redirect_to: options.redirectTo },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends an invite link to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata\n   */\n  async inviteUserByEmail(\n    email: string,\n    options: {\n      redirectTo?: string\n      data?: object\n    } = {}\n  ): Promise<{ data: User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/invite${queryString}`,\n        { email, data: options.data },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a reset request to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async resetPasswordForEmail(\n    email: string,\n    options: {\n      redirectTo?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/recover${queryString}`,\n        { email, gotrue_meta_security: { hcaptcha_token: options.captchaToken } },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Generates a new JWT.\n   * @param refreshToken A valid refresh token that was returned on login.\n   */\n  async refreshAccessToken(\n    refreshToken: string\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const data: any = await post(\n        this.fetch,\n        `${this.url}/token?grant_type=refresh_token`,\n        { refresh_token: refreshToken },\n        { headers: this.headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Set/delete the auth cookie based on the AuthChangeEvent.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   * @param req The request object.\n   * @param res The response object.\n   */\n  setAuthCookie(req: any, res: any) {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST')\n      res.status(405).end('Method Not Allowed')\n    }\n    const { event, session } = req.body\n\n    if (!event) throw new Error('Auth event missing!')\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!')\n      setCookies(\n        req,\n        res,\n        [\n          { key: 'access-token', value: session.access_token },\n          { key: 'refresh-token', value: session.refresh_token },\n        ].map((token) => ({\n          name: `${this.cookieName()}-${token.key}`,\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: this.cookieOptions.lifetime ?? 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite,\n        }))\n      )\n    }\n    if (event === 'SIGNED_OUT') {\n      setCookies(\n        req,\n        res,\n        ['access-token', 'refresh-token'].map((key) => ({\n          name: `${this.cookieName()}-${key}`,\n          value: '',\n          maxAge: -1,\n        }))\n      )\n    }\n    res.status(200).json({})\n  }\n\n  /**\n   * Deletes the Auth Cookies and redirects to the\n   * @param req The request object.\n   * @param res The response object.\n   * @param options Optionally specify a `redirectTo` URL in the options.\n   */\n  deleteAuthCookie(req: any, res: any, { redirectTo = '/' }: { redirectTo?: string }) {\n    setCookies(\n      req,\n      res,\n      ['access-token', 'refresh-token'].map((key) => ({\n        name: `${this.cookieName()}-${key}`,\n        value: '',\n        maxAge: -1,\n      }))\n    )\n    return res.redirect(307, redirectTo)\n  }\n\n  /**\n   * Helper method to generate the Auth Cookie string for you in case you can't use `setAuthCookie`.\n   * @param req The request object.\n   * @param res The response object.\n   * @returns The Cookie string that needs to be set as the value for the `Set-Cookie` header.\n   */\n  getAuthCookieString(req: any, res: any): string[] {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST')\n      res.status(405).end('Method Not Allowed')\n    }\n    const { event, session } = req.body\n\n    if (!event) throw new Error('Auth event missing!')\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!')\n      return getCookieString(\n        req,\n        res,\n        [\n          { key: 'access-token', value: session.access_token },\n          { key: 'refresh-token', value: session.refresh_token },\n        ].map((token) => ({\n          name: `${this.cookieName()}-${token.key}`,\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: this.cookieOptions.lifetime ?? 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite,\n        }))\n      )\n    }\n    if (event === 'SIGNED_OUT') {\n      return getCookieString(\n        req,\n        res,\n        ['access-token', 'refresh-token'].map((key) => ({\n          name: `${this.cookieName()}-${key}`,\n          value: '',\n          maxAge: -1,\n        }))\n      )\n    }\n    return res.getHeader('Set-Cookie')\n  }\n\n  /**\n   * Generates links to be sent via email or other.\n   * @param type The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   * @param email The user's email.\n   * @param password User password. For signup only.\n   * @param data Optional user metadata. For signup only.\n   * @param redirectTo The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   */\n  async generateLink(\n    type: 'signup' | 'magiclink' | 'recovery' | 'invite',\n    email: string,\n    options: {\n      password?: string\n      data?: object\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const data: any = await post(\n        this.fetch,\n        `${this.url}/admin/generate_link`,\n        {\n          type,\n          email,\n          password: options.password,\n          data: options.data,\n          redirect_to: options.redirectTo,\n        },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  // User Admin API\n\n  /**\n   * Creates a new user.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param attributes The data you want to create the user with.\n   */\n  async createUser(\n    attributes: AdminUserAttributes\n  ): Promise<\n    { user: null; data: null; error: ApiError } | { user: User; data: User; error: null }\n  > {\n    try {\n      const data: any = await post(this.fetch, `${this.url}/admin/users`, attributes, {\n        headers: this.headers,\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get a list of users.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async listUsers(): Promise<{ data: null; error: ApiError } | { data: User[]; error: null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/admin/users`, {\n        headers: this.headers,\n      })\n      return { data: data.users, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get user by id.\n   *\n   * @param uid The user's unique identifier\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async getUserById(\n    uid: string\n  ): Promise<{ data: null; error: ApiError } | { data: User; error: null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/admin/users/${uid}`, {\n        headers: this.headers,\n      })\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get user by reading the cookie from the request.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   */\n  async getUserByCookie(\n    req: any,\n    res?: any\n  ): Promise<{\n    token: string | null\n    user: User | null\n    data: User | null\n    error: ApiError | null\n  }> {\n    try {\n      if (!req.cookies) {\n        throw new Error(\n          'Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!'\n        )\n      }\n\n      const access_token = req.cookies[`${this.cookieName()}-access-token`]\n      const refresh_token = req.cookies[`${this.cookieName()}-refresh-token`]\n\n      if (!access_token) {\n        throw new Error('No cookie found!')\n      }\n\n      const { user, error: getUserError } = await this.getUser(access_token)\n      if (getUserError) {\n        if (!refresh_token) throw new Error('No refresh_token cookie found!')\n        if (!res)\n          throw new Error('You need to pass the res object to automatically refresh the session!')\n        const { data, error } = await this.refreshAccessToken(refresh_token)\n        if (error) {\n          throw error\n        } else if (data) {\n          setCookies(\n            req,\n            res,\n            [\n              { key: 'access-token', value: data.access_token },\n              { key: 'refresh-token', value: data.refresh_token! },\n            ].map((token) => ({\n              name: `${this.cookieName()}-${token.key}`,\n              value: token.value,\n              domain: this.cookieOptions.domain,\n              maxAge: this.cookieOptions.lifetime ?? 0,\n              path: this.cookieOptions.path,\n              sameSite: this.cookieOptions.sameSite,\n            }))\n          )\n          return { token: data.access_token, user: data.user, data: data.user, error: null }\n        }\n      }\n      return { token: access_token, user: user, data: user, error: null }\n    } catch (e) {\n      return { token: null, user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates the user data.\n   *\n   * @param attributes The data you want to update.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async updateUserById(\n    uid: string,\n    attributes: AdminUserAttributes\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      this //\n      const data: any = await put(this.fetch, `${this.url}/admin/users/${uid}`, attributes, {\n        headers: this.headers,\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Delete a user. Requires a `service_role` key.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param uid The user uid you want to remove.\n   */\n  async deleteUser(\n    uid: string\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await remove(\n        this.fetch,\n        `${this.url}/admin/users/${uid}`,\n        {},\n        {\n          headers: this.headers,\n        }\n      )\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Gets the current user details.\n   *\n   * This method is called by the GoTrueClient `update` where\n   * the jwt is set to this.currentSession.access_token\n   * and therefore, acts like getting the currently authenticated used\n   *\n   * @param jwt A valid, logged-in JWT. Typically, the access_token for the currentSession\n   */\n  async getUser(\n    jwt: string\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/user`, {\n        headers: this._createRequestHeaders(jwt),\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates the user data.\n   * @param jwt A valid, logged-in JWT.\n   * @param attributes The data you want to update.\n   */\n  async updateUser(\n    jwt: string,\n    attributes: UserAttributes\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await put(this.fetch, `${this.url}/user`, attributes, {\n        headers: this._createRequestHeaders(jwt),\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n}\n","export type Fetch = typeof fetch\n\nexport interface FetchOptions {\n  headers?: {\n    [key: string]: string\n  }\n  noResolveJson?: boolean\n}\n\nexport type RequestMethodType = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE'\n\nconst _getErrorMessage = (err: any): string =>\n  err.msg || err.message || err.error_description || err.error || JSON.stringify(err)\n\nconst handleError = (error: any, reject: any) => {\n  if (typeof error.json !== 'function') {\n    return reject(error)\n  }\n  error.json().then((err: any) => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: error?.status || 500,\n    })\n  })\n}\n\nconst _getRequestParams = (method: RequestMethodType, options?: FetchOptions, body?: object) => {\n  const params: { [k: string]: any } = { method, headers: options?.headers || {} }\n\n  if (method === 'GET') {\n    return params\n  }\n\n  params.headers = { 'Content-Type': 'text/plain;charset=UTF-8', ...options?.headers }\n  params.body = JSON.stringify(body)\n\n  return params\n}\n\nasync function _handleRequest(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: FetchOptions,\n  body?: object\n): Promise<any> {\n  return new Promise((resolve, reject) => {\n    fetcher(url, _getRequestParams(method, options, body))\n      .then((result) => {\n        if (!result.ok) throw result\n        if (options?.noResolveJson) return resolve\n        return result.json()\n      })\n      .then((data) => resolve(data))\n      .catch((error) => handleError(error, reject))\n  })\n}\n\nexport async function get(fetcher: Fetch, url: string, options?: FetchOptions): Promise<any> {\n  return _handleRequest(fetcher, 'GET', url, options)\n}\n\nexport async function post(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'POST', url, options, body)\n}\n\nexport async function put(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'PUT', url, options, body)\n}\n\nexport async function remove(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'DELETE', url, options, body)\n}\n","import { version } from './version'\nexport const GOTRUE_URL = 'http://localhost:9999'\nexport const AUDIENCE = ''\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` }\nexport const EXPIRY_MARGIN = 60 * 1000\nexport const STORAGE_KEY = 'supabase.auth.token'\nexport const COOKIE_OPTIONS = {\n  name: 'sb',\n  lifetime: 60 * 60 * 8,\n  domain: '',\n  path: '/',\n  sameSite: 'lax',\n}\n","// generated by genversion\nexport const version = '1.22.12'\n","type Cookie = {\n  name: string\n  value: string\n  maxAge: number\n  domain?: string\n  path?: string\n  sameSite?: string\n}\n\n/**\n * Serialize data into a cookie header.\n */\nfunction serialize(\n  name: string,\n  val: string,\n  options: {\n    maxAge: number\n    domain: string\n    path: string\n    expires: Date\n    httpOnly: boolean\n    secure: boolean\n    sameSite: string\n  }\n) {\n  const opt = options || {}\n  const enc = encodeURIComponent\n  /* eslint-disable-next-line no-control-regex */\n  const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid')\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid')\n  }\n\n  const value = enc(val)\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid')\n  }\n\n  let str = name + '=' + value\n\n  if (null != opt.maxAge) {\n    const maxAge = opt.maxAge - 0\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge)\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid')\n    }\n\n    str += '; Domain=' + opt.domain\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid')\n    }\n\n    str += '; Path=' + opt.path\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid')\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly'\n  }\n\n  if (opt.secure) {\n    str += '; Secure'\n  }\n\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite\n\n    switch (sameSite) {\n      case 'lax':\n        str += '; SameSite=Lax'\n        break\n      case 'strict':\n        str += '; SameSite=Strict'\n        break\n      case 'none':\n        str += '; SameSite=None'\n        break\n      default:\n        throw new TypeError('option sameSite is invalid')\n    }\n  }\n\n  return str\n}\n\n/**\n * Based on the environment and the request we know if a secure cookie can be set.\n */\nfunction isSecureEnvironment(req: any) {\n  if (!req || !req.headers || !req.headers.host) {\n    throw new Error('The \"host\" request header is not available')\n  }\n\n  const host =\n    (req.headers.host.indexOf(':') > -1 && req.headers.host.split(':')[0]) || req.headers.host\n  if (['localhost', '127.0.0.1'].indexOf(host) > -1 || host.endsWith('.local')) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Serialize a cookie to a string.\n */\nfunction serializeCookie(cookie: Cookie, secure: boolean) {\n  return serialize(cookie.name, cookie.value, {\n    maxAge: cookie.maxAge,\n    expires: new Date(Date.now() + cookie.maxAge * 1000),\n    httpOnly: true,\n    secure,\n    path: cookie.path ?? '/',\n    domain: cookie.domain ?? '',\n    sameSite: cookie.sameSite ?? 'lax',\n  })\n}\n\n/**\n * Get Cookie Header strings.\n */\nexport function getCookieString(req: any, res: any, cookies: Array<Cookie>): string[] {\n  const strCookies = cookies.map((c) => serializeCookie(c, isSecureEnvironment(req)))\n  const previousCookies = res.getHeader('Set-Cookie')\n  if (previousCookies) {\n    if (previousCookies instanceof Array) {\n      Array.prototype.push.apply(strCookies, previousCookies)\n    } else if (typeof previousCookies === 'string') {\n      strCookies.push(previousCookies)\n    }\n  }\n  return strCookies\n}\n\n/**\n * Set one or more cookies.\n */\nexport function setCookies(req: any, res: any, cookies: Array<Cookie>) {\n  res.setHeader('Set-Cookie', getCookieString(req, res, cookies))\n}\n\n/**\n * Set one or more cookies.\n */\nexport function setCookie(req: any, res: any, cookie: Cookie) {\n  setCookies(req, res, [cookie])\n}\n\nexport function deleteCookie(req: any, res: any, name: string) {\n  setCookie(req, res, {\n    name,\n    value: '',\n    maxAge: -1,\n  })\n}\n","import crossFetch from 'cross-fetch'\n\nexport function expiresAt(expiresIn: number) {\n  const timeNow = Math.round(Date.now() / 1000)\n  return timeNow + expiresIn\n}\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport function getParameterByName(name: string, url?: string) {\n  if (!url) url = window?.location?.href || ''\n  // eslint-disable-next-line no-useless-escape\n  name = name.replace(/[\\[\\]]/g, '\\\\$&')\n  const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url)\n  if (!results) return null\n  if (!results[2]) return ''\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = crossFetch as unknown as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","import GoTrueApi from './GoTrueApi'\nimport { isBrowser, getParameterByName, uuid } from './lib/helpers'\nimport { GOTRUE_URL, DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants'\nimport { polyfillGlobalThis } from './lib/polyfills'\nimport { Fetch } from './lib/fetch'\n\nimport type {\n  ApiError,\n  Session,\n  User,\n  UserAttributes,\n  Provider,\n  Subscription,\n  AuthChangeEvent,\n  CookieOptions,\n  UserCredentials,\n  VerifyOTPParams,\n  OpenIDConnectCredentials,\n} from './lib/types'\n\npolyfillGlobalThis() // Make \"globalThis\" available\n\nconst DEFAULT_OPTIONS = {\n  url: GOTRUE_URL,\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS,\n}\n\ntype AnyFunction = (...args: any[]) => any\ntype MaybePromisify<T> = T | Promise<T>\n\ntype PromisifyMethods<T> = {\n  [K in keyof T]: T[K] extends AnyFunction\n    ? (...args: Parameters<T[K]>) => MaybePromisify<ReturnType<T[K]>>\n    : T[K]\n}\n\ntype SupportedStorage = PromisifyMethods<Pick<Storage, 'getItem' | 'setItem' | 'removeItem'>>\n\nexport default class GoTrueClient {\n  /**\n   * Namespace for the GoTrue API methods.\n   * These can be used for example to get a user from a JWT in a server environment or reset a user's password.\n   */\n  api: GoTrueApi\n  /**\n   * The currently logged in user or null.\n   */\n  protected currentUser: User | null\n  /**\n   * The session object for the currently logged in user or null.\n   */\n  protected currentSession: Session | null\n\n  protected autoRefreshToken: boolean\n  protected persistSession: boolean\n  protected localStorage: SupportedStorage\n  protected multiTab: boolean\n  protected stateChangeEmitters: Map<string, Subscription> = new Map()\n  protected refreshTokenTimer?: ReturnType<typeof setTimeout>\n\n  /**\n   * Create a new client for use in the browser.\n   * @param options.url The URL of the GoTrue server.\n   * @param options.headers Any additional headers to send to the GoTrue server.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.cookieOptions\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(options: {\n    url?: string\n    headers?: { [key: string]: string }\n    detectSessionInUrl?: boolean\n    autoRefreshToken?: boolean\n    persistSession?: boolean\n    localStorage?: SupportedStorage\n    multiTab?: boolean\n    cookieOptions?: CookieOptions\n    fetch?: Fetch\n  }) {\n    const settings = { ...DEFAULT_OPTIONS, ...options }\n    this.currentUser = null\n    this.currentSession = null\n    this.autoRefreshToken = settings.autoRefreshToken\n    this.persistSession = settings.persistSession\n    this.multiTab = settings.multiTab\n    this.localStorage = settings.localStorage || globalThis.localStorage\n    this.api = new GoTrueApi({\n      url: settings.url,\n      headers: settings.headers,\n      cookieOptions: settings.cookieOptions,\n      fetch: settings.fetch,\n    })\n    this._recoverSession()\n    this._recoverAndRefresh()\n    this._listenForMultiTabEvents()\n\n    if (settings.detectSessionInUrl && isBrowser() && !!getParameterByName('access_token')) {\n      // Handle the OAuth redirect\n      this.getSessionFromUrl({ storeSession: true }).then(({ error }) => {\n        if (error) {\n          console.error('Error getting session from URL.', error)\n        }\n      })\n    }\n  }\n\n  /**\n   * Creates a new user.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param password The user's password.\n   * @param phone The user's phone number.\n   * @param redirectTo The redirect URL attached to the signup confirmation link. Does not redirect the user if it's a mobile signup.\n   * @param data Optional user metadata.\n   */\n  async signUp(\n    { email, password, phone }: UserCredentials,\n    options: {\n      redirectTo?: string\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{\n    user: User | null\n    session: Session | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      const { data, error } =\n        phone && password\n          ? await this.api.signUpWithPhone(phone!, password!, {\n              data: options.data,\n              captchaToken: options.captchaToken,\n            })\n          : await this.api.signUpWithEmail(email!, password!, {\n              redirectTo: options.redirectTo,\n              data: options.data,\n              captchaToken: options.captchaToken,\n            })\n\n      if (error) {\n        throw error\n      }\n\n      if (!data) {\n        throw 'An error occurred on sign up.'\n      }\n\n      let session: Session | null = null\n      let user: User | null = null\n\n      if ((data as Session).access_token) {\n        session = data as Session\n        user = session.user as User\n        this._saveSession(session)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      if ((data as User).id) {\n        user = data as User\n      }\n\n      return { user, session, error: null }\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Log in an existing user, or login via a third-party provider.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param password The user's password.\n   * @param refreshToken A valid refresh token that was returned on login.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL to send the user to after they are confirmed (OAuth logins only).\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n  async signIn(\n    { email, phone, password, refreshToken, provider, oidc }: UserCredentials,\n    options: {\n      redirectTo?: string\n      shouldCreateUser?: boolean\n      scopes?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{\n    session: Session | null\n    user: User | null\n    provider?: Provider\n    url?: string | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      if (email && !password) {\n        const { error } = await this.api.sendMagicLinkEmail(email, {\n          redirectTo: options.redirectTo,\n          shouldCreateUser: options.shouldCreateUser,\n          captchaToken: options.captchaToken,\n        })\n        return { user: null, session: null, error }\n      }\n      if (email && password) {\n        return this._handleEmailSignIn(email, password, {\n          redirectTo: options.redirectTo,\n        })\n      }\n      if (phone && !password) {\n        const { error } = await this.api.sendMobileOTP(phone, {\n          shouldCreateUser: options.shouldCreateUser,\n          captchaToken: options.captchaToken,\n        })\n        return { user: null, session: null, error }\n      }\n      if (phone && password) {\n        return this._handlePhoneSignIn(phone, password)\n      }\n      if (refreshToken) {\n        // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n        const { error } = await this._callRefreshToken(refreshToken)\n        if (error) throw error\n\n        return {\n          user: this.currentUser,\n          session: this.currentSession,\n          error: null,\n        }\n      }\n      if (provider) {\n        return this._handleProviderSignIn(provider, {\n          redirectTo: options.redirectTo,\n          scopes: options.scopes,\n        })\n      }\n      if (oidc) {\n        return this._handleOpenIDConnectSignIn(oidc)\n      }\n      throw new Error(\n        `You must provide either an email, phone number, a third-party provider or OpenID Connect.`\n      )\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Log in a user given a User supplied OTP received via mobile.\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param token The user's password.\n   * @param type The user's verification type.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyOTP(\n    params: VerifyOTPParams,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{\n    user: User | null\n    session: Session | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      const { data, error } = await this.api.verifyOTP(params, options)\n\n      if (error) {\n        throw error\n      }\n\n      if (!data) {\n        throw 'An error occurred on token verification.'\n      }\n\n      let session: Session | null = null\n      let user: User | null = null\n\n      if ((data as Session).access_token) {\n        session = data as Session\n        user = session.user as User\n        this._saveSession(session)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      if ((data as User).id) {\n        user = data as User\n      }\n\n      return { user, session, error: null }\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n   *\n   * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n   */\n  user(): User | null {\n    return this.currentUser\n  }\n\n  /**\n   * Returns the session data, if there is an active session.\n   */\n  session(): Session | null {\n    return this.currentSession\n  }\n\n  /**\n   * Force refreshes the session including the user data in case it was updated in a different session.\n   */\n  async refreshSession(): Promise<{\n    data: Session | null\n    user: User | null\n    error: ApiError | null\n  }> {\n    try {\n      if (!this.currentSession?.access_token) throw new Error('Not logged in.')\n\n      // currentSession and currentUser will be updated to latest on _callRefreshToken\n      const { error } = await this._callRefreshToken()\n      if (error) throw error\n\n      return { data: this.currentSession, user: this.currentUser, error: null }\n    } catch (e) {\n      return { data: null, user: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates user data, if there is a logged in user.\n   */\n  async update(\n    attributes: UserAttributes\n  ): Promise<{ data: User | null; user: User | null; error: ApiError | null }> {\n    try {\n      if (!this.currentSession?.access_token) throw new Error('Not logged in.')\n\n      const { user, error } = await this.api.updateUser(\n        this.currentSession.access_token,\n        attributes\n      )\n      if (error) throw error\n      if (!user) throw Error('Invalid user data.')\n\n      const session = { ...this.currentSession, user }\n      this._saveSession(session)\n      this._notifyAllSubscribers('USER_UPDATED')\n\n      return { data: user, user, error: null }\n    } catch (e) {\n      return { data: null, user: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sets the session data from refresh_token and returns current Session and Error\n   * @param refresh_token a JWT token\n   */\n  async setSession(\n    refresh_token: string\n  ): Promise<{ session: Session | null; error: ApiError | null }> {\n    try {\n      if (!refresh_token) {\n        throw new Error('No current session.')\n      }\n      const { data, error } = await this.api.refreshAccessToken(refresh_token)\n      if (error) {\n        return { session: null, error: error }\n      }\n\n      this._saveSession(data!)\n      this._notifyAllSubscribers('SIGNED_IN')\n      return { session: data, error: null }\n    } catch (e) {\n      return { error: e as ApiError, session: null }\n    }\n  }\n\n  /**\n   * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n   * @param access_token a jwt access token\n   */\n  setAuth(access_token: string): Session {\n    this.currentSession = {\n      ...this.currentSession,\n      access_token,\n      token_type: 'bearer',\n      user: this.user(),\n    }\n\n    return this.currentSession\n  }\n\n  /**\n   * Gets the session data from a URL string\n   * @param options.storeSession Optionally store the session in the browser\n   */\n  async getSessionFromUrl(options?: {\n    storeSession?: boolean\n  }): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      if (!isBrowser()) throw new Error('No browser detected.')\n\n      const error_description = getParameterByName('error_description')\n      if (error_description) throw new Error(error_description)\n\n      const provider_token = getParameterByName('provider_token')\n      const access_token = getParameterByName('access_token')\n      if (!access_token) throw new Error('No access_token detected.')\n      const expires_in = getParameterByName('expires_in')\n      if (!expires_in) throw new Error('No expires_in detected.')\n      const refresh_token = getParameterByName('refresh_token')\n      if (!refresh_token) throw new Error('No refresh_token detected.')\n      const token_type = getParameterByName('token_type')\n      if (!token_type) throw new Error('No token_type detected.')\n\n      const timeNow = Math.round(Date.now() / 1000)\n      const expires_at = timeNow + parseInt(expires_in)\n\n      const { user, error } = await this.api.getUser(access_token)\n      if (error) throw error\n\n      const session: Session = {\n        provider_token,\n        access_token,\n        expires_in: parseInt(expires_in),\n        expires_at,\n        refresh_token,\n        token_type,\n        user: user!,\n      }\n      if (options?.storeSession) {\n        this._saveSession(session)\n        const recoveryMode = getParameterByName('type')\n        this._notifyAllSubscribers('SIGNED_IN')\n        if (recoveryMode === 'recovery') {\n          this._notifyAllSubscribers('PASSWORD_RECOVERY')\n        }\n      }\n      // Remove tokens from URL\n      window.location.hash = ''\n\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n   * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n   *\n   * For server-side management, you can disable sessions by passing a JWT through to `auth.api.signOut(JWT: string)`\n   */\n  async signOut(): Promise<{ error: ApiError | null }> {\n    const accessToken = this.currentSession?.access_token\n    this._removeSession()\n    this._notifyAllSubscribers('SIGNED_OUT')\n    if (accessToken) {\n      const { error } = await this.api.signOut(accessToken)\n      if (error) return { error }\n    }\n    return { error: null }\n  }\n\n  /**\n   * Receive a notification every time an auth event happens.\n   * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n   */\n  onAuthStateChange(callback: (event: AuthChangeEvent, session: Session | null) => void): {\n    data: Subscription | null\n    error: ApiError | null\n  } {\n    try {\n      const id: string = uuid()\n      const subscription: Subscription = {\n        id,\n        callback,\n        unsubscribe: () => {\n          this.stateChangeEmitters.delete(id)\n        },\n      }\n      this.stateChangeEmitters.set(id, subscription)\n      return { data: subscription, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  private async _handleEmailSignIn(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ) {\n    try {\n      const { data, error } = await this.api.signInWithEmail(email, password, {\n        redirectTo: options.redirectTo,\n      })\n      if (error || !data) return { data: null, user: null, session: null, error }\n\n      if (data?.user?.confirmed_at || data?.user?.email_confirmed_at) {\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      return { data, user: data.user, session: data, error: null }\n    } catch (e) {\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private async _handlePhoneSignIn(phone: string, password: string) {\n    try {\n      const { data, error } = await this.api.signInWithPhone(phone, password)\n      if (error || !data) return { data: null, user: null, session: null, error }\n\n      if (data?.user?.phone_confirmed_at) {\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      return { data, user: data.user, session: data, error: null }\n    } catch (e) {\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private _handleProviderSignIn(\n    provider: Provider,\n    options: {\n      redirectTo?: string\n      scopes?: string\n    } = {}\n  ) {\n    const url: string = this.api.getUrlForProvider(provider, {\n      redirectTo: options.redirectTo,\n      scopes: options.scopes,\n    })\n\n    try {\n      // try to open on the browser\n      if (isBrowser()) {\n        window.location.href = url\n      }\n      return { provider, url, data: null, session: null, user: null, error: null }\n    } catch (e) {\n      // fallback to returning the URL\n      if (url) return { provider, url, data: null, session: null, user: null, error: null }\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private async _handleOpenIDConnectSignIn({\n    id_token,\n    nonce,\n    client_id,\n    issuer,\n    provider,\n  }: OpenIDConnectCredentials): Promise<{\n    session: Session | null\n    user: User | null\n    error: ApiError | null\n  }> {\n    if (id_token && nonce && ((client_id && issuer) || provider)) {\n      try {\n        const { data, error } = await this.api.signInWithOpenIDConnect({\n          id_token,\n          nonce,\n          client_id,\n          issuer,\n          provider,\n        })\n        if (error || !data) return { user: null, session: null, error }\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n        return { user: data.user, session: data, error: null }\n      } catch (e) {\n        return { user: null, session: null, error: e as ApiError }\n      }\n    }\n    throw new Error(`You must provide a OpenID Connect provider with your id token and nonce.`)\n  }\n\n  /**\n   * Attempts to get the session from LocalStorage\n   * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n   */\n  private _recoverSession() {\n    try {\n      const json = isBrowser() && this.localStorage?.getItem(STORAGE_KEY)\n      if (!json || typeof json !== 'string') {\n        return null\n      }\n\n      const data = JSON.parse(json)\n      const { currentSession, expiresAt } = data\n      const timeNow = Math.round(Date.now() / 1000)\n\n      if (expiresAt >= timeNow && currentSession?.user) {\n        this._saveSession(currentSession)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  /**\n   * Recovers the session from LocalStorage and refreshes\n   * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n   */\n  private async _recoverAndRefresh() {\n    try {\n      const json = isBrowser() && (await this.localStorage.getItem(STORAGE_KEY))\n      if (!json) {\n        return null\n      }\n\n      const data = JSON.parse(json)\n      const { currentSession, expiresAt } = data\n      const timeNow = Math.round(Date.now() / 1000)\n\n      if (expiresAt < timeNow) {\n        if (this.autoRefreshToken && currentSession.refresh_token) {\n          const { error } = await this._callRefreshToken(currentSession.refresh_token)\n          if (error) {\n            console.log(error.message)\n            await this._removeSession()\n          }\n        } else {\n          this._removeSession()\n        }\n      } else if (!currentSession) {\n        console.log('Current session is missing data.')\n        this._removeSession()\n      } else {\n        // should be handled on _recoverSession method already\n        // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n        this._saveSession(currentSession)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n    } catch (err) {\n      console.error(err)\n      return null\n    }\n  }\n\n  private async _callRefreshToken(refresh_token = this.currentSession?.refresh_token) {\n    try {\n      if (!refresh_token) {\n        throw new Error('No current session.')\n      }\n      const { data, error } = await this.api.refreshAccessToken(refresh_token)\n      if (error) throw error\n      if (!data) throw Error('Invalid session data.')\n\n      this._saveSession(data)\n      this._notifyAllSubscribers('TOKEN_REFRESHED')\n      this._notifyAllSubscribers('SIGNED_IN')\n\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  private _notifyAllSubscribers(event: AuthChangeEvent) {\n    this.stateChangeEmitters.forEach((x) => x.callback(event, this.currentSession))\n  }\n\n  /**\n   * set currentSession and currentUser\n   * process to _startAutoRefreshToken if possible\n   */\n  private _saveSession(session: Session) {\n    this.currentSession = session\n    this.currentUser = session.user\n\n    const expiresAt = session.expires_at\n    if (expiresAt) {\n      const timeNow = Math.round(Date.now() / 1000)\n      const expiresIn = expiresAt - timeNow\n      const refreshDurationBeforeExpires = expiresIn > 60 ? 60 : 0.5\n      this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000)\n    }\n\n    // Do we need any extra check before persist session\n    // access_token or user ?\n    if (this.persistSession && session.expires_at) {\n      this._persistSession(this.currentSession)\n    }\n  }\n\n  private _persistSession(currentSession: Session) {\n    const data = { currentSession, expiresAt: currentSession.expires_at }\n    isBrowser() && this.localStorage.setItem(STORAGE_KEY, JSON.stringify(data))\n  }\n\n  private async _removeSession() {\n    this.currentSession = null\n    this.currentUser = null\n    if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer)\n    isBrowser() && (await this.localStorage.removeItem(STORAGE_KEY))\n  }\n\n  /**\n   * Clear and re-create refresh token timer\n   * @param value time intervals in milliseconds\n   */\n  private _startAutoRefreshToken(value: number) {\n    if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer)\n    if (value <= 0 || !this.autoRefreshToken) return\n\n    this.refreshTokenTimer = setTimeout(() => this._callRefreshToken(), value)\n    if (typeof this.refreshTokenTimer.unref === 'function') this.refreshTokenTimer.unref()\n  }\n\n  /**\n   * Listens for changes to LocalStorage and updates the current session.\n   */\n  private _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !window?.addEventListener) {\n      // console.debug('Auth multi-tab support is disabled.')\n      return false\n    }\n\n    try {\n      window?.addEventListener('storage', (e: StorageEvent) => {\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue))\n          if (newSession?.currentSession?.access_token) {\n            this._recoverAndRefresh()\n            this._notifyAllSubscribers('SIGNED_IN')\n          } else {\n            this._removeSession()\n            this._notifyAllSubscribers('SIGNED_OUT')\n          }\n        }\n      })\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error)\n    }\n  }\n}\n","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n  if (typeof globalThis === 'object') return\n  try {\n    Object.defineProperty(Object.prototype, '__magic__', {\n      get: function () {\n        return this\n      },\n      configurable: true,\n    })\n    // @ts-expect-error 'Allow access to magic'\n    __magic__.globalThis = __magic__\n    // @ts-expect-error 'Allow access to magic'\n    delete Object.prototype.__magic__\n  } catch (e) {\n    if (typeof self !== 'undefined') {\n      // @ts-expect-error 'Allow access to globals'\n      self.globalThis = self\n    }\n  }\n}\n","import { PostgrestQueryBuilder } from '@supabase/postgrest-js'\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient'\nimport { RealtimeClient } from '@supabase/realtime-js'\nimport { Fetch, GenericObject, SupabaseEventTypes, SupabaseRealtimePayload } from './types'\n\nexport class SupabaseQueryBuilder<T> extends PostgrestQueryBuilder<T> {\n  private _subscription: SupabaseRealtimeClient | null = null\n  private _realtime: RealtimeClient\n  private _headers: GenericObject\n  private _schema: string\n  private _table: string\n\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      realtime,\n      table,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: GenericObject\n      schema: string\n      realtime: RealtimeClient\n      table: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    }\n  ) {\n    super(url, { headers, schema, fetch, shouldThrowOnError })\n\n    this._realtime = realtime\n    this._headers = headers\n    this._schema = schema\n    this._table = table\n  }\n\n  /**\n   * Subscribe to realtime changes in your database.\n   * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n   * @param callback A callback that will handle the payload that is sent whenever your database changes.\n   */\n  on(\n    event: SupabaseEventTypes,\n    callback: (payload: SupabaseRealtimePayload<T>) => void\n  ): SupabaseRealtimeClient {\n    if (!this._realtime.isConnected()) {\n      this._realtime.connect()\n    }\n    if (!this._subscription) {\n      this._subscription = new SupabaseRealtimeClient(\n        this._realtime,\n        this._headers,\n        this._schema,\n        this._table\n      )\n    }\n    return this._subscription.on(event, callback)\n  }\n}\n","import PostgrestClient from './PostgrestClient'\nimport PostgrestFilterBuilder from './lib/PostgrestFilterBuilder'\nimport PostgrestQueryBuilder from './lib/PostgrestQueryBuilder'\nimport {\n  PostgrestBuilder,\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n  PostgrestError,\n} from './lib/types'\n\nexport {\n  PostgrestClient,\n  PostgrestBuilder,\n  PostgrestQueryBuilder,\n  PostgrestFilterBuilder,\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n  PostgrestError,\n}\n","import PostgrestQueryBuilder from './lib/PostgrestQueryBuilder'\nimport PostgrestRpcBuilder from './lib/PostgrestRpcBuilder'\nimport PostgrestFilterBuilder from './lib/PostgrestFilterBuilder'\nimport { DEFAULT_HEADERS } from './lib/constants'\nimport { Fetch } from './lib/types'\n\nexport default class PostgrestClient {\n  url: string\n  headers: { [key: string]: string }\n  schema?: string\n  fetch?: Fetch\n  shouldThrowOnError?: boolean\n\n  /**\n   * Creates a PostgREST client.\n   *\n   * @param url  URL of the PostgREST endpoint.\n   * @param headers  Custom headers.\n   * @param schema  Postgres schema to switch to.\n   */\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      throwOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      throwOnError?: boolean\n    } = {}\n  ) {\n    this.url = url\n    this.headers = { ...DEFAULT_HEADERS, ...headers }\n    this.schema = schema\n    this.fetch = fetch\n    this.shouldThrowOnError = throwOnError\n  }\n\n  /**\n   * Authenticates the request with JWT.\n   *\n   * @param token  The JWT token to use.\n   */\n  auth(token: string): this {\n    this.headers['Authorization'] = `Bearer ${token}`\n    return this\n  }\n\n  /**\n   * Perform a table operation.\n   *\n   * @param table  The table name to operate on.\n   */\n  from<T = any>(table: string): PostgrestQueryBuilder<T> {\n    const url = `${this.url}/${table}`\n    return new PostgrestQueryBuilder<T>(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    })\n  }\n\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head  When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  rpc<T = any>(\n    fn: string,\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    const url = `${this.url}/rpc/${fn}`\n    return new PostgrestRpcBuilder<T>(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    }).rpc(params, { head, count })\n  }\n}\n","import { Fetch, PostgrestBuilder } from './types'\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder'\n\nexport default class PostgrestQueryBuilder<T> extends PostgrestBuilder<T> {\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    } = {}\n  ) {\n    super(({ fetch, shouldThrowOnError } as unknown) as PostgrestBuilder<T>)\n    this.url = new URL(url)\n    this.headers = { ...headers }\n    this.schema = schema\n  }\n\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   * @param head  When set to true, select will void data.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  select(\n    columns = '*',\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'GET'\n    // Remove whitespaces except when quoted\n    let quoted = false\n    const cleanedColumns = columns\n      .split('')\n      .map((c) => {\n        if (/\\s/.test(c) && !quoted) {\n          return ''\n        }\n        if (c === '\"') {\n          quoted = !quoted\n        }\n        return c\n      })\n      .join('')\n    this.url.searchParams.set('select', cleanedColumns)\n    if (count) {\n      this.headers['Prefer'] = `count=${count}`\n    }\n    if (head) {\n      this.method = 'HEAD'\n    }\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an INSERT into the table.\n   *\n   * @param values  The values to insert.\n   * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  insert(\n    values: Partial<T> | Partial<T>[],\n    options?: {\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    }\n  ): PostgrestFilterBuilder<T>\n  /**\n   * @deprecated Use `upsert()` instead.\n   */\n  insert(\n    values: Partial<T> | Partial<T>[],\n    options?: {\n      upsert?: boolean\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    }\n  ): PostgrestFilterBuilder<T>\n  insert(\n    values: Partial<T> | Partial<T>[],\n    {\n      upsert = false,\n      onConflict,\n      returning = 'representation',\n      count = null,\n    }: {\n      upsert?: boolean\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'POST'\n\n    const prefersHeaders = [`return=${returning}`]\n    if (upsert) prefersHeaders.push('resolution=merge-duplicates')\n\n    if (upsert && onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict)\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n\n    if (Array.isArray(values)) {\n      const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), [] as string[])\n      if (columns.length > 0) {\n        const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`)\n        this.url.searchParams.set('columns', uniqueColumns.join(','))\n      }\n    }\n\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an UPSERT into the table.\n   *\n   * @param values  The values to insert.\n   * @param onConflict  By specifying the `on_conflict` query parameter, you can make UPSERT work on a column(s) that has a UNIQUE constraint.\n   * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   * @param ignoreDuplicates  Specifies if duplicate rows should be ignored and not inserted.\n   */\n  upsert(\n    values: Partial<T> | Partial<T>[],\n    {\n      onConflict,\n      returning = 'representation',\n      count = null,\n      ignoreDuplicates = false,\n    }: {\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n      ignoreDuplicates?: boolean\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'POST'\n\n    const prefersHeaders = [\n      `resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`,\n      `return=${returning}`,\n    ]\n\n    if (onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict)\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an UPDATE on the table.\n   *\n   * @param values  The values to update.\n   * @param returning  By default the updated record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  update(\n    values: Partial<T>,\n    {\n      returning = 'representation',\n      count = null,\n    }: {\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'PATCH'\n    const prefersHeaders = [`return=${returning}`]\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs a DELETE on the table.\n   *\n   * @param returning  If `true`, return the deleted row(s) in the response.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  delete({\n    returning = 'representation',\n    count = null,\n  }: {\n    returning?: 'minimal' | 'representation'\n    count?: null | 'exact' | 'planned' | 'estimated'\n  } = {}): PostgrestFilterBuilder<T> {\n    this.method = 'DELETE'\n    const prefersHeaders = [`return=${returning}`]\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n    return new PostgrestFilterBuilder(this)\n  }\n}\n","import crossFetch from 'cross-fetch'\n\nexport type Fetch = typeof fetch\n\n/**\n * Error format\n *\n * {@link https://postgrest.org/en/stable/api.html?highlight=options#errors-and-http-status-codes}\n */\nexport type PostgrestError = {\n  message: string\n  details: string\n  hint: string\n  code: string\n}\n\n/**\n * Response format\n *\n * {@link https://github.com/supabase/supabase-js/issues/32}\n */\ninterface PostgrestResponseBase {\n  status: number\n  statusText: string\n}\n\ninterface PostgrestResponseSuccess<T> extends PostgrestResponseBase {\n  error: null\n  data: T[]\n  body: T[]\n  count: number | null\n}\ninterface PostgrestResponseFailure extends PostgrestResponseBase {\n  error: PostgrestError\n  data: null\n  // For backward compatibility: body === data\n  body: null\n  count: null\n}\nexport type PostgrestResponse<T> = PostgrestResponseSuccess<T> | PostgrestResponseFailure\n\ninterface PostgrestSingleResponseSuccess<T> extends PostgrestResponseBase {\n  error: null\n  data: T\n  // For backward compatibility: body === data\n  body: T\n}\nexport type PostgrestSingleResponse<T> =\n  | PostgrestSingleResponseSuccess<T>\n  | PostgrestResponseFailure\nexport type PostgrestMaybeSingleResponse<T> = PostgrestSingleResponse<T | null>\n\nexport abstract class PostgrestBuilder<T> implements PromiseLike<PostgrestResponse<T>> {\n  protected method!: 'GET' | 'HEAD' | 'POST' | 'PATCH' | 'DELETE'\n  protected url!: URL\n  protected headers!: { [key: string]: string }\n  protected schema?: string\n  protected body?: Partial<T> | Partial<T>[]\n  protected shouldThrowOnError: boolean\n  protected signal?: AbortSignal\n  protected fetch: Fetch\n\n  constructor(builder: PostgrestBuilder<T>) {\n    Object.assign(this, builder)\n    let _fetch: Fetch\n    if (builder.fetch) {\n      _fetch = builder.fetch\n    } else if (typeof fetch === 'undefined') {\n      _fetch = crossFetch\n    } else {\n      _fetch = fetch\n    }\n    this.fetch = (...args) => _fetch(...args)\n    this.shouldThrowOnError = builder.shouldThrowOnError || false\n  }\n\n  /**\n   * If there's an error with the query, throwOnError will reject the promise by\n   * throwing the error instead of returning it as part of a successful response.\n   *\n   * {@link https://github.com/supabase/supabase-js/issues/92}\n   */\n  throwOnError(throwOnError?: boolean): this {\n    if (throwOnError === null || throwOnError === undefined) {\n      throwOnError = true\n    }\n    this.shouldThrowOnError = throwOnError\n    return this\n  }\n\n  then<TResult1 = PostgrestResponse<T>, TResult2 = never>(\n    onfulfilled?:\n      | ((value: PostgrestResponse<T>) => TResult1 | PromiseLike<TResult1>)\n      | undefined\n      | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n  ): PromiseLike<TResult1 | TResult2> {\n    // https://postgrest.org/en/stable/api.html#switching-schemas\n    if (typeof this.schema === 'undefined') {\n      // skip\n    } else if (['GET', 'HEAD'].includes(this.method)) {\n      this.headers['Accept-Profile'] = this.schema\n    } else {\n      this.headers['Content-Profile'] = this.schema\n    }\n    if (this.method !== 'GET' && this.method !== 'HEAD') {\n      this.headers['Content-Type'] = 'application/json'\n    }\n\n    let res = this.fetch(this.url.toString(), {\n      method: this.method,\n      headers: this.headers,\n      body: JSON.stringify(this.body),\n      signal: this.signal,\n    }).then(async (res) => {\n      let error = null\n      let data = null\n      let count = null\n\n      if (res.ok) {\n        const isReturnMinimal = this.headers['Prefer']?.split(',').includes('return=minimal')\n        if (this.method !== 'HEAD' && !isReturnMinimal) {\n          const text = await res.text()\n          if (!text) {\n            // discard `text`\n          } else if (this.headers['Accept'] === 'text/csv') {\n            data = text\n          } else {\n            data = JSON.parse(text)\n          }\n        }\n\n        const countHeader = this.headers['Prefer']?.match(/count=(exact|planned|estimated)/)\n        const contentRange = res.headers.get('content-range')?.split('/')\n        if (countHeader && contentRange && contentRange.length > 1) {\n          count = parseInt(contentRange[1])\n        }\n      } else {\n        const body = await res.text()\n\n        try {\n          error = JSON.parse(body)\n        } catch {\n          error = {\n            message: body,\n          }\n        }\n\n        if (error && this.shouldThrowOnError) {\n          throw error\n        }\n      }\n\n      const postgrestResponse = {\n        error,\n        data,\n        count,\n        status: res.status,\n        statusText: res.statusText,\n        body: data,\n      }\n\n      return postgrestResponse\n    })\n    if (!this.shouldThrowOnError) {\n      res = res.catch((fetchError) => ({\n        error: {\n          message: `FetchError: ${fetchError.message}`,\n          details: '',\n          hint: '',\n          code: fetchError.code || '',\n        },\n        data: null,\n        body: null,\n        count: null,\n        status: 400,\n        statusText: 'Bad Request',\n      }))\n    }\n\n    return res.then(onfulfilled, onrejected)\n  }\n}\n","import PostgrestTransformBuilder from './PostgrestTransformBuilder'\n\n/**\n * Filters\n */\n\ntype FilterOperator =\n  | 'eq'\n  | 'neq'\n  | 'gt'\n  | 'gte'\n  | 'lt'\n  | 'lte'\n  | 'like'\n  | 'ilike'\n  | 'is'\n  | 'in'\n  | 'cs'\n  | 'cd'\n  | 'sl'\n  | 'sr'\n  | 'nxl'\n  | 'nxr'\n  | 'adj'\n  | 'ov'\n  | 'fts'\n  | 'plfts'\n  | 'phfts'\n  | 'wfts'\n  | 'not.eq'\n  | 'not.neq'\n  | 'not.gt'\n  | 'not.gte'\n  | 'not.lt'\n  | 'not.lte'\n  | 'not.like'\n  | 'not.ilike'\n  | 'not.is'\n  | 'not.in'\n  | 'not.cs'\n  | 'not.cd'\n  | 'not.sl'\n  | 'not.sr'\n  | 'not.nxl'\n  | 'not.nxr'\n  | 'not.adj'\n  | 'not.ov'\n  | 'not.fts'\n  | 'not.plfts'\n  | 'not.phfts'\n  | 'not.wfts'\n\nexport default class PostgrestFilterBuilder<T> extends PostgrestTransformBuilder<T> {\n  /**\n   * Finds all rows which doesn't satisfy the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n  not(column: keyof T, operator: FilterOperator, value: any): this {\n    this.url.searchParams.append(`${column}`, `not.${operator}.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows satisfying at least one of the filters.\n   *\n   * @param filters  The filters to use, separated by commas.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n  or(filters: string, { foreignTable }: { foreignTable?: string } = {}): this {\n    const key = typeof foreignTable === 'undefined' ? 'or' : `${foreignTable}.or`\n    this.url.searchParams.append(key, `(${filters})`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` exactly matches the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  eq(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `eq.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` doesn't match the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  neq(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `neq.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is greater than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  gt(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `gt.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is greater than or\n   * equal to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  gte(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `gte.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is less than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  lt(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `lt.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is less than or equal\n   * to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  lte(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `lte.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case sensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n  like(column: keyof T, pattern: string): this {\n    this.url.searchParams.append(`${column}`, `like.${pattern}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case insensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n  ilike(column: keyof T, pattern: string): this {\n    this.url.searchParams.append(`${column}`, `ilike.${pattern}`)\n    return this\n  }\n\n  /**\n   * A check for exact equality (null, true, false), finds all rows whose\n   * value on the stated `column` exactly match the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  is(column: keyof T, value: boolean | null): this {\n    this.url.searchParams.append(`${column}`, `is.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is found on the\n   * specified `values`.\n   *\n   * @param column  The column to filter on.\n   * @param values  The values to filter with.\n   */\n  in(column: keyof T, values: T[keyof T][]): this {\n    const cleanedValues = values\n      .map((s) => {\n        // handle postgrest reserved characters\n        // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n        if (typeof s === 'string' && new RegExp('[,()]').test(s)) return `\"${s}\"`\n        else return `${s}`\n      })\n      .join(',')\n    this.url.searchParams.append(`${column}`, `in.(${cleanedValues})`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column`\n   * contains the values specified in `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  contains(column: keyof T, value: string | T[keyof T][] | object): this {\n    if (typeof value === 'string') {\n      // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n      // keep it simple and accept a string\n      this.url.searchParams.append(`${column}`, `cs.${value}`)\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(`${column}`, `cs.{${value.join(',')}}`)\n    } else {\n      // json\n      this.url.searchParams.append(`${column}`, `cs.${JSON.stringify(value)}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `contains()` instead. */\n  cs = this.contains\n\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column` is\n   * contained by the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  containedBy(column: keyof T, value: string | T[keyof T][] | object): this {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(`${column}`, `cd.${value}`)\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(`${column}`, `cd.{${value.join(',')}}`)\n    } else {\n      // json\n      this.url.searchParams.append(`${column}`, `cd.${JSON.stringify(value)}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `containedBy()` instead. */\n  cd = this.containedBy\n\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to the\n   * left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeLt(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `sl.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeLt()` instead. */\n  sl = this.rangeLt\n\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to\n   * the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeGt(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `sr.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeGt()` instead. */\n  sr = this.rangeGt\n\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeGte(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `nxl.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeGte()` instead. */\n  nxl = this.rangeGte\n\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeLte(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `nxr.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeLte()` instead. */\n  nxr = this.rangeLte\n\n  /**\n   * Finds all rows whose range value on the stated `column` is adjacent to\n   * the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeAdjacent(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `adj.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeAdjacent()` instead. */\n  adj = this.rangeAdjacent\n\n  /**\n   * Finds all rows whose array or range value on the stated `column` overlaps\n   * (has a value in common) with the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  overlaps(column: keyof T, value: string | T[keyof T][]): this {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(`${column}`, `ov.${value}`)\n    } else {\n      // array\n      this.url.searchParams.append(`${column}`, `ov.{${value.join(',')}}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `overlaps()` instead. */\n  ov = this.overlaps\n\n  /**\n   * Finds all rows whose text or tsvector value on the stated `column` matches\n   * the tsquery in `query`.\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   * @param type  The type of tsquery conversion to use on `query`.\n   */\n  textSearch(\n    column: keyof T,\n    query: string,\n    {\n      config,\n      type = null,\n    }: { config?: string; type?: 'plain' | 'phrase' | 'websearch' | null } = {}\n  ): this {\n    let typePart = ''\n    if (type === 'plain') {\n      typePart = 'pl'\n    } else if (type === 'phrase') {\n      typePart = 'ph'\n    } else if (type === 'websearch') {\n      typePart = 'w'\n    }\n    const configPart = config === undefined ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `${typePart}fts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` instead.\n   */\n  fts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `fts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * plainto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'plain'` instead.\n   */\n  plfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `plfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * phraseto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'phrase'` instead.\n   */\n  phfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `phfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * websearch_to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'websearch'` instead.\n   */\n  wfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `wfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose `column` satisfies the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n  filter(column: keyof T, operator: FilterOperator, value: any): this {\n    this.url.searchParams.append(`${column}`, `${operator}.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose columns match the specified `query` object.\n   *\n   * @param query  The object to filter with, with column names as keys mapped\n   *               to their filter values.\n   */\n  match(query: Record<string, unknown>): this {\n    Object.keys(query).forEach((key) => {\n      this.url.searchParams.append(`${key}`, `eq.${query[key]}`)\n    })\n    return this\n  }\n}\n","import { PostgrestBuilder, PostgrestMaybeSingleResponse, PostgrestSingleResponse } from './types'\n\n/**\n * Post-filters (transforms)\n */\n\nexport default class PostgrestTransformBuilder<T> extends PostgrestBuilder<T> {\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   */\n  select(columns = '*'): this {\n    // Remove whitespaces except when quoted\n    let quoted = false\n    const cleanedColumns = columns\n      .split('')\n      .map((c) => {\n        if (/\\s/.test(c) && !quoted) {\n          return ''\n        }\n        if (c === '\"') {\n          quoted = !quoted\n        }\n        return c\n      })\n      .join('')\n    this.url.searchParams.set('select', cleanedColumns)\n    return this\n  }\n\n  /**\n   * Orders the result with the specified `column`.\n   *\n   * @param column  The column to order on.\n   * @param ascending  If `true`, the result will be in ascending order.\n   * @param nullsFirst  If `true`, `null`s appear first.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n  order(\n    column: keyof T,\n    {\n      ascending = true,\n      nullsFirst = false,\n      foreignTable,\n    }: { ascending?: boolean; nullsFirst?: boolean; foreignTable?: string } = {}\n  ): this {\n    const key = typeof foreignTable === 'undefined' ? 'order' : `${foreignTable}.order`\n    const existingOrder = this.url.searchParams.get(key)\n\n    this.url.searchParams.set(\n      key,\n      `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}.${\n        nullsFirst ? 'nullsfirst' : 'nullslast'\n      }`\n    )\n    return this\n  }\n\n  /**\n   * Limits the result with the specified `count`.\n   *\n   * @param count  The maximum no. of rows to limit to.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n  limit(count: number, { foreignTable }: { foreignTable?: string } = {}): this {\n    const key = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`\n    this.url.searchParams.set(key, `${count}`)\n    return this\n  }\n\n  /**\n   * Limits the result to rows within the specified range, inclusive.\n   *\n   * @param from  The starting index from which to limit the result, inclusive.\n   * @param to  The last index to which to limit the result, inclusive.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n  range(from: number, to: number, { foreignTable }: { foreignTable?: string } = {}): this {\n    const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : `${foreignTable}.offset`\n    const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`\n    this.url.searchParams.set(keyOffset, `${from}`)\n    // Range is inclusive, so add 1\n    this.url.searchParams.set(keyLimit, `${to - from + 1}`)\n    return this\n  }\n\n  /**\n   * Sets the AbortSignal for the fetch request.\n   */\n  abortSignal(signal: AbortSignal): this {\n    this.signal = signal\n    return this\n  }\n\n  /**\n   * Retrieves only one row from the result. Result must be one row (e.g. using\n   * `limit`), otherwise this will result in an error.\n   */\n  single(): PromiseLike<PostgrestSingleResponse<T>> {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json'\n    return this as PromiseLike<PostgrestSingleResponse<T>>\n  }\n\n  /**\n   * Retrieves at most one row from the result. Result must be at most one row\n   * (e.g. using `eq` on a UNIQUE column), otherwise this will result in an\n   * error.\n   */\n  maybeSingle(): PromiseLike<PostgrestMaybeSingleResponse<T>> {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json'\n    const _this = new PostgrestTransformBuilder(this)\n    _this.then = ((onfulfilled: any, onrejected: any) =>\n      this.then((res: any): any => {\n        if (res.error?.details?.includes('Results contain 0 rows')) {\n          return onfulfilled({\n            error: null,\n            data: null,\n            count: res.count,\n            status: 200,\n            statusText: 'OK',\n            body: null,\n          })\n        }\n\n        return onfulfilled(res)\n      }, onrejected)) as any\n    return _this as PromiseLike<PostgrestMaybeSingleResponse<T>>\n  }\n\n  /**\n   * Set the response type to CSV.\n   */\n  csv(): PromiseLike<PostgrestSingleResponse<string>> {\n    this.headers['Accept'] = 'text/csv'\n    return this as PromiseLike<PostgrestSingleResponse<string>>\n  }\n}\n","import { Fetch, PostgrestBuilder } from './types'\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder'\n\nexport default class PostgrestRpcBuilder<T> extends PostgrestBuilder<T> {\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    } = {}\n  ) {\n    super(({ fetch, shouldThrowOnError } as unknown) as PostgrestBuilder<T>)\n    this.url = new URL(url)\n    this.headers = { ...headers }\n    this.schema = schema\n  }\n\n  /**\n   * Perform a function call.\n   */\n  rpc(\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    if (head) {\n      this.method = 'HEAD'\n\n      if (params) {\n        Object.entries(params).forEach(([name, value]) => {\n          this.url.searchParams.append(name, value)\n        })\n      }\n    } else {\n      this.method = 'POST'\n      this.body = params\n    }\n\n    if (count) {\n      if (this.headers['Prefer'] !== undefined) this.headers['Prefer'] += `,count=${count}`\n      else this.headers['Prefer'] = `count=${count}`\n    }\n\n    return new PostgrestFilterBuilder(this)\n  }\n}\n","import { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version}` }\n","// generated by genversion\nexport const version = '0.37.2'\n","import { RealtimeSubscription, RealtimeClient, Transformers } from '@supabase/realtime-js'\nimport { GenericObject, SupabaseEventTypes, SupabaseRealtimePayload } from './types'\n\nexport class SupabaseRealtimeClient {\n  subscription: RealtimeSubscription\n\n  constructor(socket: RealtimeClient, headers: GenericObject, schema: string, tableName: string) {\n    const chanParams: GenericObject = {}\n    const topic = tableName === '*' ? `realtime:${schema}` : `realtime:${schema}:${tableName}`\n    const userToken = headers['Authorization'].split(' ')[1]\n\n    if (userToken) {\n      chanParams['user_token'] = userToken\n    }\n\n    this.subscription = socket.channel(topic, chanParams) as RealtimeSubscription\n  }\n\n  private getPayloadRecords(payload: any) {\n    const records = {\n      new: {},\n      old: {},\n    }\n\n    if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n      records.new = Transformers.convertChangeData(payload.columns, payload.record)\n    }\n\n    if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n      records.old = Transformers.convertChangeData(payload.columns, payload.old_record)\n    }\n\n    return records\n  }\n\n  /**\n   * The event you want to listen to.\n   *\n   * @param event The event\n   * @param callback A callback function that is called whenever the event occurs.\n   */\n  on(event: SupabaseEventTypes, callback: (payload: SupabaseRealtimePayload<any>) => void) {\n    this.subscription.on(event, (payload: any) => {\n      let enrichedPayload: SupabaseRealtimePayload<any> = {\n        schema: payload.schema,\n        table: payload.table,\n        commit_timestamp: payload.commit_timestamp,\n        eventType: payload.type,\n        new: {},\n        old: {},\n        errors: payload.errors,\n      }\n\n      enrichedPayload = { ...enrichedPayload, ...this.getPayloadRecords(payload) }\n\n      callback(enrichedPayload)\n    })\n    return this\n  }\n\n  /**\n   * Enables the subscription.\n   */\n  subscribe(callback: Function = () => {}) {\n    this.subscription.onError((e: Error) => callback('SUBSCRIPTION_ERROR', e))\n    this.subscription.onClose(() => callback('CLOSED'))\n    this.subscription\n      .subscribe()\n      .receive('ok', () => callback('SUBSCRIBED'))\n      .receive('error', (e: Error) => callback('SUBSCRIPTION_ERROR', e))\n      .receive('timeout', () => callback('RETRYING_AFTER_TIMEOUT'))\n    return this.subscription\n  }\n}\n","import * as Transformers from './lib/transformers'\nimport RealtimeClient, {\n  Options as RealtimeClientOptions,\n} from './RealtimeClient'\nimport RealtimeSubscription from './RealtimeSubscription'\nimport RealtimeChannel from './RealtimeChannel'\nimport RealtimePresence from './RealtimePresence'\n\nexport {\n  RealtimeClient,\n  RealtimeClientOptions,\n  RealtimeSubscription,\n  RealtimeChannel,\n  RealtimePresence,\n  Transformers,\n}\n","/**\n * Helpers to convert the change Payload into native JS types.\n */\n\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\n\nexport enum PostgresTypes {\n  abstime = 'abstime',\n  bool = 'bool',\n  date = 'date',\n  daterange = 'daterange',\n  float4 = 'float4',\n  float8 = 'float8',\n  int2 = 'int2',\n  int4 = 'int4',\n  int4range = 'int4range',\n  int8 = 'int8',\n  int8range = 'int8range',\n  json = 'json',\n  jsonb = 'jsonb',\n  money = 'money',\n  numeric = 'numeric',\n  oid = 'oid',\n  reltime = 'reltime',\n  text = 'text',\n  time = 'time',\n  timestamp = 'timestamp',\n  timestamptz = 'timestamptz',\n  timetz = 'timetz',\n  tsrange = 'tsrange',\n  tstzrange = 'tstzrange',\n}\n\ntype Columns = {\n  name: string // the column name. eg: \"user_id\"\n  type: string // the column type. eg: \"uuid\"\n  flags?: string[] // any special flags for the column. eg: [\"key\"]\n  type_modifier?: number // the type modifier. eg: 4294967295\n}[]\n\ntype BaseValue = null | string | number | boolean\ntype RecordValue = BaseValue | BaseValue[]\n\ntype Record = {\n  [key: string]: RecordValue\n}\n\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (\n  columns: Columns,\n  record: Record,\n  options: { skipTypes?: string[] } = {}\n): Record => {\n  const skipTypes = options.skipTypes ?? []\n\n  return Object.keys(record).reduce((acc, rec_key) => {\n    acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes)\n    return acc\n  }, {} as Record)\n}\n\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (\n  columnName: string,\n  columns: Columns,\n  record: Record,\n  skipTypes: string[]\n): RecordValue => {\n  const column = columns.find((x) => x.name === columnName)\n  const colType = column?.type\n  const value = record[columnName]\n\n  if (colType && !skipTypes.includes(colType)) {\n    return convertCell(colType, value)\n  }\n\n  return noop(value)\n}\n\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type: string, value: RecordValue): RecordValue => {\n  // if data type is an array\n  if (type.charAt(0) === '_') {\n    const dataType = type.slice(1, type.length)\n    return toArray(value, dataType)\n  }\n\n  // If not null, convert to correct type.\n  switch (type) {\n    case PostgresTypes.bool:\n      return toBoolean(value)\n    case PostgresTypes.float4:\n    case PostgresTypes.float8:\n    case PostgresTypes.int2:\n    case PostgresTypes.int4:\n    case PostgresTypes.int8:\n    case PostgresTypes.numeric:\n    case PostgresTypes.oid:\n      return toNumber(value)\n    case PostgresTypes.json:\n    case PostgresTypes.jsonb:\n      return toJson(value)\n    case PostgresTypes.timestamp:\n      return toTimestampString(value) // Format to be consistent with PostgREST\n    case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n    case PostgresTypes.date: // To allow users to cast it based on Timezone\n    case PostgresTypes.daterange:\n    case PostgresTypes.int4range:\n    case PostgresTypes.int8range:\n    case PostgresTypes.money:\n    case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n    case PostgresTypes.text:\n    case PostgresTypes.time: // To allow users to cast it based on Timezone\n    case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n    case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n    case PostgresTypes.tsrange:\n    case PostgresTypes.tstzrange:\n      return noop(value)\n    default:\n      // Return the value for remaining types\n      return noop(value)\n  }\n}\n\nconst noop = (value: RecordValue): RecordValue => {\n  return value\n}\nexport const toBoolean = (value: RecordValue): RecordValue => {\n  switch (value) {\n    case 't':\n      return true\n    case 'f':\n      return false\n    default:\n      return value\n  }\n}\nexport const toNumber = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    const parsedValue = parseFloat(value)\n    if (!Number.isNaN(parsedValue)) {\n      return parsedValue\n    }\n  }\n  return value\n}\nexport const toJson = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    try {\n      return JSON.parse(value)\n    } catch (error) {\n      console.log(`JSON parse error: ${error}`)\n      return value\n    }\n  }\n  return value\n}\n\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value: RecordValue, type: string): RecordValue => {\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  const lastIdx = value.length - 1\n  const closeBrace = value[lastIdx]\n  const openBrace = value[0]\n\n  // Confirm value is a Postgres array by checking curly brackets\n  if (openBrace === '{' && closeBrace === '}') {\n    let arr\n    const valTrim = value.slice(1, lastIdx)\n\n    // TODO: find a better solution to separate Postgres array data\n    try {\n      arr = JSON.parse('[' + valTrim + ']')\n    } catch (_) {\n      // WARNING: splitting on comma does not cover all edge cases\n      arr = valTrim ? valTrim.split(',') : []\n    }\n\n    return arr.map((val: BaseValue) => convertCell(type, val))\n  }\n\n  return value\n}\n\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    return value.replace(' ', 'T')\n  }\n\n  return value\n}\n","import { w3cwebsocket } from 'websocket'\nimport {\n  VSN,\n  CHANNEL_EVENTS,\n  TRANSPORTS,\n  SOCKET_STATES,\n  DEFAULT_TIMEOUT,\n  WS_CLOSE_NORMAL,\n  DEFAULT_HEADERS,\n} from './lib/constants'\nimport Timer from './lib/timer'\nimport Serializer from './lib/serializer'\nimport RealtimeSubscription from './RealtimeSubscription'\nimport RealtimeChannel from './RealtimeChannel'\n\nexport type Options = {\n  transport?: WebSocket\n  timeout?: number\n  heartbeatIntervalMs?: number\n  longpollerTimeout?: number\n  logger?: Function\n  encode?: Function\n  decode?: Function\n  reconnectAfterMs?: Function\n  headers?: { [key: string]: string }\n  params?: { [key: string]: string }\n}\ntype Message = {\n  topic: string\n  event: string\n  payload: any\n  ref: string\n}\n\nconst noop = () => {}\n\nexport default class RealtimeClient {\n  accessToken: string | null = null\n  channels: (RealtimeSubscription | RealtimeChannel)[] = []\n  endPoint: string = ''\n  headers?: { [key: string]: string } = DEFAULT_HEADERS\n  params?: { [key: string]: string } = {}\n  timeout: number = DEFAULT_TIMEOUT\n  transport: any = w3cwebsocket\n  heartbeatIntervalMs: number = 30000\n  longpollerTimeout: number = 20000\n  heartbeatTimer: ReturnType<typeof setInterval> | undefined = undefined\n  pendingHeartbeatRef: string | null = null\n  ref: number = 0\n  reconnectTimer: Timer\n  logger: Function = noop\n  encode: Function\n  decode: Function\n  reconnectAfterMs: Function\n  conn: WebSocket | null = null\n  sendBuffer: Function[] = []\n  serializer: Serializer = new Serializer()\n  stateChangeCallbacks: {\n    open: Function[]\n    close: Function[]\n    error: Function[]\n    message: Function[]\n  } = {\n    open: [],\n    close: [],\n    error: [],\n    message: [],\n  }\n\n  /**\n   * Initializes the Socket\n   *\n   * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n   * @param options.transport The Websocket Transport, for example WebSocket.\n   * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n   * @param options.params The optional params to pass when connecting.\n   * @param options.headers The optional headers to pass when connecting.\n   * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n   * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n   * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n   * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n   * @param options.longpollerTimeout The maximum timeout of a long poll AJAX request. Defaults to 20s (double the server long poll timer).\n   * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n   */\n  constructor(endPoint: string, options?: Options) {\n    this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`\n\n    if (options?.params) this.params = options.params\n    if (options?.headers) this.headers = { ...this.headers, ...options.headers }\n    if (options?.timeout) this.timeout = options.timeout\n    if (options?.logger) this.logger = options.logger\n    if (options?.transport) this.transport = options.transport\n    if (options?.heartbeatIntervalMs)\n      this.heartbeatIntervalMs = options.heartbeatIntervalMs\n    if (options?.longpollerTimeout)\n      this.longpollerTimeout = options.longpollerTimeout\n\n    this.reconnectAfterMs = options?.reconnectAfterMs\n      ? options.reconnectAfterMs\n      : (tries: number) => {\n          return [1000, 2000, 5000, 10000][tries - 1] || 10000\n        }\n    this.encode = options?.encode\n      ? options.encode\n      : (payload: JSON, callback: Function) => {\n          return callback(JSON.stringify(payload))\n        }\n    this.decode = options?.decode\n      ? options.decode\n      : this.serializer.decode.bind(this.serializer)\n    this.reconnectTimer = new Timer(async () => {\n      await this.disconnect()\n      this.connect()\n    }, this.reconnectAfterMs)\n  }\n\n  /**\n   * Connects the socket.\n   */\n  connect() {\n    if (this.conn) {\n      return\n    }\n\n    this.conn = new this.transport(this.endPointURL(), [], null, this.headers)\n    if (this.conn) {\n      // this.conn.timeout = this.longpollerTimeout // TYPE ERROR\n      this.conn.binaryType = 'arraybuffer'\n      this.conn.onopen = () => this._onConnOpen()\n      this.conn.onerror = (error) => this._onConnError(error as ErrorEvent)\n      this.conn.onmessage = (event) => this.onConnMessage(event)\n      this.conn.onclose = (event) => this._onConnClose(event)\n    }\n  }\n\n  /**\n   * Disconnects the socket.\n   *\n   * @param code A numeric status code to send on disconnect.\n   * @param reason A custom reason for the disconnect.\n   */\n  disconnect(\n    code?: number,\n    reason?: string\n  ): Promise<{ error: Error | null; data: boolean }> {\n    return new Promise((resolve, _reject) => {\n      try {\n        if (this.conn) {\n          this.conn.onclose = function () {} // noop\n          if (code) {\n            this.conn.close(code, reason || '')\n          } else {\n            this.conn.close()\n          }\n          this.conn = null\n          // remove open handles\n          this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n          this.reconnectTimer.reset()\n        }\n        resolve({ error: null, data: true })\n      } catch (error) {\n        resolve({ error: error as Error, data: false })\n      }\n    })\n  }\n\n  /**\n   * Logs the message. Override `this.logger` for specialized logging.\n   */\n  log(kind: string, msg: string, data?: any) {\n    this.logger(kind, msg, data)\n  }\n\n  /**\n   * Registers a callback for connection state change event.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket opened.\"))\n   */\n  onOpen(callback: Function) {\n    this.stateChangeCallbacks.open.push(callback)\n  }\n\n  /**\n   * Registers a callbacks for connection state change events.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket closed.\"))\n   */\n  onClose(callback: Function) {\n    this.stateChangeCallbacks.close.push(callback)\n  }\n\n  /**\n   * Registers a callback for connection state change events.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen((error) => console.log(\"An error occurred\"))\n   */\n  onError(callback: Function) {\n    this.stateChangeCallbacks.error.push(callback)\n  }\n\n  /**\n   * Calls a function any time a message is received.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onMessage((message) => console.log(message))\n   */\n  onMessage(callback: Function) {\n    this.stateChangeCallbacks.message.push(callback)\n  }\n\n  /**\n   * Returns the current state of the socket.\n   */\n  connectionState() {\n    switch (this.conn && this.conn.readyState) {\n      case SOCKET_STATES.connecting:\n        return 'connecting'\n      case SOCKET_STATES.open:\n        return 'open'\n      case SOCKET_STATES.closing:\n        return 'closing'\n      default:\n        return 'closed'\n    }\n  }\n\n  /**\n   * Retuns `true` is the connection is open.\n   */\n  isConnected() {\n    return this.connectionState() === 'open'\n  }\n\n  /**\n   * Removes a subscription from the socket.\n   *\n   * @param channel An open subscription.\n   */\n  remove(channel: RealtimeSubscription | RealtimeChannel) {\n    this.channels = this.channels.filter(\n      (c: RealtimeSubscription | RealtimeChannel) =>\n        c.joinRef() !== channel.joinRef()\n    )\n  }\n\n  channel(\n    topic: string,\n    chanParams: { [key: string]: any } = { isNewVersion: false }\n  ) {\n    const { isNewVersion, ...params } = chanParams\n\n    const chan = isNewVersion\n      ? new RealtimeChannel(topic, { ...params }, this)\n      : new RealtimeSubscription(topic, { ...params }, this)\n\n    if (chan instanceof RealtimeChannel) {\n      chan.presence.onJoin((key, currentPresences, newPresences) => {\n        chan.trigger('presence', {\n          event: 'JOIN',\n          key,\n          currentPresences,\n          newPresences,\n        })\n      })\n\n      chan.presence.onLeave((key, currentPresences, leftPresences) => {\n        chan.trigger('presence', {\n          event: 'LEAVE',\n          key,\n          currentPresences,\n          leftPresences,\n        })\n      })\n\n      chan.presence.onSync(() => {\n        chan.trigger('presence', { event: 'SYNC' })\n      })\n    }\n\n    this.channels.push(chan)\n    return chan\n  }\n\n  push(data: Message) {\n    let { topic, event, payload, ref } = data\n    let callback = () => {\n      this.encode(data, (result: any) => {\n        this.conn?.send(result)\n      })\n    }\n    this.log('push', `${topic} ${event} (${ref})`, payload)\n    if (this.isConnected()) {\n      callback()\n    } else {\n      this.sendBuffer.push(callback)\n    }\n  }\n\n  onConnMessage(rawMessage: any) {\n    this.decode(rawMessage.data, (msg: Message) => {\n      let { topic, event, payload, ref } = msg\n\n      if (\n        (ref && ref === this.pendingHeartbeatRef) ||\n        event === payload?.type\n      ) {\n        this.pendingHeartbeatRef = null\n      }\n\n      this.log(\n        'receive',\n        `${payload.status || ''} ${topic} ${event} ${\n          (ref && '(' + ref + ')') || ''\n        }`,\n        payload\n      )\n      this.channels\n        .filter((channel: RealtimeSubscription | RealtimeChannel) =>\n          channel.isMember(topic)\n        )\n        .forEach((channel: RealtimeSubscription | RealtimeChannel) =>\n          channel.trigger(event, payload, ref)\n        )\n      this.stateChangeCallbacks.message.forEach((callback) => callback(msg))\n    })\n  }\n\n  /**\n   * Returns the URL of the websocket.\n   */\n  endPointURL() {\n    return this._appendParams(\n      this.endPoint,\n      Object.assign({}, this.params, { vsn: VSN })\n    )\n  }\n\n  /**\n   * Return the next message ref, accounting for overflows\n   */\n  makeRef() {\n    let newRef = this.ref + 1\n    if (newRef === this.ref) {\n      this.ref = 0\n    } else {\n      this.ref = newRef\n    }\n\n    return this.ref.toString()\n  }\n\n  /**\n   * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n   *\n   * @param token A JWT string.\n   */\n  setAuth(token: string | null) {\n    this.accessToken = token\n\n    try {\n      this.channels.forEach((channel) => {\n        token && channel.updateJoinPayload({ user_token: token })\n\n        if (channel.joinedOnce && channel.isJoined()) {\n          channel.push(CHANNEL_EVENTS.access_token, { access_token: token })\n        }\n      })\n    } catch (error) {\n      console.log('setAuth error', error)\n    }\n  }\n\n  leaveOpenTopic(topic: string): void {\n    let dupChannel = this.channels.find(\n      (c) => c.topic === topic && (c.isJoined() || c.isJoining())\n    )\n    if (dupChannel) {\n      this.log('transport', `leaving duplicate topic \"${topic}\"`)\n      dupChannel.unsubscribe()\n    }\n  }\n\n  private _onConnOpen() {\n    this.log('transport', `connected to ${this.endPointURL()}`)\n    this._flushSendBuffer()\n    this.reconnectTimer.reset()\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n    this.heartbeatTimer = setInterval(\n      () => this._sendHeartbeat(),\n      this.heartbeatIntervalMs\n    )\n    this.stateChangeCallbacks.open.forEach((callback) => callback())!\n  }\n\n  private _onConnClose(event: any) {\n    this.log('transport', 'close', event)\n    this._triggerChanError()\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n    this.reconnectTimer.scheduleTimeout()\n    this.stateChangeCallbacks.close.forEach((callback) => callback(event))\n  }\n\n  private _onConnError(error: ErrorEvent) {\n    this.log('transport', error.message)\n    this._triggerChanError()\n    this.stateChangeCallbacks.error.forEach((callback) => callback(error))\n  }\n\n  private _triggerChanError() {\n    this.channels.forEach((channel: RealtimeSubscription | RealtimeChannel) =>\n      channel.trigger(CHANNEL_EVENTS.error)\n    )\n  }\n\n  private _appendParams(url: string, params: { [key: string]: string }) {\n    if (Object.keys(params).length === 0) {\n      return url\n    }\n    const prefix = url.match(/\\?/) ? '&' : '?'\n    const query = new URLSearchParams(params)\n\n    return `${url}${prefix}${query}`\n  }\n\n  private _flushSendBuffer() {\n    if (this.isConnected() && this.sendBuffer.length > 0) {\n      this.sendBuffer.forEach((callback) => callback())\n      this.sendBuffer = []\n    }\n  }\n\n  private _sendHeartbeat() {\n    if (!this.isConnected()) {\n      return\n    }\n    if (this.pendingHeartbeatRef) {\n      this.pendingHeartbeatRef = null\n      this.log(\n        'transport',\n        'heartbeat timeout. Attempting to re-establish connection'\n      )\n      this.conn?.close(WS_CLOSE_NORMAL, 'hearbeat timeout')\n      return\n    }\n    this.pendingHeartbeatRef = this.makeRef()\n    this.push({\n      topic: 'phoenix',\n      event: 'heartbeat',\n      payload: {},\n      ref: this.pendingHeartbeatRef,\n    })\n    this.setAuth(this.accessToken)\n  }\n}\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","module.exports = require('../package.json').version;\n","{\n  \"name\": \"websocket\",\n  \"description\": \"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",\n  \"keywords\": [\n    \"websocket\",\n    \"websockets\",\n    \"socket\",\n    \"networking\",\n    \"comet\",\n    \"push\",\n    \"RFC-6455\",\n    \"realtime\",\n    \"server\",\n    \"client\"\n  ],\n  \"author\": \"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)\",\n  \"contributors\": [\n    \"Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)\"\n  ],\n  \"version\": \"1.0.34\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node.git\"\n  },\n  \"homepage\": \"https://github.com/theturtle32/WebSocket-Node\",\n  \"engines\": {\n    \"node\": \">=4.0.0\"\n  },\n  \"dependencies\": {\n    \"bufferutil\": \"^4.0.1\",\n    \"debug\": \"^2.2.0\",\n    \"es5-ext\": \"^0.10.50\",\n    \"typedarray-to-buffer\": \"^3.1.5\",\n    \"utf-8-validate\": \"^5.0.2\",\n    \"yaeti\": \"^0.0.6\"\n  },\n  \"devDependencies\": {\n    \"buffer-equal\": \"^1.0.0\",\n    \"gulp\": \"^4.0.2\",\n    \"gulp-jshint\": \"^2.0.4\",\n    \"jshint-stylish\": \"^2.2.1\",\n    \"jshint\": \"^2.0.0\",\n    \"tape\": \"^4.9.1\"\n  },\n  \"config\": {\n    \"verbose\": false\n  },\n  \"scripts\": {\n    \"test\": \"tape test/unit/*.js\",\n    \"gulp\": \"gulp\"\n  },\n  \"main\": \"index\",\n  \"directories\": {\n    \"lib\": \"./lib\"\n  },\n  \"browser\": \"lib/browser.js\",\n  \"license\": \"Apache-2.0\"\n}\n","import { version } from './version'\n\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` }\n\nexport const VSN: string = '1.0.0'\n\nexport const DEFAULT_TIMEOUT = 10000\n\nexport const WS_CLOSE_NORMAL = 1000\n\nexport enum SOCKET_STATES {\n  connecting = 0,\n  open = 1,\n  closing = 2,\n  closed = 3,\n}\n\nexport enum CHANNEL_STATES {\n  closed = 'closed',\n  errored = 'errored',\n  joined = 'joined',\n  joining = 'joining',\n  leaving = 'leaving',\n}\n\nexport enum CHANNEL_EVENTS {\n  close = 'phx_close',\n  error = 'phx_error',\n  join = 'phx_join',\n  reply = 'phx_reply',\n  leave = 'phx_leave',\n  access_token = 'access_token',\n}\n\nexport enum TRANSPORTS {\n  websocket = 'websocket',\n}\n","export const version = '1.6.2'\n","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n  timer: number | undefined = undefined\n  tries: number = 0\n\n  constructor(public callback: Function, public timerCalc: Function) {\n    this.callback = callback\n    this.timerCalc = timerCalc\n  }\n\n  reset() {\n    this.tries = 0\n    clearTimeout(this.timer)\n  }\n\n  // Cancels any previous scheduleTimeout and schedules callback\n  scheduleTimeout() {\n    clearTimeout(this.timer)\n\n    this.timer = <any>setTimeout(() => {\n      this.tries = this.tries + 1\n      this.callback()\n    }, this.timerCalc(this.tries + 1))\n  }\n}\n","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\n\nexport default class Serializer {\n  HEADER_LENGTH = 1\n\n  decode(rawPayload: ArrayBuffer | string, callback: Function) {\n    if (rawPayload.constructor === ArrayBuffer) {\n      return callback(this._binaryDecode(rawPayload))\n    }\n\n    if (typeof rawPayload === 'string') {\n      return callback(JSON.parse(rawPayload))\n    }\n\n    return callback({})\n  }\n\n  private _binaryDecode(buffer: ArrayBuffer) {\n    const view = new DataView(buffer)\n    const decoder = new TextDecoder()\n\n    return this._decodeBroadcast(buffer, view, decoder)\n  }\n\n  private _decodeBroadcast(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    ref: null\n    topic: string\n    event: string\n    payload: object\n  } {\n    const topicSize = view.getUint8(1)\n    const eventSize = view.getUint8(2)\n    let offset = this.HEADER_LENGTH + 2\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    const data = JSON.parse(\n      decoder.decode(buffer.slice(offset, buffer.byteLength))\n    )\n\n    return { ref: null, topic: topic, event: event, payload: data }\n  }\n}\n","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants'\nimport Push from './lib/push'\nimport RealtimeClient from './RealtimeClient'\nimport Timer from './lib/timer'\n\nexport default class RealtimeSubscription {\n  bindings: any[] = []\n  timeout: number\n  state = CHANNEL_STATES.closed\n  joinedOnce = false\n  joinPush: Push\n  rejoinTimer: Timer\n  pushBuffer: Push[] = []\n\n  constructor(\n    public topic: string,\n    public params: { [key: string]: unknown } = {},\n    public socket: RealtimeClient\n  ) {\n    this.timeout = this.socket.timeout\n    this.joinPush = new Push(\n      this,\n      CHANNEL_EVENTS.join,\n      this.params,\n      this.timeout\n    )\n    this.rejoinTimer = new Timer(\n      () => this.rejoinUntilConnected(),\n      this.socket.reconnectAfterMs\n    )\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach((pushEvent: Push) => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this.onClose(() => {\n      this.rejoinTimer.reset()\n      this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket.remove(this)\n    })\n    this.onError((reason: string) => {\n      if (this.isLeaving() || this.isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.joinPush.receive('timeout', () => {\n      if (!this.isJoining()) {\n        return\n      }\n      this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.on(CHANNEL_EVENTS.reply, (payload: any, ref: string) => {\n      this.trigger(this.replyEventName(ref), payload)\n    })\n  }\n\n  rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout()\n    if (this.socket.isConnected()) {\n      this.rejoin()\n    }\n  }\n\n  subscribe(timeout = this.timeout) {\n    if (this.joinedOnce) {\n      throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`\n    } else {\n      this.joinedOnce = true\n      this.rejoin(timeout)\n      return this.joinPush\n    }\n  }\n\n  onClose(callback: Function) {\n    this.on(CHANNEL_EVENTS.close, callback)\n  }\n\n  onError(callback: Function) {\n    this.on(CHANNEL_EVENTS.error, (reason: string) => callback(reason))\n  }\n\n  on(event: string, callback: Function) {\n    this.bindings.push({ event, callback })\n  }\n\n  off(event: string) {\n    this.bindings = this.bindings.filter((bind) => bind.event !== event)\n  }\n\n  canPush() {\n    return this.socket.isConnected() && this.isJoined()\n  }\n\n  push(event: CHANNEL_EVENTS, payload: any, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`\n    }\n    let pushEvent = new Push(this, event, payload, timeout)\n    if (this.canPush()) {\n      pushEvent.send()\n    } else {\n      pushEvent.startTimeout()\n      this.pushBuffer.push(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  updateJoinPayload(payload: { [key: string]: unknown }): void {\n    this.joinPush.updatePayload(payload)\n  }\n\n  /**\n   * Leaves the channel\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n  unsubscribe(timeout = this.timeout) {\n    this.state = CHANNEL_STATES.leaving\n    let onClose = () => {\n      this.socket.log('channel', `leave ${this.topic}`)\n      this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef())\n    }\n    // Destroy joinPush to avoid connection timeouts during unscription phase\n    this.joinPush.destroy()\n\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout)\n    leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose())\n    leavePush.send()\n    if (!this.canPush()) {\n      leavePush.trigger('ok', {})\n    }\n\n    return leavePush\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   */\n  onMessage(event: string, payload: any, ref?: string) {\n    return payload\n  }\n\n  isMember(topic: string) {\n    return this.topic === topic\n  }\n\n  joinRef() {\n    return this.joinPush.ref\n  }\n\n  rejoin(timeout = this.timeout) {\n    if (this.isLeaving()) {\n      return\n    }\n    this.socket.leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  trigger(event: string, payload?: any, ref?: string) {\n    let { close, error, leave, join } = CHANNEL_EVENTS\n    let events: string[] = [close, error, leave, join]\n    if (ref && events.indexOf(event) >= 0 && ref !== this.joinRef()) {\n      return\n    }\n    let handledPayload = this.onMessage(event, payload, ref)\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified'\n    }\n\n    this.bindings\n      .filter((bind) => {\n        // Bind all events if the user specifies a wildcard.\n        if (bind.event === '*') {\n          return event === payload?.type\n        } else {\n          return bind.event === event\n        }\n      })\n      .map((bind) => bind.callback(handledPayload, ref))\n  }\n\n  replyEventName(ref: string) {\n    return `chan_reply_${ref}`\n  }\n\n  isClosed() {\n    return this.state === CHANNEL_STATES.closed\n  }\n  isErrored() {\n    return this.state === CHANNEL_STATES.errored\n  }\n  isJoined() {\n    return this.state === CHANNEL_STATES.joined\n  }\n  isJoining() {\n    return this.state === CHANNEL_STATES.joining\n  }\n  isLeaving() {\n    return this.state === CHANNEL_STATES.leaving\n  }\n}\n","import { DEFAULT_TIMEOUT } from '../lib/constants'\nimport RealtimeChannel from '../RealtimeChannel'\nimport RealtimeSubscription from '../RealtimeSubscription'\n\nexport default class Push {\n  sent: boolean = false\n  timeoutTimer: number | undefined = undefined\n  ref: string = ''\n  receivedResp: {\n    status: string\n    response: Function\n  } | null = null\n  recHooks: {\n    status: string\n    callback: Function\n  }[] = []\n  refEvent: string | null = null\n\n  /**\n   * Initializes the Push\n   *\n   * @param channel The Channel\n   * @param event The event, for example `\"phx_join\"`\n   * @param payload The payload, for example `{user_id: 123}`\n   * @param timeout The push timeout in milliseconds\n   */\n  constructor(\n    public channel: RealtimeSubscription | RealtimeChannel,\n    public event: string,\n    public payload: { [key: string]: unknown } = {},\n    public timeout: number = DEFAULT_TIMEOUT\n  ) {}\n\n  resend(timeout: number) {\n    this.timeout = timeout\n    this._cancelRefEvent()\n    this.ref = ''\n    this.refEvent = null\n    this.receivedResp = null\n    this.sent = false\n    this.send()\n  }\n\n  send() {\n    if (this._hasReceived('timeout')) {\n      return\n    }\n    this.startTimeout()\n    this.sent = true\n    this.channel.socket.push({\n      topic: this.channel.topic,\n      event: this.event,\n      payload: this.payload,\n      ref: this.ref,\n    })\n  }\n\n  updatePayload(payload: { [key: string]: unknown }): void {\n    this.payload = { ...this.payload, ...payload }\n  }\n\n  receive(status: string, callback: Function) {\n    if (this._hasReceived(status)) {\n      callback(this.receivedResp?.response)\n    }\n\n    this.recHooks.push({ status, callback })\n    return this\n  }\n\n  startTimeout() {\n    if (this.timeoutTimer) {\n      return\n    }\n    this.ref = this.channel.socket.makeRef()\n    this.refEvent = this.channel.replyEventName(this.ref)\n\n    const callback = (payload: any) => {\n      this._cancelRefEvent()\n      this._cancelTimeout()\n      this.receivedResp = payload\n      this._matchReceive(payload)\n    }\n\n    if (this.channel instanceof RealtimeSubscription) {\n      this.channel.on(this.refEvent, callback)\n    } else {\n      this.channel.on(this.refEvent, {}, callback)\n    }\n\n    this.timeoutTimer = <any>setTimeout(() => {\n      this.trigger('timeout', {})\n    }, this.timeout)\n  }\n\n  trigger(status: string, response: any) {\n    if (this.refEvent) this.channel.trigger(this.refEvent, { status, response })\n  }\n\n  destroy() {\n    this._cancelRefEvent()\n    this._cancelTimeout()\n  }\n\n  private _cancelRefEvent() {\n    if (!this.refEvent) {\n      return\n    }\n\n    if (this.channel instanceof RealtimeSubscription) {\n      this.channel.off(this.refEvent)\n    } else {\n      this.channel.off(this.refEvent, {})\n    }\n  }\n\n  private _cancelTimeout() {\n    clearTimeout(this.timeoutTimer)\n    this.timeoutTimer = undefined\n  }\n\n  private _matchReceive({\n    status,\n    response,\n  }: {\n    status: string\n    response: Function\n  }) {\n    this.recHooks\n      .filter((h) => h.status === status)\n      .forEach((h) => h.callback(response))\n  }\n\n  private _hasReceived(status: string) {\n    return this.receivedResp && this.receivedResp.status === status\n  }\n}\n","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants'\nimport Push from './lib/push'\nimport RealtimeClient from './RealtimeClient'\nimport Timer from './lib/timer'\nimport RealtimePresence from './RealtimePresence'\n\nexport default class RealtimeChannel {\n  bindings: any[] = []\n  timeout: number\n  state = CHANNEL_STATES.closed\n  joinedOnce = false\n  joinPush: Push\n  rejoinTimer: Timer\n  pushBuffer: Push[] = []\n  presence: RealtimePresence\n\n  constructor(\n    public topic: string,\n    public params: { [key: string]: unknown } = {},\n    public socket: RealtimeClient\n  ) {\n    this.timeout = this.socket.timeout\n    this.joinPush = new Push(\n      this,\n      CHANNEL_EVENTS.join,\n      this.params,\n      this.timeout\n    )\n    this.rejoinTimer = new Timer(\n      () => this.rejoinUntilConnected(),\n      this.socket.reconnectAfterMs\n    )\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach((pushEvent: Push) => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this.onClose(() => {\n      this.rejoinTimer.reset()\n      this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket.remove(this)\n    })\n    this.onError((reason: string) => {\n      if (this.isLeaving() || this.isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.joinPush.receive('timeout', () => {\n      if (!this.isJoining()) {\n        return\n      }\n      this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.on(CHANNEL_EVENTS.reply, {}, (payload: any, ref: string) => {\n      this.trigger(this.replyEventName(ref), payload)\n    })\n    this.presence = new RealtimePresence(this)\n  }\n\n  list() {\n    return this.presence.list()\n  }\n\n  rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout()\n    if (this.socket.isConnected()) {\n      this.rejoin()\n    }\n  }\n\n  subscribe(timeout = this.timeout) {\n    if (this.joinedOnce) {\n      throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`\n    } else {\n      const configs = this.bindings.reduce(\n        (acc, binding: { [key: string]: any }) => {\n          const { type } = binding\n          if (\n            ![\n              'phx_close',\n              'phx_error',\n              'phx_reply',\n              'presence_diff',\n              'presence_state',\n            ].includes(type)\n          ) {\n            acc[type] = binding\n          }\n          return acc\n        },\n        {}\n      )\n\n      if (Object.keys(configs).length) {\n        this.updateJoinPayload({ configs })\n      }\n\n      this.joinedOnce = true\n      this.rejoin(timeout)\n      return this.joinPush\n    }\n  }\n\n  onClose(callback: Function) {\n    this.on(CHANNEL_EVENTS.close, {}, callback)\n  }\n\n  onError(callback: Function) {\n    this.on(CHANNEL_EVENTS.error, {}, (reason: string) => callback(reason))\n  }\n\n  on(\n    type: string,\n    eventFilter?: { [key: string]: string },\n    callback?: Function\n  ) {\n    this.bindings.push({\n      type,\n      eventFilter: eventFilter ?? {},\n      callback: callback ?? (() => {}),\n    })\n  }\n\n  off(type: string, eventFilter: { [key: string]: any }) {\n    this.bindings = this.bindings.filter((bind) => {\n      return !(\n        bind.type === type &&\n        RealtimeChannel.isEqual(bind.eventFilter, eventFilter)\n      )\n    })\n  }\n\n  canPush() {\n    return this.socket.isConnected() && this.isJoined()\n  }\n\n  push(event: CHANNEL_EVENTS, payload: any, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`\n    }\n    let pushEvent = new Push(this, event, payload, timeout)\n    if (this.canPush()) {\n      pushEvent.send()\n    } else {\n      pushEvent.startTimeout()\n      this.pushBuffer.push(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  updateJoinPayload(payload: { [key: string]: unknown }): void {\n    this.joinPush.updatePayload(payload)\n  }\n\n  /**\n   * Leaves the channel\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n  unsubscribe(timeout = this.timeout) {\n    this.state = CHANNEL_STATES.leaving\n    let onClose = () => {\n      this.socket.log('channel', `leave ${this.topic}`)\n      this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef())\n    }\n    // Destroy joinPush to avoid connection timeouts during unscription phase\n    this.joinPush.destroy()\n\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout)\n    leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose())\n    leavePush.send()\n    if (!this.canPush()) {\n      leavePush.trigger('ok', {})\n    }\n\n    return leavePush\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   */\n  onMessage(event: string, payload: any, ref?: string) {\n    return payload\n  }\n\n  isMember(topic: string) {\n    return this.topic === topic\n  }\n\n  joinRef() {\n    return this.joinPush.ref\n  }\n\n  rejoin(timeout = this.timeout) {\n    if (this.isLeaving()) {\n      return\n    }\n    this.socket.leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  trigger(type: string, payload?: any, ref?: string) {\n    const { close, error, leave, join } = CHANNEL_EVENTS\n    const events: string[] = [close, error, leave, join]\n    if (ref && events.indexOf(type) >= 0 && ref !== this.joinRef()) {\n      return\n    }\n    const handledPayload = this.onMessage(type, payload, ref)\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified'\n    }\n\n    this.bindings\n      .filter((bind) => {\n        return (\n          bind?.type === type &&\n          (bind?.eventFilter?.event === '*' ||\n            bind?.eventFilter?.event === payload?.event)\n        )\n      })\n      .map((bind) => bind.callback(handledPayload, ref))\n  }\n\n  send(payload: { type: string; [key: string]: any }) {\n    const push = this.push(payload.type as any, payload)\n\n    return new Promise((resolve, reject) => {\n      push.receive('ok', () => resolve('ok'))\n      push.receive('timeout', () => reject('timeout'))\n    })\n  }\n\n  replyEventName(ref: string) {\n    return `chan_reply_${ref}`\n  }\n\n  isClosed() {\n    return this.state === CHANNEL_STATES.closed\n  }\n  isErrored() {\n    return this.state === CHANNEL_STATES.errored\n  }\n  isJoined() {\n    return this.state === CHANNEL_STATES.joined\n  }\n  isJoining() {\n    return this.state === CHANNEL_STATES.joining\n  }\n  isLeaving() {\n    return this.state === CHANNEL_STATES.leaving\n  }\n\n  private static isEqual(\n    obj1: { [key: string]: string },\n    obj2: { [key: string]: string }\n  ) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n      return false\n    }\n\n    for (const k in obj1) {\n      if (obj1[k] !== obj2[k]) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n","/*\n  This file draws heavily from https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/assets/js/phoenix/presence.js\n  License: https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/LICENSE.md\n*/\n\nimport {\n  PresenceOpts,\n  PresenceOnJoinCallback,\n  PresenceOnLeaveCallback,\n} from 'phoenix'\nimport RealtimeChannel from './RealtimeChannel'\n\ntype Presence = {\n  presence_id: string\n  [key: string]: any\n}\n\ntype PresenceState = { [key: string]: Presence[] }\n\ntype PresenceDiff = {\n  joins: PresenceState\n  leaves: PresenceState\n}\n\ntype RawPresenceState = {\n  [key: string]: Record<\n    'metas',\n    {\n      phx_ref?: string\n      phx_ref_prev?: string\n      [key: string]: any\n    }[]\n  >\n}\n\ntype RawPresenceDiff = {\n  joins: RawPresenceState\n  leaves: RawPresenceState\n}\n\ntype PresenceChooser<T> = (key: string, presences: any) => T\n\nexport default class RealtimePresence {\n  state: PresenceState = {}\n  pendingDiffs: RawPresenceDiff[] = []\n  joinRef: string | null = null\n  caller: {\n    onJoin: PresenceOnJoinCallback\n    onLeave: PresenceOnLeaveCallback\n    onSync: () => void\n  } = {\n    onJoin: () => {},\n    onLeave: () => {},\n    onSync: () => {},\n  }\n\n  /**\n   * Initializes the Presence\n   * @param channel - The RealtimeSubscription\n   * @param opts - The options,\n   *        for example `{events: {state: 'state', diff: 'diff'}}`\n   */\n  constructor(public channel: RealtimeChannel, opts?: PresenceOpts) {\n    const events = opts?.events || {\n      state: 'presence_state',\n      diff: 'presence_diff',\n    }\n\n    this.channel.on(events.state, {}, (newState: RawPresenceState) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      this.joinRef = this.channel.joinRef()\n\n      this.state = RealtimePresence.syncState(\n        this.state,\n        newState,\n        onJoin,\n        onLeave\n      )\n\n      this.pendingDiffs.forEach((diff) => {\n        this.state = RealtimePresence.syncDiff(\n          this.state,\n          diff,\n          onJoin,\n          onLeave\n        )\n      })\n\n      this.pendingDiffs = []\n\n      onSync()\n    })\n\n    this.channel.on(events.diff, {}, (diff: RawPresenceDiff) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      if (this.inPendingSyncState()) {\n        this.pendingDiffs.push(diff)\n      } else {\n        this.state = RealtimePresence.syncDiff(\n          this.state,\n          diff,\n          onJoin,\n          onLeave\n        )\n\n        onSync()\n      }\n    })\n  }\n\n  /**\n   * Used to sync the list of presences on the server\n   * with the client's state. An optional `onJoin` and `onLeave` callback can\n   * be provided to react to changes in the client's local presences across\n   * disconnects and reconnects with the server.\n   */\n  static syncState(\n    currentState: PresenceState,\n    newState: RawPresenceState | PresenceState,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): PresenceState {\n    const state = this.cloneDeep(currentState)\n    const transformedState = this.transformState(newState)\n    const joins: PresenceState = {}\n    const leaves: PresenceState = {}\n\n    this.map(state, (key: string, presences: Presence[]) => {\n      if (!transformedState[key]) {\n        leaves[key] = presences\n      }\n    })\n\n    this.map(transformedState, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key]\n\n      if (currentPresences) {\n        const newPresenceIds = newPresences.map((m: Presence) => m.presence_id)\n        const curPresenceIds = currentPresences.map(\n          (m: Presence) => m.presence_id\n        )\n        const joinedPresences: Presence[] = newPresences.filter(\n          (m: Presence) => curPresenceIds.indexOf(m.presence_id) < 0\n        )\n        const leftPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => newPresenceIds.indexOf(m.presence_id) < 0\n        )\n\n        if (joinedPresences.length > 0) {\n          joins[key] = joinedPresences\n        }\n\n        if (leftPresences.length > 0) {\n          leaves[key] = leftPresences\n        }\n      } else {\n        joins[key] = newPresences\n      }\n    })\n\n    return this.syncDiff(state, { joins, leaves }, onJoin, onLeave)\n  }\n\n  /**\n   *\n   * Used to sync a diff of presence join and leave\n   * events from the server, as they happen. Like `syncState`, `syncDiff`\n   * accepts optional `onJoin` and `onLeave` callbacks to react to a user\n   * joining or leaving from a device.\n   */\n  static syncDiff(\n    state: PresenceState,\n    diff: RawPresenceDiff | PresenceDiff,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): PresenceState {\n    const { joins, leaves } = {\n      joins: this.transformState(diff.joins),\n      leaves: this.transformState(diff.leaves),\n    }\n\n    if (!onJoin) {\n      onJoin = () => {}\n    }\n\n    if (!onLeave) {\n      onLeave = () => {}\n    }\n\n    this.map(joins, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key]\n      state[key] = this.cloneDeep(newPresences)\n\n      if (currentPresences) {\n        const joinedPresenceIds = state[key].map((m: Presence) => m.presence_id)\n        const curPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => joinedPresenceIds.indexOf(m.presence_id) < 0\n        )\n\n        state[key].unshift(...curPresences)\n      }\n\n      onJoin(key, currentPresences, newPresences)\n    })\n\n    this.map(leaves, (key, leftPresences: Presence[]) => {\n      let currentPresences: Presence[] = state[key]\n\n      if (!currentPresences) return\n\n      const presenceIdsToRemove = leftPresences.map(\n        (m: Presence) => m.presence_id\n      )\n      currentPresences = currentPresences.filter(\n        (m: Presence) => presenceIdsToRemove.indexOf(m.presence_id) < 0\n      )\n\n      state[key] = currentPresences\n\n      onLeave(key, currentPresences, leftPresences)\n\n      if (currentPresences.length === 0) delete state[key]\n    })\n\n    return state\n  }\n\n  /**\n   * Returns the array of presences, with selected metadata.\n   */\n  static list<T = any>(\n    presences: PresenceState,\n    chooser: PresenceChooser<T> | undefined\n  ): T[] {\n    if (!chooser) {\n      chooser = (_key, pres) => pres\n    }\n\n    return this.map(presences, (key, presences: Presence[]) =>\n      chooser!(key, presences)\n    )\n  }\n\n  private static map<T = any>(\n    obj: PresenceState,\n    func: PresenceChooser<T>\n  ): T[] {\n    return Object.getOwnPropertyNames(obj).map((key) => func(key, obj[key]))\n  }\n\n  /**\n   * Remove 'metas' key\n   * Change 'phx_ref' to 'presence_id'\n   * Remove 'phx_ref' and 'phx_ref_prev'\n   *\n   * @example\n   * // returns {\n   *  abc123: [\n   *    { presence_id: '2', user_id: 1 },\n   *    { presence_id: '3', user_id: 2 }\n   *  ]\n   * }\n   * RealtimePresence.transformState({\n   *  abc123: {\n   *    metas: [\n   *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },\n   *      { phx_ref: '3', user_id: 2 }\n   *    ]\n   *  }\n   * })\n   */\n  private static transformState(\n    state: RawPresenceState | PresenceState\n  ): PresenceState {\n    state = this.cloneDeep(state)\n\n    return Object.getOwnPropertyNames(state).reduce((newState, key) => {\n      const presences = state[key]\n\n      if ('metas' in presences) {\n        newState[key] = presences.metas.map((presence) => {\n          presence['presence_id'] = presence['phx_ref']\n\n          delete presence['phx_ref']\n          delete presence['phx_ref_prev']\n\n          return presence\n        }) as Presence[]\n      } else {\n        newState[key] = presences\n      }\n\n      return newState\n    }, {} as PresenceState)\n  }\n\n  private static cloneDeep(obj: object) {\n    return JSON.parse(JSON.stringify(obj))\n  }\n\n  onJoin(callback: PresenceOnJoinCallback): void {\n    this.caller.onJoin = callback\n  }\n\n  onLeave(callback: PresenceOnLeaveCallback): void {\n    this.caller.onLeave = callback\n  }\n\n  onSync(callback: () => void): void {\n    this.caller.onSync = callback\n  }\n\n  list<T = any>(by?: PresenceChooser<T>): T[] {\n    return RealtimePresence.list<T>(this.state, by)\n  }\n\n  private inPendingSyncState(): boolean {\n    return !this.joinRef || this.joinRef !== this.channel.joinRef()\n  }\n}\n","import { StorageBucketApi, StorageFileApi } from './lib'\nimport { Fetch } from './lib/fetch'\n\nexport class StorageClient extends StorageBucketApi {\n  constructor(url: string, headers: { [key: string]: string } = {}, fetch?: Fetch) {\n    super(url, headers, fetch)\n  }\n\n  /**\n   * Perform file operation in a bucket.\n   *\n   * @param id The bucket id to operate on.\n   */\n  from(id: string): StorageFileApi {\n    return new StorageFileApi(this.url, this.headers, id, this.fetch)\n  }\n}\n","export * from './StorageBucketApi'\nexport * from './StorageFileApi'\nexport * from './types'\nexport * from './constants'\n","import { DEFAULT_HEADERS } from './constants'\nimport { Fetch, get, post, put, remove } from './fetch'\nimport { resolveFetch } from './helpers'\nimport { Bucket } from './types'\n\nexport class StorageBucketApi {\n  protected url: string\n  protected headers: { [key: string]: string }\n  protected fetch: Fetch\n\n  constructor(url: string, headers: { [key: string]: string } = {}, fetch?: Fetch) {\n    this.url = url\n    this.headers = { ...DEFAULT_HEADERS, ...headers }\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Retrieves the details of all Storage buckets within an existing product.\n   */\n  async listBuckets(): Promise<{ data: Bucket[] | null; error: Error | null }> {\n    try {\n      const data = await get(this.fetch, `${this.url}/bucket`, { headers: this.headers })\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Retrieves the details of an existing Storage bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to retrieve.\n   */\n  async getBucket(id: string): Promise<{ data: Bucket | null; error: Error | null }> {\n    try {\n      const data = await get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers })\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Creates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are creating.\n   * @returns newly created bucket id\n   */\n  async createBucket(\n    id: string,\n    options: { public: boolean } = { public: false }\n  ): Promise<{ data: string | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/bucket`,\n        { id, name: id, public: options.public },\n        { headers: this.headers }\n      )\n      return { data: data.name, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Updates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are creating.\n   */\n  async updateBucket(\n    id: string,\n    options: { public: boolean }\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await put(\n        this.fetch,\n        `${this.url}/bucket/${id}`,\n        { id, name: id, public: options.public },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Removes all objects inside a single bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to empty.\n   */\n  async emptyBucket(\n    id: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/bucket/${id}/empty`,\n        {},\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n   * You must first `empty()` the bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to delete.\n   */\n  async deleteBucket(\n    id: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await remove(\n        this.fetch,\n        `${this.url}/bucket/${id}`,\n        {},\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n}\n","import { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` }\n","// generated by genversion\nexport const version = '0.0.0'\n","export type Fetch = typeof fetch\n\nexport interface FetchOptions {\n  headers?: {\n    [key: string]: string\n  }\n  noResolveJson?: boolean\n}\n\nexport interface FetchParameters {\n  signal?: AbortSignal\n}\n\nexport type RequestMethodType = 'GET' | 'POST' | 'PUT' | 'DELETE'\n\nconst _getErrorMessage = (err: any): string =>\n  err.msg || err.message || err.error_description || err.error || JSON.stringify(err)\n\nconst handleError = (error: any, reject: any) => {\n  if (typeof error.json !== 'function') {\n    return reject(error)\n  }\n  error.json().then((err: any) => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: error?.status || 500,\n    })\n  })\n}\n\nconst _getRequestParams = (\n  method: RequestMethodType,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n) => {\n  const params: { [k: string]: any } = { method, headers: options?.headers || {} }\n\n  if (method === 'GET') {\n    return params\n  }\n\n  params.headers = { 'Content-Type': 'application/json', ...options?.headers }\n  params.body = JSON.stringify(body)\n  return { ...params, ...parameters }\n}\n\nasync function _handleRequest(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n): Promise<any> {\n  return new Promise((resolve, reject) => {\n    fetcher(url, _getRequestParams(method, options, parameters, body))\n      .then((result) => {\n        if (!result.ok) throw result\n        if (options?.noResolveJson) return resolve(result)\n        return result.json()\n      })\n      .then((data) => resolve(data))\n      .catch((error) => handleError(error, reject))\n  })\n}\n\nexport async function get(\n  fetcher: Fetch,\n  url: string,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'GET', url, options, parameters)\n}\n\nexport async function post(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'POST', url, options, parameters, body)\n}\n\nexport async function put(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'PUT', url, options, parameters, body)\n}\n\nexport async function remove(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'DELETE', url, options, parameters, body)\n}\n","import crossFetch from 'cross-fetch'\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = (crossFetch as unknown) as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","import { Fetch, FetchParameters, get, post, remove } from './fetch'\nimport { resolveFetch } from './helpers'\nimport { FileObject, FileOptions, SearchOptions } from './types'\n\nconst DEFAULT_SEARCH_OPTIONS = {\n  limit: 100,\n  offset: 0,\n  sortBy: {\n    column: 'name',\n    order: 'asc',\n  },\n}\n\nconst DEFAULT_FILE_OPTIONS: FileOptions = {\n  cacheControl: '3600',\n  contentType: 'text/plain;charset=UTF-8',\n  upsert: false,\n}\n\nexport class StorageFileApi {\n  protected url: string\n  protected headers: { [key: string]: string }\n  protected bucketId?: string\n  protected fetch: Fetch\n\n  constructor(\n    url: string,\n    headers: { [key: string]: string } = {},\n    bucketId?: string,\n    fetch?: Fetch\n  ) {\n    this.url = url\n    this.headers = headers\n    this.bucketId = bucketId\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n   *\n   * @param method HTTP method.\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  private async uploadOrUpdate(\n    method: 'POST' | 'PUT',\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    try {\n      let body\n      const options = { ...DEFAULT_FILE_OPTIONS, ...fileOptions }\n      const headers: Record<string, string> = {\n        ...this.headers,\n        ...(method === 'POST' && { 'x-upsert': String(options.upsert as boolean) }),\n      }\n\n      if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n        body = new FormData()\n        body.append('cacheControl', options.cacheControl as string)\n        body.append('', fileBody)\n      } else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n        body = fileBody\n        body.append('cacheControl', options.cacheControl as string)\n      } else {\n        body = fileBody\n        headers['cache-control'] = `max-age=${options.cacheControl}`\n        headers['content-type'] = options.contentType as string\n      }\n\n      const cleanPath = this._removeEmptyFolders(path)\n      const _path = this._getFinalPath(cleanPath)\n      const res = await this.fetch(`${this.url}/object/${_path}`, {\n        method,\n        body: body as BodyInit,\n        headers,\n      })\n\n      if (res.ok) {\n        // const data = await res.json()\n        // temporary fix till backend is updated to the latest storage-api version\n        return { data: { Key: _path }, error: null }\n      } else {\n        const error = await res.json()\n        return { data: null, error }\n      }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Uploads a file to an existing bucket.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  async upload(\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    return this.uploadOrUpdate('POST', path, fileBody, fileOptions)\n  }\n\n  /**\n   * Replaces an existing file at the specified path with a new one.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  async update(\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    return this.uploadOrUpdate('PUT', path, fileBody, fileOptions)\n  }\n\n  /**\n   * Moves an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n   */\n  async move(\n    fromPath: string,\n    toPath: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/move`,\n        { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Copies an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n   */\n  async copy(\n    fromPath: string,\n    toPath: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/copy`,\n        { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Create signed URL to download file without requiring permissions. This URL can be valid for a set number of seconds.\n   *\n   * @param path The file path to be downloaded, including the current file name. For example `folder/image.png`.\n   * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n   */\n  async createSignedUrl(\n    path: string,\n    expiresIn: number\n  ): Promise<{\n    data: { signedURL: string } | null\n    error: Error | null\n    signedURL: string | null\n  }> {\n    try {\n      const _path = this._getFinalPath(path)\n      let data = await post(\n        this.fetch,\n        `${this.url}/object/sign/${_path}`,\n        { expiresIn },\n        { headers: this.headers }\n      )\n      const signedURL = `${this.url}${data.signedURL}`\n      data = { signedURL }\n      return { data, error: null, signedURL }\n    } catch (error) {\n      return { data: null, error, signedURL: null }\n    }\n  }\n\n  /**\n   * Create signed URLs to download files without requiring permissions. These URLs can be valid for a set number of seconds.\n   *\n   * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n   * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n   */\n  async createSignedUrls(\n    paths: string[],\n    expiresIn: number\n  ): Promise<{\n    data: { error: string | null; path: string | null; signedURL: string }[] | null\n    error: Error | null\n  }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/sign/${this.bucketId}`,\n        { expiresIn, paths },\n        { headers: this.headers }\n      )\n      return {\n        data: data.map((datum: { signedURL: string }) => ({\n          ...datum,\n          signedURL: datum.signedURL ? `${this.url}${datum.signedURL}` : null,\n        })),\n        error: null,\n      }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Downloads a file.\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n  async download(path: string): Promise<{ data: Blob | null; error: Error | null }> {\n    try {\n      const _path = this._getFinalPath(path)\n      const res = await get(this.fetch, `${this.url}/object/${_path}`, {\n        headers: this.headers,\n        noResolveJson: true,\n      })\n      const data = await res.blob()\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Retrieve URLs for assets in public buckets\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n  getPublicUrl(\n    path: string\n  ): {\n    data: { publicURL: string } | null\n    error: Error | null\n    publicURL: string | null\n  } {\n    try {\n      const _path = this._getFinalPath(path)\n      const publicURL = `${this.url}/object/public/${_path}`\n      const data = { publicURL }\n      return { data, error: null, publicURL }\n    } catch (error) {\n      return { data: null, error, publicURL: null }\n    }\n  }\n\n  /**\n   * Deletes files within the same bucket\n   *\n   * @param paths An array of files to be deleted, including the path and file name. For example [`folder/image.png`].\n   */\n  async remove(paths: string[]): Promise<{ data: FileObject[] | null; error: Error | null }> {\n    try {\n      const data = await remove(\n        this.fetch,\n        `${this.url}/object/${this.bucketId}`,\n        { prefixes: paths },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Get file metadata\n   * @param id the file id to retrieve metadata\n   */\n  // async getMetadata(id: string): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await get(`${this.url}/metadata/${id}`, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Update file metadata\n   * @param id the file id to update metadata\n   * @param meta the new file metadata\n   */\n  // async updateMetadata(\n  //   id: string,\n  //   meta: Metadata\n  // ): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await post(`${this.url}/metadata/${id}`, { ...meta }, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Lists all the files within a bucket.\n   * @param path The folder path.\n   * @param options Search options, including `limit`, `offset`, and `sortBy`.\n   * @param parameters Fetch parameters, currently only supports `signal`, which is an AbortController's signal\n   */\n  async list(\n    path?: string,\n    options?: SearchOptions,\n    parameters?: FetchParameters\n  ): Promise<{ data: FileObject[] | null; error: Error | null }> {\n    try {\n      const body = { ...DEFAULT_SEARCH_OPTIONS, ...options, prefix: path || '' }\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/list/${this.bucketId}`,\n        body,\n        { headers: this.headers },\n        parameters\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  _getFinalPath(path: string) {\n    return `${this.bucketId}/${path}`\n  }\n\n  _removeEmptyFolders(path: string) {\n    return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/')\n  }\n}\n","import { resolveFetch } from './helper'\nimport { Fetch, FunctionInvokeOptions } from './types'\n\nexport class FunctionsClient {\n  protected url: string\n  protected headers: Record<string, string>\n  protected fetch: Fetch\n\n  constructor(\n    url: string,\n    {\n      headers = {},\n      customFetch,\n    }: {\n      headers?: Record<string, string>\n      customFetch?: Fetch\n    } = {}\n  ) {\n    this.url = url\n    this.headers = headers\n    this.fetch = resolveFetch(customFetch)\n  }\n\n  /**\n   * Updates the authorization header\n   * @params token - the new jwt token sent in the authorisation header\n   */\n  setAuth(token: string) {\n    this.headers.Authorization = `Bearer ${token}`\n  }\n\n  /**\n   * Invokes a function\n   * @param functionName - the name of the function to invoke\n   * @param invokeOptions - object with the following properties\n   * `headers`: object representing the headers to send with the request\n   * `body`: the body of the request\n   * `responseType`: how the response should be parsed. The default is `json`\n   */\n  async invoke<T = any>(\n    functionName: string,\n    invokeOptions?: FunctionInvokeOptions\n  ): Promise<{ data: T; error: null } | { data: null; error: Error }> {\n    try {\n      const { headers, body } = invokeOptions ?? {}\n      const response = await this.fetch(`${this.url}/${functionName}`, {\n        method: 'POST',\n        headers: Object.assign({}, this.headers, headers),\n        body,\n      })\n\n      const isRelayError = response.headers.get('x-relay-error')\n      if (isRelayError && isRelayError === 'true') {\n        return { data: null, error: new Error(await response.text()) }\n      }\n\n      let data\n      const { responseType } = invokeOptions ?? {}\n      if (!responseType || responseType === 'json') {\n        data = await response.json()\n      } else if (responseType === 'arrayBuffer') {\n        data = await response.arrayBuffer()\n      } else if (responseType === 'blob') {\n        data = await response.blob()\n      } else {\n        data = await response.text()\n      }\n\n      return { data, error: null }\n    } catch (error: any) {\n      return { data: null, error }\n    }\n  }\n}\n","import crossFetch from 'cross-fetch'\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = crossFetch as unknown as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","/* MIT https://github.com/fabiospampinato/cash */\n(function(){\n\"use strict\";\n\nvar propMap = {\n  /* GENERAL */\n  \"class\": 'className',\n  contenteditable: 'contentEditable',\n\n  /* LABEL */\n  \"for\": 'htmlFor',\n\n  /* INPUT */\n  readonly: 'readOnly',\n  maxlength: 'maxLength',\n  tabindex: 'tabIndex',\n\n  /* TABLE */\n  colspan: 'colSpan',\n  rowspan: 'rowSpan',\n\n  /* IMAGE */\n  usemap: 'useMap'\n};\n\nfunction attempt(fn, arg) {\n  try {\n    return fn(arg);\n  } catch (_a) {\n    return arg;\n  }\n}\n\nvar doc = document,\n    win = window,\n    docEle = doc.documentElement,\n    createElement = doc.createElement.bind(doc),\n    div = createElement('div'),\n    table = createElement('table'),\n    tbody = createElement('tbody'),\n    tr = createElement('tr'),\n    isArray = Array.isArray,\n    ArrayPrototype = Array.prototype,\n    concat = ArrayPrototype.concat,\n    filter = ArrayPrototype.filter,\n    indexOf = ArrayPrototype.indexOf,\n    map = ArrayPrototype.map,\n    push = ArrayPrototype.push,\n    slice = ArrayPrototype.slice,\n    some = ArrayPrototype.some,\n    splice = ArrayPrototype.splice;\nvar idRe = /^#(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    classRe = /^\\.(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    htmlRe = /<.+>/,\n    tagRe = /^\\w+$/; // @require ./variables.ts\n\nfunction find(selector, context) {\n  var isFragment = isDocumentFragment(context);\n  return !selector || !isFragment && !isDocument(context) && !isElement(context) ? [] : !isFragment && classRe.test(selector) ? context.getElementsByClassName(selector.slice(1)) : !isFragment && tagRe.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector);\n} // @require ./find.ts\n// @require ./variables.ts\n\n\nvar Cash =\n/** @class */\nfunction () {\n  function Cash(selector, context) {\n    if (!selector) return;\n    if (isCash(selector)) return selector;\n    var eles = selector;\n\n    if (isString(selector)) {\n      var ctx = (isCash(context) ? context[0] : context) || doc;\n      eles = idRe.test(selector) && 'getElementById' in ctx ? ctx.getElementById(selector.slice(1)) : htmlRe.test(selector) ? parseHTML(selector) : find(selector, ctx);\n      if (!eles) return;\n    } else if (isFunction(selector)) {\n      return this.ready(selector); //FIXME: `fn.ready` is not included in `core`, but it's actually a core functionality\n    }\n\n    if (eles.nodeType || eles === win) eles = [eles];\n    this.length = eles.length;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      this[i] = eles[i];\n    }\n  }\n\n  Cash.prototype.init = function (selector, context) {\n    return new Cash(selector, context);\n  };\n\n  return Cash;\n}();\n\nvar fn = Cash.prototype,\n    cash = fn.init;\ncash.fn = cash.prototype = fn; // Ensuring that `cash () instanceof cash`\n\nfn.length = 0;\nfn.splice = splice; // Ensuring a cash collection gets printed as array-like in Chrome's devtools\n\nif (typeof Symbol === 'function') {\n  // Ensuring a cash collection is iterable\n  fn[Symbol['iterator']] = ArrayPrototype[Symbol['iterator']];\n}\n\nfn.map = function (callback) {\n  return cash(concat.apply([], map.call(this, function (ele, i) {\n    return callback.call(ele, i, ele);\n  })));\n};\n\nfn.slice = function (start, end) {\n  return cash(slice.call(this, start, end));\n}; // @require ./cash.ts\n\n\nvar dashAlphaRe = /-([a-z])/g;\n\nfunction camelCase(str) {\n  return str.replace(dashAlphaRe, function (match, letter) {\n    return letter.toUpperCase();\n  });\n}\n\ncash.guid = 1; // @require ./cash.ts\n\nfunction matches(ele, selector) {\n  var matches = ele && (ele['matches'] || ele['webkitMatchesSelector'] || ele['msMatchesSelector']);\n  return !!matches && !!selector && matches.call(ele, selector);\n}\n\nfunction isCash(x) {\n  return x instanceof Cash;\n}\n\nfunction isWindow(x) {\n  return !!x && x === x.window;\n}\n\nfunction isDocument(x) {\n  return !!x && x.nodeType === 9;\n}\n\nfunction isDocumentFragment(x) {\n  return !!x && x.nodeType === 11;\n}\n\nfunction isElement(x) {\n  return !!x && x.nodeType === 1;\n}\n\nfunction isBoolean(x) {\n  return typeof x === 'boolean';\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isString(x) {\n  return typeof x === 'string';\n}\n\nfunction isUndefined(x) {\n  return x === undefined;\n}\n\nfunction isNull(x) {\n  return x === null;\n}\n\nfunction isNumeric(x) {\n  return !isNaN(parseFloat(x)) && isFinite(x);\n}\n\nfunction isPlainObject(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  var proto = Object.getPrototypeOf(x);\n  return proto === null || proto === Object.prototype;\n}\n\ncash.isWindow = isWindow;\ncash.isFunction = isFunction;\ncash.isArray = isArray;\ncash.isNumeric = isNumeric;\ncash.isPlainObject = isPlainObject;\n\nfn.get = function (index) {\n  if (isUndefined(index)) return slice.call(this);\n  index = Number(index);\n  return this[index < 0 ? index + this.length : index];\n};\n\nfn.eq = function (index) {\n  return cash(this.get(index));\n};\n\nfn.first = function () {\n  return this.eq(0);\n};\n\nfn.last = function () {\n  return this.eq(-1);\n};\n\nfunction each(arr, callback, _reverse) {\n  if (_reverse) {\n    var i = arr.length;\n\n    while (i--) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  } else if (isPlainObject(arr)) {\n    var keys = Object.keys(arr);\n\n    for (var i = 0, l = keys.length; i < l; i++) {\n      var key = keys[i];\n      if (callback.call(arr[key], key, arr[key]) === false) return arr;\n    }\n  } else {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  }\n\n  return arr;\n}\n\ncash.each = each;\n\nfn.each = function (callback) {\n  return each(this, callback);\n};\n\nfn.prop = function (prop, value) {\n  if (!prop) return;\n\n  if (isString(prop)) {\n    prop = propMap[prop] || prop;\n    if (arguments.length < 2) return this[0] && this[0][prop];\n    return this.each(function (i, ele) {\n      ele[prop] = value;\n    });\n  }\n\n  for (var key in prop) {\n    this.prop(key, prop[key]);\n  }\n\n  return this;\n};\n\nfn.removeProp = function (prop) {\n  return this.each(function (i, ele) {\n    delete ele[propMap[prop] || prop];\n  });\n};\n\nfunction extend() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  var deep = isBoolean(sources[0]) ? sources.shift() : false,\n      target = sources.shift(),\n      length = sources.length;\n  if (!target) return {};\n  if (!length) return extend(deep, cash, target);\n\n  for (var i = 0; i < length; i++) {\n    var source = sources[i];\n\n    for (var key in source) {\n      if (deep && (isArray(source[key]) || isPlainObject(source[key]))) {\n        if (!target[key] || target[key].constructor !== source[key].constructor) target[key] = new source[key].constructor();\n        extend(deep, target[key], source[key]);\n      } else {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}\n\ncash.extend = extend;\n\nfn.extend = function (plugins) {\n  return extend(fn, plugins);\n}; // @require ./matches.ts\n// @require ./type_checking.ts\n\n\nfunction getCompareFunction(comparator) {\n  return isString(comparator) ? function (i, ele) {\n    return matches(ele, comparator);\n  } : isFunction(comparator) ? comparator : isCash(comparator) ? function (i, ele) {\n    return comparator.is(ele);\n  } : !comparator ? function () {\n    return false;\n  } : function (i, ele) {\n    return ele === comparator;\n  };\n}\n\nfn.filter = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return cash(filter.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  }));\n}; // @require collection/filter.ts\n\n\nfunction filtered(collection, comparator) {\n  return !comparator ? collection : collection.filter(comparator);\n} // @require ./type_checking.ts\n\n\nvar splitValuesRe = /\\S+/g;\n\nfunction getSplitValues(str) {\n  return isString(str) ? str.match(splitValuesRe) || [] : [];\n}\n\nfn.hasClass = function (cls) {\n  return !!cls && some.call(this, function (ele) {\n    return isElement(ele) && ele.classList.contains(cls);\n  });\n};\n\nfn.removeAttr = function (attr) {\n  var attrs = getSplitValues(attr);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(attrs, function (i, a) {\n      ele.removeAttribute(a);\n    });\n  });\n};\n\nfunction attr(attr, value) {\n  if (!attr) return;\n\n  if (isString(attr)) {\n    if (arguments.length < 2) {\n      if (!this[0] || !isElement(this[0])) return;\n      var value_1 = this[0].getAttribute(attr);\n      return isNull(value_1) ? undefined : value_1;\n    }\n\n    if (isUndefined(value)) return this;\n    if (isNull(value)) return this.removeAttr(attr);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      ele.setAttribute(attr, value);\n    });\n  }\n\n  for (var key in attr) {\n    this.attr(key, attr[key]);\n  }\n\n  return this;\n}\n\nfn.attr = attr;\n\nfn.toggleClass = function (cls, force) {\n  var classes = getSplitValues(cls),\n      isForce = !isUndefined(force);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(classes, function (i, c) {\n      if (isForce) {\n        force ? ele.classList.add(c) : ele.classList.remove(c);\n      } else {\n        ele.classList.toggle(c);\n      }\n    });\n  });\n};\n\nfn.addClass = function (cls) {\n  return this.toggleClass(cls, true);\n};\n\nfn.removeClass = function (cls) {\n  if (arguments.length) return this.toggleClass(cls, false);\n  return this.attr('class', '');\n};\n\nfunction pluck(arr, prop, deep, until) {\n  var plucked = [],\n      isCallback = isFunction(prop),\n      compare = until && getCompareFunction(until);\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    if (isCallback) {\n      var val_1 = prop(arr[i]);\n      if (val_1.length) push.apply(plucked, val_1);\n    } else {\n      var val_2 = arr[i][prop];\n\n      while (val_2 != null) {\n        if (until && compare(-1, val_2)) break;\n        plucked.push(val_2);\n        val_2 = deep ? val_2[prop] : null;\n      }\n    }\n  }\n\n  return plucked;\n}\n\nfunction unique(arr) {\n  return arr.length > 1 ? filter.call(arr, function (item, index, self) {\n    return indexOf.call(self, item) === index;\n  }) : arr;\n}\n\ncash.unique = unique;\n\nfn.add = function (selector, context) {\n  return cash(unique(this.get().concat(cash(selector, context).get())));\n}; // @require core/type_checking.ts\n// @require core/variables.ts\n\n\nfunction computeStyle(ele, prop, isVariable) {\n  if (!isElement(ele)) return;\n  var style = win.getComputedStyle(ele, null);\n  return isVariable ? style.getPropertyValue(prop) || undefined : style[prop] || ele.style[prop];\n} // @require ./compute_style.ts\n\n\nfunction computeStyleInt(ele, prop) {\n  return parseInt(computeStyle(ele, prop), 10) || 0;\n}\n\nvar cssVariableRe = /^--/; // @require ./variables.ts\n\nfunction isCSSVariable(prop) {\n  return cssVariableRe.test(prop);\n} // @require core/camel_case.ts\n// @require core/cash.ts\n// @require core/each.ts\n// @require core/variables.ts\n// @require ./is_css_variable.ts\n\n\nvar prefixedProps = {},\n    style = div.style,\n    vendorsPrefixes = ['webkit', 'moz', 'ms'];\n\nfunction getPrefixedProp(prop, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  if (isVariable) return prop;\n\n  if (!prefixedProps[prop]) {\n    var propCC = camelCase(prop),\n        propUC = \"\" + propCC[0].toUpperCase() + propCC.slice(1),\n        props = (propCC + \" \" + vendorsPrefixes.join(propUC + \" \") + propUC).split(' ');\n    each(props, function (i, p) {\n      if (p in style) {\n        prefixedProps[prop] = p;\n        return false;\n      }\n    });\n  }\n\n  return prefixedProps[prop];\n}\n\n; // @require core/type_checking.ts\n// @require ./is_css_variable.ts\n\nvar numericProps = {\n  animationIterationCount: true,\n  columnCount: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  gridArea: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnStart: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowStart: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true\n};\n\nfunction getSuffixedValue(prop, value, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  return !isVariable && !numericProps[prop] && isNumeric(value) ? value + \"px\" : value;\n}\n\nfunction css(prop, value) {\n  if (isString(prop)) {\n    var isVariable_1 = isCSSVariable(prop);\n    prop = getPrefixedProp(prop, isVariable_1);\n    if (arguments.length < 2) return this[0] && computeStyle(this[0], prop, isVariable_1);\n    if (!prop) return this;\n    value = getSuffixedValue(prop, value, isVariable_1);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n\n      if (isVariable_1) {\n        ele.style.setProperty(prop, value);\n      } else {\n        ele.style[prop] = value;\n      }\n    });\n  }\n\n  for (var key in prop) {\n    this.css(key, prop[key]);\n  }\n\n  return this;\n}\n\n;\nfn.css = css; // @optional ./css.ts\n// @require core/attempt.ts\n// @require core/camel_case.ts\n\nvar JSONStringRe = /^\\s+|\\s+$/;\n\nfunction getData(ele, key) {\n  var value = ele.dataset[key] || ele.dataset[camelCase(key)];\n  if (JSONStringRe.test(value)) return value;\n  return attempt(JSON.parse, value);\n} // @require core/attempt.ts\n// @require core/camel_case.ts\n\n\nfunction setData(ele, key, value) {\n  value = attempt(JSON.stringify, value);\n  ele.dataset[camelCase(key)] = value;\n}\n\nfunction data(name, value) {\n  if (!name) {\n    if (!this[0]) return;\n    var datas = {};\n\n    for (var key in this[0].dataset) {\n      datas[key] = getData(this[0], key);\n    }\n\n    return datas;\n  }\n\n  if (isString(name)) {\n    if (arguments.length < 2) return this[0] && getData(this[0], name);\n    if (isUndefined(value)) return this;\n    return this.each(function (i, ele) {\n      setData(ele, name, value);\n    });\n  }\n\n  for (var key in name) {\n    this.data(key, name[key]);\n  }\n\n  return this;\n}\n\nfn.data = data; // @optional ./data.ts\n\nfunction getDocumentDimension(doc, dimension) {\n  var docEle = doc.documentElement;\n  return Math.max(doc.body[\"scroll\" + dimension], docEle[\"scroll\" + dimension], doc.body[\"offset\" + dimension], docEle[\"offset\" + dimension], docEle[\"client\" + dimension]);\n} // @require css/helpers/compute_style_int.ts\n\n\nfunction getExtraSpace(ele, xAxis) {\n  return computeStyleInt(ele, \"border\" + (xAxis ? 'Left' : 'Top') + \"Width\") + computeStyleInt(ele, \"padding\" + (xAxis ? 'Left' : 'Top')) + computeStyleInt(ele, \"padding\" + (xAxis ? 'Right' : 'Bottom')) + computeStyleInt(ele, \"border\" + (xAxis ? 'Right' : 'Bottom') + \"Width\");\n}\n\neach([true, false], function (i, outer) {\n  each(['Width', 'Height'], function (i, prop) {\n    var name = \"\" + (outer ? 'outer' : 'inner') + prop;\n\n    fn[name] = function (includeMargins) {\n      if (!this[0]) return;\n      if (isWindow(this[0])) return outer ? this[0][\"inner\" + prop] : this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0][\"\" + (outer ? 'offset' : 'client') + prop] + (includeMargins && outer ? computeStyleInt(this[0], \"margin\" + (i ? 'Top' : 'Left')) + computeStyleInt(this[0], \"margin\" + (i ? 'Bottom' : 'Right')) : 0);\n    };\n  });\n});\neach(['Width', 'Height'], function (index, prop) {\n  var propLC = prop.toLowerCase();\n\n  fn[propLC] = function (value) {\n    if (!this[0]) return isUndefined(value) ? undefined : this;\n\n    if (!arguments.length) {\n      if (isWindow(this[0])) return this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0].getBoundingClientRect()[propLC] - getExtraSpace(this[0], !index);\n    }\n\n    var valueNumber = parseInt(value, 10);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      var boxSizing = computeStyle(ele, 'boxSizing');\n      ele.style[propLC] = getSuffixedValue(propLC, valueNumber + (boxSizing === 'border-box' ? getExtraSpace(ele, !index) : 0));\n    });\n  };\n}); // @optional ./inner_outer.ts\n// @optional ./normal.ts\n// @require css/helpers/compute_style.ts\n\nvar defaultDisplay = {};\n\nfunction getDefaultDisplay(tagName) {\n  if (defaultDisplay[tagName]) return defaultDisplay[tagName];\n  var ele = createElement(tagName);\n  doc.body.insertBefore(ele, null);\n  var display = computeStyle(ele, 'display');\n  doc.body.removeChild(ele);\n  return defaultDisplay[tagName] = display !== 'none' ? display : 'block';\n} // @require css/helpers/compute_style.ts\n\n\nfunction isHidden(ele) {\n  return computeStyle(ele, 'display') === 'none';\n}\n\nvar displayProperty = '___cd';\n\nfn.toggle = function (force) {\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    var show = isUndefined(force) ? isHidden(ele) : force;\n\n    if (show) {\n      ele.style.display = ele[displayProperty] || '';\n\n      if (isHidden(ele)) {\n        ele.style.display = getDefaultDisplay(ele.tagName);\n      }\n    } else {\n      ele[displayProperty] = computeStyle(ele, 'display');\n      ele.style.display = 'none';\n    }\n  });\n};\n\nfn.hide = function () {\n  return this.toggle(false);\n};\n\nfn.show = function () {\n  return this.toggle(true);\n}; // @optional ./hide.ts\n// @optional ./show.ts\n// @optional ./toggle.ts\n\n\nfunction hasNamespaces(ns1, ns2) {\n  return !ns2 || !some.call(ns2, function (ns) {\n    return ns1.indexOf(ns) < 0;\n  });\n}\n\nvar eventsNamespace = '___ce',\n    eventsNamespacesSeparator = '.',\n    eventsFocus = {\n  focus: 'focusin',\n  blur: 'focusout'\n},\n    eventsHover = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n},\n    eventsMouseRe = /^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i; // @require ./variables.ts\n\nfunction getEventNameBubbling(name) {\n  return eventsHover[name] || eventsFocus[name] || name;\n} // @require ./variables.ts\n\n\nfunction getEventsCache(ele) {\n  return ele[eventsNamespace] = ele[eventsNamespace] || {};\n} // @require core/guid.ts\n// @require events/helpers/get_events_cache.ts\n\n\nfunction addEvent(ele, name, namespaces, selector, callback) {\n  var eventCache = getEventsCache(ele);\n  eventCache[name] = eventCache[name] || [];\n  eventCache[name].push([namespaces, selector, callback]);\n  ele.addEventListener(name, callback);\n} // @require ./variables.ts\n\n\nfunction parseEventName(eventName) {\n  var parts = eventName.split(eventsNamespacesSeparator);\n  return [parts[0], parts.slice(1).sort()]; // [name, namespace[]]\n} // @require ./get_events_cache.ts\n// @require ./has_namespaces.ts\n// @require ./parse_event_name.ts\n\n\nfunction removeEvent(ele, name, namespaces, selector, callback) {\n  var cache = getEventsCache(ele);\n\n  if (!name) {\n    for (name in cache) {\n      removeEvent(ele, name, namespaces, selector, callback);\n    }\n  } else if (cache[name]) {\n    cache[name] = cache[name].filter(function (_a) {\n      var ns = _a[0],\n          sel = _a[1],\n          cb = _a[2];\n      if (callback && cb.guid !== callback.guid || !hasNamespaces(ns, namespaces) || selector && selector !== sel) return true;\n      ele.removeEventListener(name, cb);\n    });\n  }\n}\n\nfn.off = function (eventFullName, selector, callback) {\n  var _this = this;\n\n  if (isUndefined(eventFullName)) {\n    this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n      removeEvent(ele);\n    });\n  } else if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.off(key, eventFullName[key]);\n    }\n  } else {\n    if (isFunction(selector)) {\n      callback = selector;\n      selector = '';\n    }\n\n    each(getSplitValues(eventFullName), function (i, eventFullName) {\n      var _a = parseEventName(eventFullName),\n          nameOriginal = _a[0],\n          namespaces = _a[1],\n          name = getEventNameBubbling(nameOriginal);\n\n      _this.each(function (i, ele) {\n        if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n        removeEvent(ele, name, namespaces, selector, callback);\n      });\n    });\n  }\n\n  return this;\n};\n\nfunction on(eventFullName, selector, data, callback, _one) {\n  var _this = this;\n\n  if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.on(key, selector, data, eventFullName[key], _one);\n    }\n\n    return this;\n  }\n\n  if (!isString(selector)) {\n    if (isUndefined(selector) || isNull(selector)) {\n      selector = '';\n    } else if (isUndefined(data)) {\n      data = selector;\n      selector = '';\n    } else {\n      callback = data;\n      data = selector;\n      selector = '';\n    }\n  }\n\n  if (!isFunction(callback)) {\n    callback = data;\n    data = undefined;\n  }\n\n  if (!callback) return this;\n  each(getSplitValues(eventFullName), function (i, eventFullName) {\n    var _a = parseEventName(eventFullName),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name = getEventNameBubbling(nameOriginal),\n        isEventHover = (nameOriginal in eventsHover),\n        isEventFocus = (nameOriginal in eventsFocus);\n\n    if (!name) return;\n\n    _this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n\n      var finalCallback = function finalCallback(event) {\n        if (event.target[\"___i\" + event.type]) return event.stopImmediatePropagation(); // Ignoring native event in favor of the upcoming custom one\n\n        if (event.namespace && !hasNamespaces(namespaces, event.namespace.split(eventsNamespacesSeparator))) return;\n        if (!selector && (isEventFocus && (event.target !== ele || event.___ot === name) || isEventHover && event.relatedTarget && ele.contains(event.relatedTarget))) return;\n        var thisArg = ele;\n\n        if (selector) {\n          var target = event.target;\n\n          while (!matches(target, selector)) {\n            if (target === ele) return;\n            target = target.parentNode;\n            if (!target) return;\n          }\n\n          thisArg = target;\n        }\n\n        Object.defineProperty(event, 'currentTarget', {\n          configurable: true,\n          get: function get() {\n            return thisArg;\n          }\n        });\n        Object.defineProperty(event, 'delegateTarget', {\n          configurable: true,\n          get: function get() {\n            return ele;\n          }\n        });\n        Object.defineProperty(event, 'data', {\n          configurable: true,\n          get: function get() {\n            return data;\n          }\n        });\n        var returnValue = callback.call(thisArg, event, event.___td);\n\n        if (_one) {\n          removeEvent(ele, name, namespaces, selector, finalCallback);\n        }\n\n        if (returnValue === false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      };\n\n      finalCallback.guid = callback.guid = callback.guid || cash.guid++;\n      addEvent(ele, name, namespaces, selector, finalCallback);\n    });\n  });\n  return this;\n}\n\nfn.on = on;\n\nfunction one(eventFullName, selector, data, callback) {\n  return this.on(eventFullName, selector, data, callback, true);\n}\n\n;\nfn.one = one;\n\nfn.ready = function (callback) {\n  var cb = function cb() {\n    return setTimeout(callback, 0, cash);\n  };\n\n  if (doc.readyState !== 'loading') {\n    cb();\n  } else {\n    doc.addEventListener('DOMContentLoaded', cb);\n  }\n\n  return this;\n};\n\nfn.trigger = function (event, data) {\n  if (isString(event)) {\n    var _a = parseEventName(event),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name_1 = getEventNameBubbling(nameOriginal);\n\n    if (!name_1) return this;\n    var type = eventsMouseRe.test(name_1) ? 'MouseEvents' : 'HTMLEvents';\n    event = doc.createEvent(type);\n    event.initEvent(name_1, true, true);\n    event.namespace = namespaces.join(eventsNamespacesSeparator);\n    event.___ot = nameOriginal;\n  }\n\n  event.___td = data;\n  var isEventFocus = (event.___ot in eventsFocus);\n  return this.each(function (i, ele) {\n    if (isEventFocus && isFunction(ele[event.___ot])) {\n      ele[\"___i\" + event.type] = true; // Ensuring the native event is ignored\n\n      ele[event.___ot]();\n\n      ele[\"___i\" + event.type] = false; // Ensuring the custom event is not ignored\n    }\n\n    ele.dispatchEvent(event);\n  });\n}; // @optional ./off.ts\n// @optional ./on.ts\n// @optional ./one.ts\n// @optional ./ready.ts\n// @optional ./trigger.ts\n// @require core/pluck.ts\n// @require core/variables.ts\n\n\nfunction getValue(ele) {\n  if (ele.multiple && ele.options) return pluck(filter.call(ele.options, function (option) {\n    return option.selected && !option.disabled && !option.parentNode.disabled;\n  }), 'value');\n  return ele.value || '';\n}\n\nvar queryEncodeSpaceRe = /%20/g,\n    queryEncodeCRLFRe = /\\r?\\n/g;\n\nfunction queryEncode(prop, value) {\n  return \"&\" + encodeURIComponent(prop) + \"=\" + encodeURIComponent(value.replace(queryEncodeCRLFRe, '\\r\\n')).replace(queryEncodeSpaceRe, '+');\n}\n\nvar skippableRe = /file|reset|submit|button|image/i,\n    checkableRe = /radio|checkbox/i;\n\nfn.serialize = function () {\n  var query = '';\n  this.each(function (i, ele) {\n    each(ele.elements || [ele], function (i, ele) {\n      if (ele.disabled || !ele.name || ele.tagName === 'FIELDSET' || skippableRe.test(ele.type) || checkableRe.test(ele.type) && !ele.checked) return;\n      var value = getValue(ele);\n\n      if (!isUndefined(value)) {\n        var values = isArray(value) ? value : [value];\n        each(values, function (i, value) {\n          query += queryEncode(ele.name, value);\n        });\n      }\n    });\n  });\n  return query.slice(1);\n};\n\nfunction val(value) {\n  if (!arguments.length) return this[0] && getValue(this[0]);\n  return this.each(function (i, ele) {\n    var isSelect = ele.multiple && ele.options;\n\n    if (isSelect || checkableRe.test(ele.type)) {\n      var eleValue_1 = isArray(value) ? map.call(value, String) : isNull(value) ? [] : [String(value)];\n\n      if (isSelect) {\n        each(ele.options, function (i, option) {\n          option.selected = eleValue_1.indexOf(option.value) >= 0;\n        }, true);\n      } else {\n        ele.checked = eleValue_1.indexOf(ele.value) >= 0;\n      }\n    } else {\n      ele.value = isUndefined(value) || isNull(value) ? '' : value;\n    }\n  });\n}\n\nfn.val = val;\n\nfn.clone = function () {\n  return this.map(function (i, ele) {\n    return ele.cloneNode(true);\n  });\n};\n\nfn.detach = function (comparator) {\n  filtered(this, comparator).each(function (i, ele) {\n    if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n    }\n  });\n  return this;\n};\n\nvar fragmentRe = /^\\s*<(\\w+)[^>]*>/,\n    singleTagRe = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/;\nvar containers = {\n  '*': div,\n  tr: tbody,\n  td: tr,\n  th: tr,\n  thead: table,\n  tbody: table,\n  tfoot: table\n}; //TODO: Create elements inside a document fragment, in order to prevent inline event handlers from firing\n//TODO: Ensure the created elements have the fragment as their parent instead of null, this also ensures we can deal with detatched nodes more reliably\n\nfunction parseHTML(html) {\n  if (!isString(html)) return [];\n  if (singleTagRe.test(html)) return [createElement(RegExp.$1)];\n  var fragment = fragmentRe.test(html) && RegExp.$1,\n      container = containers[fragment] || containers['*'];\n  container.innerHTML = html;\n  return cash(container.childNodes).detach().get();\n}\n\ncash.parseHTML = parseHTML;\n\nfn.empty = function () {\n  return this.each(function (i, ele) {\n    while (ele.firstChild) {\n      ele.removeChild(ele.firstChild);\n    }\n  });\n};\n\nfunction html(html) {\n  if (!arguments.length) return this[0] && this[0].innerHTML;\n  if (isUndefined(html)) return this;\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.innerHTML = html;\n  });\n}\n\nfn.html = html;\n\nfn.remove = function (comparator) {\n  filtered(this, comparator).detach().off();\n  return this;\n};\n\nfunction text(text) {\n  if (isUndefined(text)) return this[0] ? this[0].textContent : '';\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.textContent = text;\n  });\n}\n\n;\nfn.text = text;\n\nfn.unwrap = function () {\n  this.parent().each(function (i, ele) {\n    if (ele.tagName === 'BODY') return;\n    var $ele = cash(ele);\n    $ele.replaceWith($ele.children());\n  });\n  return this;\n};\n\nfn.offset = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var rect = ele.getBoundingClientRect();\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n};\n\nfn.offsetParent = function () {\n  return this.map(function (i, ele) {\n    var offsetParent = ele.offsetParent;\n\n    while (offsetParent && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n\n    return offsetParent || docEle;\n  });\n};\n\nfn.position = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var isFixed = computeStyle(ele, 'position') === 'fixed',\n      offset = isFixed ? ele.getBoundingClientRect() : this.offset();\n\n  if (!isFixed) {\n    var doc_1 = ele.ownerDocument;\n    var offsetParent = ele.offsetParent || doc_1.documentElement;\n\n    while ((offsetParent === doc_1.body || offsetParent === doc_1.documentElement) && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.parentNode;\n    }\n\n    if (offsetParent !== ele && isElement(offsetParent)) {\n      var parentOffset = cash(offsetParent).offset();\n      offset.top -= parentOffset.top + computeStyleInt(offsetParent, 'borderTopWidth');\n      offset.left -= parentOffset.left + computeStyleInt(offsetParent, 'borderLeftWidth');\n    }\n  }\n\n  return {\n    top: offset.top - computeStyleInt(ele, 'marginTop'),\n    left: offset.left - computeStyleInt(ele, 'marginLeft')\n  };\n};\n\nfn.children = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return ele.children;\n  }))), comparator);\n};\n\nfn.contents = function () {\n  return cash(unique(pluck(this, function (ele) {\n    return ele.tagName === 'IFRAME' ? [ele.contentDocument] : ele.tagName === 'TEMPLATE' ? ele.content.childNodes : ele.childNodes;\n  })));\n};\n\nfn.find = function (selector) {\n  return cash(unique(pluck(this, function (ele) {\n    return find(selector, ele);\n  })));\n}; // @require core/variables.ts\n// @require collection/filter.ts\n// @require traversal/find.ts\n\n\nvar HTMLCDATARe = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n    scriptTypeRe = /^$|^module$|\\/(java|ecma)script/i,\n    scriptAttributes = ['type', 'src', 'nonce', 'noModule'];\n\nfunction evalScripts(node, doc) {\n  var collection = cash(node);\n  collection.filter('script').add(collection.find('script')).each(function (i, ele) {\n    if (scriptTypeRe.test(ele.type) && docEle.contains(ele)) {\n      // The script type is supported // The element is attached to the DOM // Using `documentElement` for broader browser support\n      var script_1 = createElement('script');\n      script_1.text = ele.textContent.replace(HTMLCDATARe, '');\n      each(scriptAttributes, function (i, attr) {\n        if (ele[attr]) script_1[attr] = ele[attr];\n      });\n      doc.head.insertBefore(script_1, null);\n      doc.head.removeChild(script_1);\n    }\n  });\n} // @require ./eval_scripts.ts\n\n\nfunction insertElement(anchor, target, left, inside, evaluate) {\n  if (inside) {\n    // prepend/append\n    anchor.insertBefore(target, left ? anchor.firstChild : null);\n  } else {\n    // before/after\n    if (anchor.nodeName === 'HTML') {\n      anchor.parentNode.replaceChild(target, anchor);\n    } else {\n      anchor.parentNode.insertBefore(target, left ? anchor : anchor.nextSibling);\n    }\n  }\n\n  if (evaluate) {\n    evalScripts(target, anchor.ownerDocument);\n  }\n} // @require ./insert_element.ts\n\n\nfunction insertSelectors(selectors, anchors, inverse, left, inside, reverseLoop1, reverseLoop2, reverseLoop3) {\n  each(selectors, function (si, selector) {\n    each(cash(selector), function (ti, target) {\n      each(cash(anchors), function (ai, anchor) {\n        var anchorFinal = inverse ? target : anchor,\n            targetFinal = inverse ? anchor : target,\n            indexFinal = inverse ? ti : ai;\n        insertElement(anchorFinal, !indexFinal ? targetFinal : targetFinal.cloneNode(true), left, inside, !indexFinal);\n      }, reverseLoop3);\n    }, reverseLoop2);\n  }, reverseLoop1);\n  return anchors;\n}\n\nfn.after = function () {\n  return insertSelectors(arguments, this, false, false, false, true, true);\n};\n\nfn.append = function () {\n  return insertSelectors(arguments, this, false, false, true);\n};\n\nfn.appendTo = function (selector) {\n  return insertSelectors(arguments, this, true, false, true);\n};\n\nfn.before = function () {\n  return insertSelectors(arguments, this, false, true);\n};\n\nfn.insertAfter = function (selector) {\n  return insertSelectors(arguments, this, true, false, false, false, false, true);\n};\n\nfn.insertBefore = function (selector) {\n  return insertSelectors(arguments, this, true, true);\n};\n\nfn.prepend = function () {\n  return insertSelectors(arguments, this, false, true, true, true, true);\n};\n\nfn.prependTo = function (selector) {\n  return insertSelectors(arguments, this, true, true, true, false, false, true);\n};\n\nfn.replaceWith = function (selector) {\n  return this.before(selector).remove();\n};\n\nfn.replaceAll = function (selector) {\n  cash(selector).replaceWith(this);\n  return this;\n};\n\nfn.wrapAll = function (selector) {\n  var structure = cash(selector),\n      wrapper = structure[0];\n\n  while (wrapper.children.length) {\n    wrapper = wrapper.firstElementChild;\n  }\n\n  this.first().before(structure);\n  return this.appendTo(wrapper);\n};\n\nfn.wrap = function (selector) {\n  return this.each(function (i, ele) {\n    var wrapper = cash(selector)[0];\n    cash(ele).wrapAll(!i ? wrapper : wrapper.cloneNode(true));\n  });\n};\n\nfn.wrapInner = function (selector) {\n  return this.each(function (i, ele) {\n    var $ele = cash(ele),\n        contents = $ele.contents();\n    contents.length ? contents.wrapAll(selector) : $ele.append(selector);\n  });\n};\n\nfn.has = function (selector) {\n  var comparator = isString(selector) ? function (i, ele) {\n    return find(selector, ele).length;\n  } : function (i, ele) {\n    return ele.contains(selector);\n  };\n  return this.filter(comparator);\n};\n\nfn.is = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return some.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  });\n};\n\nfn.next = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'nextElementSibling', _all, _until))), comparator);\n};\n\nfn.nextAll = function (comparator) {\n  return this.next(comparator, true);\n};\n\nfn.nextUntil = function (until, comparator) {\n  return this.next(comparator, true, until);\n};\n\nfn.not = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return this.filter(function (i, ele) {\n    return (!isString(comparator) || isElement(ele)) && !compare.call(ele, i, ele);\n  });\n};\n\nfn.parent = function (comparator) {\n  return filtered(cash(unique(pluck(this, 'parentNode'))), comparator);\n};\n\nfn.index = function (selector) {\n  var child = selector ? cash(selector)[0] : this[0],\n      collection = selector ? this : cash(child).parent().children();\n  return indexOf.call(collection, child);\n};\n\nfn.closest = function (comparator) {\n  var filtered = this.filter(comparator);\n  if (filtered.length) return filtered;\n  var $parent = this.parent();\n  if (!$parent.length) return filtered;\n  return $parent.closest(comparator);\n};\n\nfn.parents = function (comparator, _until) {\n  return filtered(cash(unique(pluck(this, 'parentElement', true, _until))), comparator);\n};\n\nfn.parentsUntil = function (until, comparator) {\n  return this.parents(comparator, until);\n};\n\nfn.prev = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'previousElementSibling', _all, _until))), comparator);\n};\n\nfn.prevAll = function (comparator) {\n  return this.prev(comparator, true);\n};\n\nfn.prevUntil = function (until, comparator) {\n  return this.prev(comparator, true, until);\n};\n\nfn.siblings = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return cash(ele).parent().children().not(ele);\n  }))), comparator);\n}; // @optional ./children.ts\n// @optional ./closest.ts\n// @optional ./contents.ts\n// @optional ./find.ts\n// @optional ./has.ts\n// @optional ./is.ts\n// @optional ./next.ts\n// @optional ./next_all.ts\n// @optional ./next_until.ts\n// @optional ./not.ts\n// @optional ./parent.ts\n// @optional ./parents.ts\n// @optional ./parents_until.ts\n// @optional ./prev.ts\n// @optional ./prev_all.ts\n// @optional ./prev_until.ts\n// @optional ./siblings.ts\n// @optional attributes/index.ts\n// @optional collection/index.ts\n// @optional css/index.ts\n// @optional data/index.ts\n// @optional dimensions/index.ts\n// @optional effects/index.ts\n// @optional events/index.ts\n// @optional forms/index.ts\n// @optional manipulation/index.ts\n// @optional offset/index.ts\n// @optional traversal/index.ts\n// @require core/index.ts\n// @priority -100\n// @require ./cash.ts\n// @require ./variables.ts\n\n\nif (typeof exports !== 'undefined') {\n  // Node.js\n  module.exports = cash;\n} else {\n  // Browser\n  win['cash'] = win['$'] = cash;\n}\n})();"],"names":["$3OOZF","parcelRequire","$85e1866a3fb809b7$export$5d730b7aed1a3eb0","supabaseUrl","supabaseKey","options","default","$2c7d98dd7bccc45b$var$DEFAULT_OPTIONS","schema","autoRefreshToken","persistSession","detectSessionInUrl","multiTab","headers","$8UrdX","DEFAULT_HEADERS","$2c7d98dd7bccc45b$export$2e2bcd8739ae039","this","Error","_supabaseUrl","$bVVRs","stripTrailingSlash","settings","Object","assign","restUrl","concat","realtimeUrl","replace","authUrl","storageUrl","match","urlParts","split","functionsUrl","fetch","shouldThrowOnError","auth","_initSupabaseAuthClient","realtime","_initRealtimeClient","_listenForAuthEvents","_listenForMultiTabEvents","key","$hHmom","FunctionsClient","_getAuthHeaders","customFetch","$XGHvM","StorageClient","table","url","$ijuPc","SupabaseQueryBuilder","fn","params","ref","arguments","length","_head","head","_count","count","rest","_initPostgRESTClient","rpc","allSubs","allSubPromises","allRemovedSubs","getSubscriptions","slice","map","sub","_this","removeSubscription","Promise","all","_ctx","sent","param","i","error","data","subscription","openSubCount","_closeSubscription","filter","chan","isJoined","disconnect","openSubscriptions","unsubError","isClosed","_unsubscribeSubscription","remove","resolve","unsubscribe","receive","channels","localStorage","authHeaders","Authorization","apikey","$iDsuL","SupabaseAuthClient","$3YRQI","$4ojW5","throwOnError","authBearer","_b","_a","session","access_token","isBrowser","window","addEventListener","e","STORAGE_KEY","newSession","JSON","parse","String","newValue","accessToken","currentSession","undefined","previousAccessToken","_c","_handleTokenChanged","console","onAuthStateChange","event","token","source","changedAccessToken","setAuth","signOut","$b07b5082a7b10ea2$export$2e2bcd8739ae039","instance","Constructor","TypeError","$e5f9bd0c37e9914c$var$_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","$e5f9bd0c37e9914c$export$2e2bcd8739ae039","protoProps","staticProps","prototype","$innt6","$995f9dda6ee7c4ee$export$2e2bcd8739ae039","Derived","hasNativeReflectConstruct","result","Super","$aNpz9","NewTarget","constructor","Reflect","construct","apply","$bFSSc","$d60c94504fa4a111$export$2e2bcd8739ae039","sham","Proxy","Boolean","valueOf","call","$7dc24fd3d8e84af6$var$getPrototypeOf","o1","setPrototypeOf","getPrototypeOf","o","__proto__","$7dc24fd3d8e84af6$export$2e2bcd8739ae039","$Kn7R4","$87fe16ba8ff029a3$export$2e2bcd8739ae039","self","$kswSi","$08b63c45f54847ee$export$2e2bcd8739ae039","ReferenceError","$ee4fec65ef715af7$export$2e2bcd8739ae039","obj","Symbol","$eOD0a","$bc25518f39dadcf6$export$2e2bcd8739ae039","subClass","superClass","create","value","$ac93fd2313270fd8$var$setPrototypeOf","p1","p","$ac93fd2313270fd8$export$2e2bcd8739ae039","$9rxh7","$d8de0eb6e0dd5f0d$export$2e2bcd8739ae039","arr","$bxmrK","$R3yfh","$dzEQH","$6e00726c30bb8aa8$export$2e2bcd8739ae039","Array","isArray","$8664303016091545$export$2e2bcd8739ae039","iter","iterator","from","$9e1e3aff84b72d71$export$2e2bcd8739ae039","$em3qv","$09f7b49357d6407d$export$2e2bcd8739ae039","minLen","n","toString","name","test","$a735c72dc00321c4$export$2e2bcd8739ae039","len","arr2","$gyMUJ","$44ff19cc49d55455$export$2e2bcd8739ae039","$de5AG","$c0e5c3a46846db0d$export$2e2bcd8739ae039","$9a10eb5a4ae3d243$export$2e2bcd8739ae039","$21b983287c82ebd3$var$runtime","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","err1","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","makeInvokeMethod","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","reject","value1","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","next1","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","keys","object","key1","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","$5vOUa","$67c8abda32581d46$export$88a84136db6a4b64","version","$67c8abda32581d46$export$86880b4b2e1a2384","$403755a81e7ec088$export$83d89fbfd8236492","$8b01e696fb8c5201$export$d95b4586d238a081","$8b01e696fb8c5201$export$4e09c449d6c407f7","$f9pi5","$d911f910f63de93f$export$8199a418bb09bd56","GoTrueClient","$2f4f3f3bf9b2d5d0$export$2e2bcd8739ae039","_url","_headers","cookieOptions","$dEVH7","COOKIE_OPTIONS","$8D0HB","resolveFetch","jwt","provider","urlParams","encodeURIComponent","redirectTo","scopes","join","email","password","queryString","$c3B68","post","gotrue_meta_security","hcaptcha_token","captchaToken","expires_in","expires_at","expiresAt","t0","phone","id_token","nonce","client_id","issuer","shouldCreateUser","create_user","_createRequestHeaders","noResolveJson","redirect_to","_type","refreshToken","refresh_token","req","res","setHeader","status","end","_body","body","$55IXD","setCookies","_this1","cookieName","domain","maxAge","lifetime","path","sameSite","json","_redirectTo","redirect","getCookieString","_this2","getHeader","attributes","user","get","users","uid","ref1","cookies","getUser","refreshAccessToken","put","$8c728abc0547753a$var$_getErrorMessage","msg","message","error_description","stringify","$8c728abc0547753a$var$handleError","$8c728abc0547753a$var$_getRequestParams","$8c728abc0547753a$var$_handleRequest","fetcher","ok","$8c728abc0547753a$export$3988ae62b71be9a3","$8c728abc0547753a$export$299ba2dee77727e9","$8c728abc0547753a$export$327f7b26ebf455db","$8c728abc0547753a$export$cd7f480d6b8286c3","$5lpoo","$9f1bc3b870c6a833$export$7fedf552187f0c3d","$9f1bc3b870c6a833$export$88a84136db6a4b64","$9f1bc3b870c6a833$export$86880b4b2e1a2384","$9f1bc3b870c6a833$export$5d04dceb9d38c3f8","$010113097fc3f91b$export$83d89fbfd8236492","$3b504bac6749d138$var$serializeCookie","cookie","secure","val","opt","enc","fieldContentRegExp","str","isFinite","Math","floor","expires","toUTCString","httpOnly","toLowerCase","$3b504bac6749d138$var$serialize","Date","now","$3b504bac6749d138$export$cabcf1eb6b547ccb","strCookies","c","host","indexOf","endsWith","$3b504bac6749d138$var$isSecureEnvironment","previousCookies","$3b504bac6749d138$export$31cdeeae171a741d","$5Vgx8","$648282b36fbb4e9a$export$e02d0a488392f690","expiresIn","round","$648282b36fbb4e9a$export$31b40729666a4ae0","r","random","$648282b36fbb4e9a$export$4e09c449d6c407f7","$648282b36fbb4e9a$export$7a5418d73bdac342","location","href","results","RegExp","exec","decodeURIComponent","$648282b36fbb4e9a$export$98d92b1aa79f8cc7","_fetch","$parcel$interopDefault","$klMvd","args","_len","_key","global","__self__","F","DOMException","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","normalizeValue","iteratorFor","items","shift","Headers","append","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","text","readAsText","chars","fromCharCode","readArrayBufferAsText","formData","decode","oldValue","has","callback","thisArg","entries","methods","Request","input","upcased","credentials","mode","signal","toUpperCase","referrer","form","trim","bytes","Response","bodyInit","statusText","clone","response","redirectStatuses","RangeError","stack","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","onreadystatechange","readyState","removeEventListener","send","polyfill","ponyfill","ctx","$lH0hp","polyfillGlobalThis","$ef94443e9a4695e0$var$DEFAULT_OPTIONS","GOTRUE_URL","$ef94443e9a4695e0$export$2e2bcd8739ae039","stateChangeEmitters","Map","currentUser","api","$43Pjz","_recoverSession","_recoverAndRefresh","getParameterByName","getSessionFromUrl","storeSession","_removeSession","signUpWithPhone","signUpWithEmail","_saveSession","_notifyAllSubscribers","id","t1","oidc","error1","error2","sendMagicLinkEmail","_handleEmailSignIn","sendMobileOTP","_handlePhoneSignIn","_callRefreshToken","_handleProviderSignIn","_handleOpenIDConnectSignIn","verifyOTP","updateUser","token_type","provider_token","timeNow","recoveryMode","parseInt","hash","uuid","delete","signInWithEmail","confirmed_at","email_confirmed_at","signInWithPhone","phone_confirmed_at","getUrlForProvider","signInWithOpenIDConnect","getItem","log","x","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","setItem","refreshTokenTimer","clearTimeout","removeItem","setTimeout","unref","$fcadd4af63928178$export$ad067ce270531206","__magic__","$jK9zx","$d551e97cc73fb47b$export$d6b56fa12d975d17","PostgrestQueryBuilder","_subscription","_realtime","_schema","_table","isConnected","connect","$9A2Zq","SupabaseRealtimeClient","on","$b56vn","$3328de2d2ccfeec3$export$2e2bcd8739ae039","$fYRPJ","$iKQMc","$811535210b3a9565$export$2e2bcd8739ae039","PostgrestBuilder","URL","columns","quoted","cleanedColumns","searchParams","$3HrKd","_upsert","upsert","onConflict","_returning","returning","prefersHeaders","unshift","reduce","acc","uniqueColumns","Set","column","_ignoreDuplicates","ignoreDuplicates","$bRXiP","$8a42a53be5fd6bb3$export$3106e21688a06353","builder","onfulfilled","onrejected","includes","res1","$8a42a53be5fd6bb3$var$__awaiter","$2TvXO","_callee","isReturnMinimal","countHeader","contentRange","postgrestResponse","_d","fetchError","details","hint","code","$2b1ae8b2b240f362$export$2e2bcd8739ae039","PostgrestTransformBuilder","cs","contains","cd","containedBy","sl","rangeLt","sr","rangeGt","nxl","rangeGte","nxr","rangeLte","adj","rangeAdjacent","ov","overlaps","operator","filters","foreignTable","pattern","cleanedValues","s","range","query","config","typePart","configPart","$68e648e94a8a65be$export$2e2bcd8739ae039","_ascending","ascending","_nullsFirst","nullsFirst","existingOrder","to","keyOffset","keyLimit","$iCnzh","$da757626ad7f138a$export$2e2bcd8739ae039","_param","$9M8z8","$ba2637ca60fe4bb3$export$88a84136db6a4b64","$71df3db73348655c$export$83d89fbfd8236492","$6f99cb8e9117de3b$export$a1c0cbe03b169679","socket","tableName","chanParams","topic","userToken","channel","payload","records","new","old","$8NJF7","convertChangeData","old_record","enrichedPayload","commit_timestamp","eventType","errors","getPayloadRecords","onError","onClose","subscribe","$668651e4ea3b0f06$export$4d213a7d364021dc","$668651e4ea3b0f06$export$20ce708a1f594c5e","skipTypes","rec_key","$668651e4ea3b0f06$export$c054edfec1afa88d","columnName","find","colType","$668651e4ea3b0f06$export$3df02a362b86a91","$668651e4ea3b0f06$var$noop","dataType","$668651e4ea3b0f06$export$45b10814cc054894","bool","$668651e4ea3b0f06$export$3c2e6d1b7583eee6","float4","float8","int2","int4","int8","numeric","oid","$668651e4ea3b0f06$export$a0a81dc3380ce7d3","jsonb","$668651e4ea3b0f06$export$d5b7a8bf56ee1fe2","timestamp","$668651e4ea3b0f06$export$eccf8c5d91d19e3a","abstime","date","daterange","int4range","int8range","money","reltime","time","timestamptz","timetz","tsrange","tstzrange","parsedValue","parseFloat","Number","lastIdx","closeBrace","valTrim","_","$2e60bf0a57651903$var$noop","$2e60bf0a57651903$export$2e2bcd8739ae039","endPoint","$iZLvH","timeout","DEFAULT_TIMEOUT","transport","$iij7a","w3cwebsocket","heartbeatIntervalMs","longpollerTimeout","heartbeatTimer","pendingHeartbeatRef","logger","conn","sendBuffer","serializer","$8lYXz","stateChangeCallbacks","close","TRANSPORTS","websocket","reconnectAfterMs","tries","encode","bind","reconnectTimer","$klRtG","$2e60bf0a57651903$var$__awaiter","endPointURL","binaryType","onopen","_onConnOpen","_onConnError","onmessage","onConnMessage","onclose","_onConnClose","reason","_reject","clearInterval","kind","SOCKET_STATES","connecting","closing","connectionState","joinRef","isNewVersion","$2e60bf0a57651903$var$__rest","$l1fTm","$aC3zY","presence","onJoin","currentPresences","newPresences","trigger","onLeave","leftPresences","onSync","rawMessage","isMember","_appendParams","vsn","VSN","newRef","updateJoinPayload","user_token","joinedOnce","CHANNEL_EVENTS","dupChannel","isJoining","_flushSendBuffer","setInterval","_sendHeartbeat","_triggerChanError","scheduleTimeout","prefix","WS_CLOSE_NORMAL","makeRef","$d518bc37d9e95d44$var$_globalThis","$d518bc37d9e95d44$var$NativeWebSocket","WebSocket","MozWebSocket","$d518bc37d9e95d44$var$W3CWebSocket","uri","protocols","prop","$f5FxX","$3cd7cb3188e0cc0c$var$naiveFallback","__global__","$dd42c70926d22b82$export$a6d0320a1563d49e","$dd42c70926d22b82$export$b83816118db74fe7","$dd42c70926d22b82$export$8db7548e65d6ea55","$dd42c70926d22b82$export$b2688bfb999f5751","$4xmIf","$dd42c70926d22b82$export$88a84136db6a4b64","$dd42c70926d22b82$export$df3f558bb9a9c991","$dd42c70926d22b82$export$7bd623b29ec8e1eb","$dd42c70926d22b82$export$5e80cf62e56a877b","$34dbdcc68bd36514$export$83d89fbfd8236492","$ed0f405e1bbee811$export$2e2bcd8739ae039","timerCalc","timer","$614f92409529488c$export$2e2bcd8739ae039","HEADER_LENGTH","rawPayload","_binaryDecode","decoder","TextDecoder","_decodeBroadcast","topicSize","getUint8","eventSize","offset","$7ba03ac125bb0bc2$export$2e2bcd8739ae039","bindings","CHANNEL_STATES","closed","pushBuffer","joinPush","$lkj3k","rejoinTimer","rejoinUntilConnected","joined","pushEvent","isLeaving","errored","reply","replyEventName","rejoin","canPush","startTimeout","updatePayload","leaving","destroy","leavePush","leave","leaveOpenTopic","joining","resend","handledPayload","onMessage","$f86a3ead6ce2584d$export$2e2bcd8739ae039","timeoutTimer","receivedResp","recHooks","refEvent","_cancelRefEvent","_hasReceived","_cancelTimeout","_matchReceive","off","h","$03f2ef8fa2f7b5dc$export$2e2bcd8739ae039","$8bllL","list","configs","binding","eventFilter","isEqual","obj1","obj2","k","$5f4fe979a4c0e542$export$2e2bcd8739ae039","opts","pendingDiffs","caller","events","diff","newState","_caller","syncState","syncDiff","inPendingSyncState","by","currentState","cloneDeep","transformedState","transformState","joins","leaves","presences","newPresenceIds","m","presence_id","curPresenceIds","joinedPresences","joinedPresenceIds","curPresences","presenceIdsToRemove","presences1","chooser","pres","func","metas","$0b36a24abb313694$export$6c85f5032e75eff9","StorageBucketApi","$20kJO","StorageFileApi","$hjQGk","$c9bd1385d7ee0fa3$export$698875e798f36d2d","$h747K","$ad2TF","$i61k4","public","$yMurQ","$c7564a08d2b87ea2$export$88a84136db6a4b64","$0688ca36b4ce7ee7$export$83d89fbfd8236492","$d2c9d0362e35fcd1$var$_getErrorMessage","$d2c9d0362e35fcd1$var$handleError","$d2c9d0362e35fcd1$var$_getRequestParams","parameters","$d2c9d0362e35fcd1$var$_handleRequest","$d2c9d0362e35fcd1$export$3988ae62b71be9a3","$d2c9d0362e35fcd1$export$299ba2dee77727e9","$d2c9d0362e35fcd1$export$327f7b26ebf455db","$d2c9d0362e35fcd1$export$cd7f480d6b8286c3","$76ed5d84156090c2$export$98d92b1aa79f8cc7","$175baaf41223bbda$var$DEFAULT_SEARCH_OPTIONS","limit","sortBy","order","$175baaf41223bbda$var$DEFAULT_FILE_OPTIONS","cacheControl","contentType","$175baaf41223bbda$export$f62f1779c09b9522","bucketId","fileBody","fileOptions","cleanPath","_path","_removeEmptyFolders","_getFinalPath","Key","uploadOrUpdate","fromPath","toPath","sourceKey","destinationKey","signedURL","paths","datum","publicURL","prefixes","$ce27d2666ddd6e9f$export$1d0b400bf8a0fa55","$lFsWg","functionName","invokeOptions","isRelayError","t2","t3","$fc63dfee00a6e4b7$export$98d92b1aa79f8cc7","propMap","class","contenteditable","for","readonly","maxlength","tabindex","colspan","rowspan","usemap","attempt","doc1","document","win","docEle1","documentElement","createElement","div","tbody","tr","ArrayPrototype","some","splice","idRe","classRe","htmlRe","tagRe","selector","isFragment","nodeType","isDocument","isElement","getElementsByClassName","getElementsByTagName","querySelectorAll","Cash1","Cash","isCash","eles","isString","getElementById","parseHTML","isFunction","ready","l","fn1","cash","ele","start","dashAlphaRe","camelCase","letter","matches1","matches","isWindow","isBoolean","isUndefined","isNull","isNumeric","isPlainObject","proto","each","_reverse","extend","sources","_i","deep","getCompareFunction","comparator","is","filtered1","collection","guid","index","eq","first","last","removeProp","plugins","compare","splitValuesRe","getSplitValues","pluck","until","plucked","isCallback","val_1","val_2","unique","item","computeStyle","isVariable","style","getComputedStyle","getPropertyValue","computeStyleInt","hasClass","cls","classList","removeAttr","attr","attrs","a","removeAttribute","value_1","getAttribute","setAttribute","toggleClass","force","classes","isForce","add","toggle","addClass","removeClass","cssVariableRe","isCSSVariable","prefixedProps","style1","vendorsPrefixes","getPrefixedProp","propCC","propUC","numericProps","animationIterationCount","columnCount","flexGrow","flexShrink","fontWeight","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","opacity","orphans","widows","zIndex","getSuffixedValue","css","isVariable_1","setProperty","JSONStringRe","getData","dataset","setData","getDocumentDimension","doc","dimension","docEle","max","getExtraSpace","xAxis","datas","i1","outer","includeMargins","propLC","getBoundingClientRect","valueNumber","boxSizing","defaultDisplay","isHidden","hasNamespaces","ns1","ns2","ns","display","tagName","insertBefore","removeChild","getDefaultDisplay","hide","show","eventsFocus","focus","blur","eventsHover","mouseenter","mouseleave","eventsMouseRe","getEventNameBubbling","getEventsCache","parseEventName","eventName","sort","removeEvent","namespaces","cache","sel","cb","getValue","multiple","option","selected","disabled","parentNode","eventFullName1","eventFullName","nameOriginal","eventFullName2","_one","isEventHover","isEventFocus","finalCallback1","finalCallback","stopImmediatePropagation","namespace","___ot","relatedTarget","returnValue","___td","preventDefault","stopPropagation","eventCache","addEvent","one","name_1","createEvent","initEvent","dispatchEvent","queryEncodeSpaceRe","queryEncodeCRLFRe","skippableRe","checkableRe","serialize","ele1","elements","checked","queryEncode","isSelect","eleValue_1","cloneNode","detach","fragmentRe","singleTagRe","containers","td","th","thead","tfoot","html","$1","fragment","container","innerHTML","childNodes","empty","firstChild","textContent","unwrap","parent","$ele","replaceWith","children","rect","top","pageYOffset","left","pageXOffset","offsetParent","position","isFixed","doc_1","ownerDocument","parentOffset","contents","contentDocument","content","HTMLCDATARe","scriptTypeRe","scriptAttributes","insertElement","anchor","inside","evaluate","node","nodeName","replaceChild","nextSibling","script_1","insertSelectors","selectors","anchors","inverse","reverseLoop1","reverseLoop2","reverseLoop3","si","ti","ai","targetFinal","indexFinal","after","appendTo","before","insertAfter","prepend","prependTo","replaceAll","wrapAll","structure","wrapper","firstElementChild","wrapInner","_all","_until","nextAll","nextUntil","not","child","closest","filtered","$parent","parents","parentsUntil","prevAll","prevUntil","siblings"],"version":3,"file":"order.f1f83294.js.map"}