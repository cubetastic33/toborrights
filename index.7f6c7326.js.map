{"mappings":"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","sources":["node_modules/cross-fetch/dist/browser-ponyfill.js","node_modules/es5-ext/global.js","node_modules/websocket/package.json","node_modules/@swc/helpers/src/_class_call_check.js","node_modules/@swc/helpers/src/_create_class.js","node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/@swc/helpers/src/_type_of.js","node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/@swc/helpers/src/_create_super.js","node_modules/@swc/helpers/src/_is_native_reflect_construct.js","node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/@swc/helpers/src/_inherits.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_array_like_to_array.js","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/regenerator-runtime/runtime.js","node_modules/@supabase/supabase-js/src/lib/version.ts","node_modules/@supabase/supabase-js/src/lib/constants.ts","node_modules/@supabase/supabase-js/src/lib/helpers.ts","node_modules/@supabase/gotrue-js/src/lib/fetch.ts","node_modules/@supabase/gotrue-js/src/lib/version.ts","node_modules/@supabase/gotrue-js/src/lib/constants.ts","node_modules/@supabase/gotrue-js/src/lib/cookies.ts","node_modules/@supabase/gotrue-js/src/lib/helpers.ts","node_modules/@supabase/gotrue-js/src/GoTrueApi.ts","node_modules/@supabase/gotrue-js/src/lib/polyfills.ts","node_modules/@supabase/gotrue-js/src/GoTrueClient.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts","node_modules/@supabase/realtime-js/src/lib/transformers.ts","node_modules/@supabase/postgrest-js/src/lib/types.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestTransformBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestFilterBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestQueryBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/PostgrestRpcBuilder.ts","node_modules/@supabase/postgrest-js/src/lib/constants.ts","node_modules/@supabase/postgrest-js/src/lib/version.ts","node_modules/@supabase/postgrest-js/src/PostgrestClient.ts","node_modules/websocket/lib/browser.js","node_modules/websocket/lib/version.js","node_modules/@supabase/realtime-js/src/lib/version.ts","node_modules/@supabase/realtime-js/src/lib/constants.ts","node_modules/@supabase/realtime-js/src/lib/timer.ts","node_modules/@supabase/realtime-js/src/lib/serializer.ts","node_modules/@supabase/realtime-js/src/lib/push.ts","node_modules/@supabase/realtime-js/src/RealtimeSubscription.ts","node_modules/@supabase/realtime-js/src/RealtimePresence.ts","node_modules/@supabase/realtime-js/src/RealtimeChannel.ts","node_modules/@supabase/realtime-js/src/RealtimeClient.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseRealtimeClient.ts","node_modules/@supabase/supabase-js/src/lib/SupabaseQueryBuilder.ts","node_modules/@supabase/storage-js/src/lib/version.ts","node_modules/@supabase/storage-js/src/lib/constants.ts","node_modules/@supabase/storage-js/src/lib/fetch.ts","node_modules/@supabase/storage-js/src/lib/helpers.ts","node_modules/@supabase/storage-js/src/lib/StorageBucketApi.ts","node_modules/@supabase/storage-js/src/lib/StorageFileApi.ts","node_modules/@supabase/storage-js/src/StorageClient.ts","node_modules/@supabase/functions-js/src/helper.ts","node_modules/@supabase/functions-js/src/index.ts","node_modules/@supabase/supabase-js/src/SupabaseClient.ts","node_modules/cash-dom/dist/cash.js","scripts/order.ts","node_modules/@supabase/supabase-js/src/index.ts"],"sourcesContent":["var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","{\n  \"name\": \"websocket\",\n  \"description\": \"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",\n  \"keywords\": [\n    \"websocket\",\n    \"websockets\",\n    \"socket\",\n    \"networking\",\n    \"comet\",\n    \"push\",\n    \"RFC-6455\",\n    \"realtime\",\n    \"server\",\n    \"client\"\n  ],\n  \"author\": \"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)\",\n  \"contributors\": [\n    \"Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)\"\n  ],\n  \"version\": \"1.0.34\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node.git\"\n  },\n  \"homepage\": \"https://github.com/theturtle32/WebSocket-Node\",\n  \"engines\": {\n    \"node\": \">=4.0.0\"\n  },\n  \"dependencies\": {\n    \"bufferutil\": \"^4.0.1\",\n    \"debug\": \"^2.2.0\",\n    \"es5-ext\": \"^0.10.50\",\n    \"typedarray-to-buffer\": \"^3.1.5\",\n    \"utf-8-validate\": \"^5.0.2\",\n    \"yaeti\": \"^0.0.6\"\n  },\n  \"devDependencies\": {\n    \"buffer-equal\": \"^1.0.0\",\n    \"gulp\": \"^4.0.2\",\n    \"gulp-jshint\": \"^2.0.4\",\n    \"jshint-stylish\": \"^2.2.1\",\n    \"jshint\": \"^2.0.0\",\n    \"tape\": \"^4.9.1\"\n  },\n  \"config\": {\n    \"verbose\": false\n  },\n  \"scripts\": {\n    \"test\": \"tape test/unit/*.js\",\n    \"gulp\": \"gulp\"\n  },\n  \"main\": \"index\",\n  \"directories\": {\n    \"lib\": \"./lib\"\n  },\n  \"browser\": \"lib/browser.js\",\n  \"license\": \"Apache-2.0\"\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","import _isNativeReflectConstruct from \"./_is_native_reflect_construct\";\nimport _getPrototypeOf from \"./_get_prototype_of\";\nimport _possibleConstructorReturn from './_possible_constructor_return';\n\nexport default function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _getPrototypeOf(Derived),\n            result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _getPrototypeOf(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _possibleConstructorReturn(this, result);\n    };\n}","export default function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { }));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import _arrayLikeToArray from './_array_like_to_array';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","import _arrayLikeToArray from './_array_like_to_array';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export const version = '1.33.3'\n","// constants.ts\nimport { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js/${version}` }\nexport const STORAGE_KEY = 'supabase.auth.token'\n","// helpers.ts\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport function stripTrailingSlash(url: string): string {\n  return url.replace(/\\/$/, '')\n}\n\nexport const isBrowser = () => typeof window !== 'undefined'\n","export type Fetch = typeof fetch\n\nexport interface FetchOptions {\n  headers?: {\n    [key: string]: string\n  }\n  noResolveJson?: boolean\n}\n\nexport type RequestMethodType = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE'\n\nconst _getErrorMessage = (err: any): string =>\n  err.msg || err.message || err.error_description || err.error || JSON.stringify(err)\n\nconst handleError = (error: any, reject: any) => {\n  if (typeof error.json !== 'function') {\n    return reject(error)\n  }\n  error.json().then((err: any) => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: error?.status || 500,\n    })\n  })\n}\n\nconst _getRequestParams = (method: RequestMethodType, options?: FetchOptions, body?: object) => {\n  const params: { [k: string]: any } = { method, headers: options?.headers || {} }\n\n  if (method === 'GET') {\n    return params\n  }\n\n  params.headers = { 'Content-Type': 'text/plain;charset=UTF-8', ...options?.headers }\n  params.body = JSON.stringify(body)\n\n  return params\n}\n\nasync function _handleRequest(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: FetchOptions,\n  body?: object\n): Promise<any> {\n  return new Promise((resolve, reject) => {\n    fetcher(url, _getRequestParams(method, options, body))\n      .then((result) => {\n        if (!result.ok) throw result\n        if (options?.noResolveJson) return resolve\n        return result.json()\n      })\n      .then((data) => resolve(data))\n      .catch((error) => handleError(error, reject))\n  })\n}\n\nexport async function get(fetcher: Fetch, url: string, options?: FetchOptions): Promise<any> {\n  return _handleRequest(fetcher, 'GET', url, options)\n}\n\nexport async function post(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'POST', url, options, body)\n}\n\nexport async function put(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'PUT', url, options, body)\n}\n\nexport async function remove(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions\n): Promise<any> {\n  return _handleRequest(fetcher, 'DELETE', url, options, body)\n}\n","// generated by genversion\nexport const version = '1.22.12'\n","import { version } from './version'\nexport const GOTRUE_URL = 'http://localhost:9999'\nexport const AUDIENCE = ''\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` }\nexport const EXPIRY_MARGIN = 60 * 1000\nexport const STORAGE_KEY = 'supabase.auth.token'\nexport const COOKIE_OPTIONS = {\n  name: 'sb',\n  lifetime: 60 * 60 * 8,\n  domain: '',\n  path: '/',\n  sameSite: 'lax',\n}\n","type Cookie = {\n  name: string\n  value: string\n  maxAge: number\n  domain?: string\n  path?: string\n  sameSite?: string\n}\n\n/**\n * Serialize data into a cookie header.\n */\nfunction serialize(\n  name: string,\n  val: string,\n  options: {\n    maxAge: number\n    domain: string\n    path: string\n    expires: Date\n    httpOnly: boolean\n    secure: boolean\n    sameSite: string\n  }\n) {\n  const opt = options || {}\n  const enc = encodeURIComponent\n  /* eslint-disable-next-line no-control-regex */\n  const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid')\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid')\n  }\n\n  const value = enc(val)\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid')\n  }\n\n  let str = name + '=' + value\n\n  if (null != opt.maxAge) {\n    const maxAge = opt.maxAge - 0\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge)\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid')\n    }\n\n    str += '; Domain=' + opt.domain\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid')\n    }\n\n    str += '; Path=' + opt.path\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid')\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly'\n  }\n\n  if (opt.secure) {\n    str += '; Secure'\n  }\n\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite\n\n    switch (sameSite) {\n      case 'lax':\n        str += '; SameSite=Lax'\n        break\n      case 'strict':\n        str += '; SameSite=Strict'\n        break\n      case 'none':\n        str += '; SameSite=None'\n        break\n      default:\n        throw new TypeError('option sameSite is invalid')\n    }\n  }\n\n  return str\n}\n\n/**\n * Based on the environment and the request we know if a secure cookie can be set.\n */\nfunction isSecureEnvironment(req: any) {\n  if (!req || !req.headers || !req.headers.host) {\n    throw new Error('The \"host\" request header is not available')\n  }\n\n  const host =\n    (req.headers.host.indexOf(':') > -1 && req.headers.host.split(':')[0]) || req.headers.host\n  if (['localhost', '127.0.0.1'].indexOf(host) > -1 || host.endsWith('.local')) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Serialize a cookie to a string.\n */\nfunction serializeCookie(cookie: Cookie, secure: boolean) {\n  return serialize(cookie.name, cookie.value, {\n    maxAge: cookie.maxAge,\n    expires: new Date(Date.now() + cookie.maxAge * 1000),\n    httpOnly: true,\n    secure,\n    path: cookie.path ?? '/',\n    domain: cookie.domain ?? '',\n    sameSite: cookie.sameSite ?? 'lax',\n  })\n}\n\n/**\n * Get Cookie Header strings.\n */\nexport function getCookieString(req: any, res: any, cookies: Array<Cookie>): string[] {\n  const strCookies = cookies.map((c) => serializeCookie(c, isSecureEnvironment(req)))\n  const previousCookies = res.getHeader('Set-Cookie')\n  if (previousCookies) {\n    if (previousCookies instanceof Array) {\n      Array.prototype.push.apply(strCookies, previousCookies)\n    } else if (typeof previousCookies === 'string') {\n      strCookies.push(previousCookies)\n    }\n  }\n  return strCookies\n}\n\n/**\n * Set one or more cookies.\n */\nexport function setCookies(req: any, res: any, cookies: Array<Cookie>) {\n  res.setHeader('Set-Cookie', getCookieString(req, res, cookies))\n}\n\n/**\n * Set one or more cookies.\n */\nexport function setCookie(req: any, res: any, cookie: Cookie) {\n  setCookies(req, res, [cookie])\n}\n\nexport function deleteCookie(req: any, res: any, name: string) {\n  setCookie(req, res, {\n    name,\n    value: '',\n    maxAge: -1,\n  })\n}\n","import crossFetch from 'cross-fetch'\n\nexport function expiresAt(expiresIn: number) {\n  const timeNow = Math.round(Date.now() / 1000)\n  return timeNow + expiresIn\n}\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport function getParameterByName(name: string, url?: string) {\n  if (!url) url = window?.location?.href || ''\n  // eslint-disable-next-line no-useless-escape\n  name = name.replace(/[\\[\\]]/g, '\\\\$&')\n  const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url)\n  if (!results) return null\n  if (!results[2]) return ''\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = crossFetch as unknown as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","import { Fetch, get, post, put, remove } from './lib/fetch'\nimport {\n  Session,\n  Provider,\n  AdminUserAttributes,\n  UserAttributes,\n  CookieOptions,\n  User,\n  OpenIDConnectCredentials,\n  VerifyOTPParams,\n} from './lib/types'\nimport { COOKIE_OPTIONS } from './lib/constants'\nimport { setCookies, getCookieString } from './lib/cookies'\nimport { expiresAt, resolveFetch } from './lib/helpers'\n\nimport type { ApiError } from './lib/types'\nexport default class GoTrueApi {\n  protected url: string\n  protected headers: {\n    [key: string]: string\n  }\n  protected cookieOptions: CookieOptions\n  protected fetch: Fetch\n\n  constructor({\n    url = '',\n    headers = {},\n    cookieOptions,\n    fetch,\n  }: {\n    url: string\n    headers?: {\n      [key: string]: string\n    }\n    cookieOptions?: CookieOptions\n    fetch?: Fetch\n  }) {\n    this.url = url\n    this.headers = headers\n    this.cookieOptions = { ...COOKIE_OPTIONS, ...cookieOptions }\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Create a temporary object with all configured headers and\n   * adds the Authorization token to be used on request methods\n   * @param jwt A valid, logged-in JWT.\n   */\n  private _createRequestHeaders(jwt: string) {\n    const headers = { ...this.headers }\n    headers['Authorization'] = `Bearer ${jwt}`\n    return headers\n  }\n\n  private cookieName() {\n    return this.cookieOptions.name ?? ''\n  }\n\n  /**\n   * Generates the relevant login URL for a third-party provider.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n  getUrlForProvider(\n    provider: Provider,\n    options: {\n      redirectTo?: string\n      scopes?: string\n    }\n  ) {\n    const urlParams: string[] = [`provider=${encodeURIComponent(provider)}`]\n    if (options?.redirectTo) {\n      urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`)\n    }\n    if (options?.scopes) {\n      urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`)\n    }\n    return `${this.url}/authorize?${urlParams.join('&')}`\n  }\n\n  /**\n   * Creates a new user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata.\n   *\n   * @returns A logged-in session if the server has \"autoconfirm\" ON\n   * @returns A user if the server has \"autoconfirm\" OFF\n   */\n  async signUpWithEmail(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString = '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/signup${queryString}`,\n        {\n          email,\n          password,\n          data: options.data,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an existing user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async signInWithEmail(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = '?grant_type=password'\n      if (options.redirectTo) {\n        queryString += '&redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { email, password },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Signs up a new user using their phone number and a password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   * @param data Optional user metadata.\n   */\n  async signUpWithPhone(\n    phone: string,\n    password: string,\n    options: {\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/signup`,\n        {\n          phone,\n          password,\n          data: options.data,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an existing user using their phone number and password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   */\n  async signInWithPhone(\n    phone: string,\n    password: string\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const queryString = '?grant_type=password'\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { phone, password },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Logs in an OpenID Connect user using their id_token.\n   * @param id_token The IDToken of the user.\n   * @param nonce The nonce of the user. The nonce is a random value generated by the developer (= yourself) before the initial grant is started. You should check the OpenID Connect specification for details. https://openid.net/developers/specs/\n   * @param provider The provider of the user.\n   * @param client_id The clientID of the user.\n   * @param issuer The issuer of the user.\n   */\n  async signInWithOpenIDConnect({\n    id_token,\n    nonce,\n    client_id,\n    issuer,\n    provider,\n  }: OpenIDConnectCredentials): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const queryString = '?grant_type=id_token'\n      const data = await post(\n        this.fetch,\n        `${this.url}/token${queryString}`,\n        { id_token, nonce, client_id, issuer, provider },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a magic login link to an email address.\n   * @param email The email address of the user.\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async sendMagicLinkEmail(\n    email: string,\n    options: {\n      shouldCreateUser?: boolean\n      redirectTo?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n\n      const shouldCreateUser = options.shouldCreateUser ?? true\n      const data = await post(\n        this.fetch,\n        `${this.url}/otp${queryString}`,\n        {\n          email,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a mobile OTP via SMS. Will register the account if it doesn't already exist\n   * @param phone The user's phone number WITH international prefix\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   */\n  async sendMobileOTP(\n    phone: string,\n    options: {\n      shouldCreateUser?: boolean\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const shouldCreateUser = options.shouldCreateUser ?? true\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/otp`,\n        {\n          phone,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: { hcaptcha_token: options.captchaToken },\n        },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Removes a logged-in session.\n   * @param jwt A valid, logged-in JWT.\n   */\n  async signOut(jwt: string): Promise<{ error: ApiError | null }> {\n    try {\n      await post(\n        this.fetch,\n        `${this.url}/logout`,\n        {},\n        { headers: this._createRequestHeaders(jwt), noResolveJson: true }\n      )\n      return { error: null }\n    } catch (e) {\n      return { error: e as ApiError }\n    }\n  }\n\n  /**\n   * @deprecated Use `verifyOTP` instead!\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyMobileOTP(\n    phone: string,\n    token: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/verify`,\n        { phone, token, type: 'sms', redirect_to: options.redirectTo },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Send User supplied Email / Mobile OTP to be verified\n   * @param email The user's email address\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param type verification type that the otp is generated for\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyOTP(\n    { email, phone, token, type = 'sms' }: VerifyOTPParams,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      const data = await post(\n        this.fetch,\n        `${this.url}/verify`,\n        { email, phone, token, type, redirect_to: options.redirectTo },\n        { headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends an invite link to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata\n   */\n  async inviteUserByEmail(\n    email: string,\n    options: {\n      redirectTo?: string\n      data?: object\n    } = {}\n  ): Promise<{ data: User | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/invite${queryString}`,\n        { email, data: options.data },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sends a reset request to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async resetPasswordForEmail(\n    email: string,\n    options: {\n      redirectTo?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{ data: {} | null; error: ApiError | null }> {\n    try {\n      const headers = { ...this.headers }\n      let queryString = ''\n      if (options.redirectTo) {\n        queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo)\n      }\n      const data = await post(\n        this.fetch,\n        `${this.url}/recover${queryString}`,\n        { email, gotrue_meta_security: { hcaptcha_token: options.captchaToken } },\n        { headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Generates a new JWT.\n   * @param refreshToken A valid refresh token that was returned on login.\n   */\n  async refreshAccessToken(\n    refreshToken: string\n  ): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      const data: any = await post(\n        this.fetch,\n        `${this.url}/token?grant_type=refresh_token`,\n        { refresh_token: refreshToken },\n        { headers: this.headers }\n      )\n      const session = { ...data }\n      if (session.expires_in) session.expires_at = expiresAt(data.expires_in)\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Set/delete the auth cookie based on the AuthChangeEvent.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   * @param req The request object.\n   * @param res The response object.\n   */\n  setAuthCookie(req: any, res: any) {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST')\n      res.status(405).end('Method Not Allowed')\n    }\n    const { event, session } = req.body\n\n    if (!event) throw new Error('Auth event missing!')\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!')\n      setCookies(\n        req,\n        res,\n        [\n          { key: 'access-token', value: session.access_token },\n          { key: 'refresh-token', value: session.refresh_token },\n        ].map((token) => ({\n          name: `${this.cookieName()}-${token.key}`,\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: this.cookieOptions.lifetime ?? 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite,\n        }))\n      )\n    }\n    if (event === 'SIGNED_OUT') {\n      setCookies(\n        req,\n        res,\n        ['access-token', 'refresh-token'].map((key) => ({\n          name: `${this.cookieName()}-${key}`,\n          value: '',\n          maxAge: -1,\n        }))\n      )\n    }\n    res.status(200).json({})\n  }\n\n  /**\n   * Deletes the Auth Cookies and redirects to the\n   * @param req The request object.\n   * @param res The response object.\n   * @param options Optionally specify a `redirectTo` URL in the options.\n   */\n  deleteAuthCookie(req: any, res: any, { redirectTo = '/' }: { redirectTo?: string }) {\n    setCookies(\n      req,\n      res,\n      ['access-token', 'refresh-token'].map((key) => ({\n        name: `${this.cookieName()}-${key}`,\n        value: '',\n        maxAge: -1,\n      }))\n    )\n    return res.redirect(307, redirectTo)\n  }\n\n  /**\n   * Helper method to generate the Auth Cookie string for you in case you can't use `setAuthCookie`.\n   * @param req The request object.\n   * @param res The response object.\n   * @returns The Cookie string that needs to be set as the value for the `Set-Cookie` header.\n   */\n  getAuthCookieString(req: any, res: any): string[] {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST')\n      res.status(405).end('Method Not Allowed')\n    }\n    const { event, session } = req.body\n\n    if (!event) throw new Error('Auth event missing!')\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!')\n      return getCookieString(\n        req,\n        res,\n        [\n          { key: 'access-token', value: session.access_token },\n          { key: 'refresh-token', value: session.refresh_token },\n        ].map((token) => ({\n          name: `${this.cookieName()}-${token.key}`,\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: this.cookieOptions.lifetime ?? 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite,\n        }))\n      )\n    }\n    if (event === 'SIGNED_OUT') {\n      return getCookieString(\n        req,\n        res,\n        ['access-token', 'refresh-token'].map((key) => ({\n          name: `${this.cookieName()}-${key}`,\n          value: '',\n          maxAge: -1,\n        }))\n      )\n    }\n    return res.getHeader('Set-Cookie')\n  }\n\n  /**\n   * Generates links to be sent via email or other.\n   * @param type The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   * @param email The user's email.\n   * @param password User password. For signup only.\n   * @param data Optional user metadata. For signup only.\n   * @param redirectTo The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   */\n  async generateLink(\n    type: 'signup' | 'magiclink' | 'recovery' | 'invite',\n    email: string,\n    options: {\n      password?: string\n      data?: object\n      redirectTo?: string\n    } = {}\n  ): Promise<{ data: Session | User | null; error: ApiError | null }> {\n    try {\n      const data: any = await post(\n        this.fetch,\n        `${this.url}/admin/generate_link`,\n        {\n          type,\n          email,\n          password: options.password,\n          data: options.data,\n          redirect_to: options.redirectTo,\n        },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  // User Admin API\n\n  /**\n   * Creates a new user.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param attributes The data you want to create the user with.\n   */\n  async createUser(\n    attributes: AdminUserAttributes\n  ): Promise<\n    { user: null; data: null; error: ApiError } | { user: User; data: User; error: null }\n  > {\n    try {\n      const data: any = await post(this.fetch, `${this.url}/admin/users`, attributes, {\n        headers: this.headers,\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get a list of users.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async listUsers(): Promise<{ data: null; error: ApiError } | { data: User[]; error: null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/admin/users`, {\n        headers: this.headers,\n      })\n      return { data: data.users, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get user by id.\n   *\n   * @param uid The user's unique identifier\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async getUserById(\n    uid: string\n  ): Promise<{ data: null; error: ApiError } | { data: User; error: null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/admin/users/${uid}`, {\n        headers: this.headers,\n      })\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Get user by reading the cookie from the request.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   */\n  async getUserByCookie(\n    req: any,\n    res?: any\n  ): Promise<{\n    token: string | null\n    user: User | null\n    data: User | null\n    error: ApiError | null\n  }> {\n    try {\n      if (!req.cookies) {\n        throw new Error(\n          'Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!'\n        )\n      }\n\n      const access_token = req.cookies[`${this.cookieName()}-access-token`]\n      const refresh_token = req.cookies[`${this.cookieName()}-refresh-token`]\n\n      if (!access_token) {\n        throw new Error('No cookie found!')\n      }\n\n      const { user, error: getUserError } = await this.getUser(access_token)\n      if (getUserError) {\n        if (!refresh_token) throw new Error('No refresh_token cookie found!')\n        if (!res)\n          throw new Error('You need to pass the res object to automatically refresh the session!')\n        const { data, error } = await this.refreshAccessToken(refresh_token)\n        if (error) {\n          throw error\n        } else if (data) {\n          setCookies(\n            req,\n            res,\n            [\n              { key: 'access-token', value: data.access_token },\n              { key: 'refresh-token', value: data.refresh_token! },\n            ].map((token) => ({\n              name: `${this.cookieName()}-${token.key}`,\n              value: token.value,\n              domain: this.cookieOptions.domain,\n              maxAge: this.cookieOptions.lifetime ?? 0,\n              path: this.cookieOptions.path,\n              sameSite: this.cookieOptions.sameSite,\n            }))\n          )\n          return { token: data.access_token, user: data.user, data: data.user, error: null }\n        }\n      }\n      return { token: access_token, user: user, data: user, error: null }\n    } catch (e) {\n      return { token: null, user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates the user data.\n   *\n   * @param attributes The data you want to update.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n  async updateUserById(\n    uid: string,\n    attributes: AdminUserAttributes\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      this //\n      const data: any = await put(this.fetch, `${this.url}/admin/users/${uid}`, attributes, {\n        headers: this.headers,\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Delete a user. Requires a `service_role` key.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param uid The user uid you want to remove.\n   */\n  async deleteUser(\n    uid: string\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await remove(\n        this.fetch,\n        `${this.url}/admin/users/${uid}`,\n        {},\n        {\n          headers: this.headers,\n        }\n      )\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Gets the current user details.\n   *\n   * This method is called by the GoTrueClient `update` where\n   * the jwt is set to this.currentSession.access_token\n   * and therefore, acts like getting the currently authenticated used\n   *\n   * @param jwt A valid, logged-in JWT. Typically, the access_token for the currentSession\n   */\n  async getUser(\n    jwt: string\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await get(this.fetch, `${this.url}/user`, {\n        headers: this._createRequestHeaders(jwt),\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates the user data.\n   * @param jwt A valid, logged-in JWT.\n   * @param attributes The data you want to update.\n   */\n  async updateUser(\n    jwt: string,\n    attributes: UserAttributes\n  ): Promise<{ user: User | null; data: User | null; error: ApiError | null }> {\n    try {\n      const data: any = await put(this.fetch, `${this.url}/user`, attributes, {\n        headers: this._createRequestHeaders(jwt),\n      })\n      return { user: data, data, error: null }\n    } catch (e) {\n      return { user: null, data: null, error: e as ApiError }\n    }\n  }\n}\n","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n  if (typeof globalThis === 'object') return\n  try {\n    Object.defineProperty(Object.prototype, '__magic__', {\n      get: function () {\n        return this\n      },\n      configurable: true,\n    })\n    // @ts-expect-error 'Allow access to magic'\n    __magic__.globalThis = __magic__\n    // @ts-expect-error 'Allow access to magic'\n    delete Object.prototype.__magic__\n  } catch (e) {\n    if (typeof self !== 'undefined') {\n      // @ts-expect-error 'Allow access to globals'\n      self.globalThis = self\n    }\n  }\n}\n","import GoTrueApi from './GoTrueApi'\nimport { isBrowser, getParameterByName, uuid } from './lib/helpers'\nimport { GOTRUE_URL, DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants'\nimport { polyfillGlobalThis } from './lib/polyfills'\nimport { Fetch } from './lib/fetch'\n\nimport type {\n  ApiError,\n  Session,\n  User,\n  UserAttributes,\n  Provider,\n  Subscription,\n  AuthChangeEvent,\n  CookieOptions,\n  UserCredentials,\n  VerifyOTPParams,\n  OpenIDConnectCredentials,\n} from './lib/types'\n\npolyfillGlobalThis() // Make \"globalThis\" available\n\nconst DEFAULT_OPTIONS = {\n  url: GOTRUE_URL,\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS,\n}\n\ntype AnyFunction = (...args: any[]) => any\ntype MaybePromisify<T> = T | Promise<T>\n\ntype PromisifyMethods<T> = {\n  [K in keyof T]: T[K] extends AnyFunction\n    ? (...args: Parameters<T[K]>) => MaybePromisify<ReturnType<T[K]>>\n    : T[K]\n}\n\ntype SupportedStorage = PromisifyMethods<Pick<Storage, 'getItem' | 'setItem' | 'removeItem'>>\n\nexport default class GoTrueClient {\n  /**\n   * Namespace for the GoTrue API methods.\n   * These can be used for example to get a user from a JWT in a server environment or reset a user's password.\n   */\n  api: GoTrueApi\n  /**\n   * The currently logged in user or null.\n   */\n  protected currentUser: User | null\n  /**\n   * The session object for the currently logged in user or null.\n   */\n  protected currentSession: Session | null\n\n  protected autoRefreshToken: boolean\n  protected persistSession: boolean\n  protected localStorage: SupportedStorage\n  protected multiTab: boolean\n  protected stateChangeEmitters: Map<string, Subscription> = new Map()\n  protected refreshTokenTimer?: ReturnType<typeof setTimeout>\n\n  /**\n   * Create a new client for use in the browser.\n   * @param options.url The URL of the GoTrue server.\n   * @param options.headers Any additional headers to send to the GoTrue server.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.cookieOptions\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(options: {\n    url?: string\n    headers?: { [key: string]: string }\n    detectSessionInUrl?: boolean\n    autoRefreshToken?: boolean\n    persistSession?: boolean\n    localStorage?: SupportedStorage\n    multiTab?: boolean\n    cookieOptions?: CookieOptions\n    fetch?: Fetch\n  }) {\n    const settings = { ...DEFAULT_OPTIONS, ...options }\n    this.currentUser = null\n    this.currentSession = null\n    this.autoRefreshToken = settings.autoRefreshToken\n    this.persistSession = settings.persistSession\n    this.multiTab = settings.multiTab\n    this.localStorage = settings.localStorage || globalThis.localStorage\n    this.api = new GoTrueApi({\n      url: settings.url,\n      headers: settings.headers,\n      cookieOptions: settings.cookieOptions,\n      fetch: settings.fetch,\n    })\n    this._recoverSession()\n    this._recoverAndRefresh()\n    this._listenForMultiTabEvents()\n\n    if (settings.detectSessionInUrl && isBrowser() && !!getParameterByName('access_token')) {\n      // Handle the OAuth redirect\n      this.getSessionFromUrl({ storeSession: true }).then(({ error }) => {\n        if (error) {\n          console.error('Error getting session from URL.', error)\n        }\n      })\n    }\n  }\n\n  /**\n   * Creates a new user.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param password The user's password.\n   * @param phone The user's phone number.\n   * @param redirectTo The redirect URL attached to the signup confirmation link. Does not redirect the user if it's a mobile signup.\n   * @param data Optional user metadata.\n   */\n  async signUp(\n    { email, password, phone }: UserCredentials,\n    options: {\n      redirectTo?: string\n      data?: object\n      captchaToken?: string\n    } = {}\n  ): Promise<{\n    user: User | null\n    session: Session | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      const { data, error } =\n        phone && password\n          ? await this.api.signUpWithPhone(phone!, password!, {\n              data: options.data,\n              captchaToken: options.captchaToken,\n            })\n          : await this.api.signUpWithEmail(email!, password!, {\n              redirectTo: options.redirectTo,\n              data: options.data,\n              captchaToken: options.captchaToken,\n            })\n\n      if (error) {\n        throw error\n      }\n\n      if (!data) {\n        throw 'An error occurred on sign up.'\n      }\n\n      let session: Session | null = null\n      let user: User | null = null\n\n      if ((data as Session).access_token) {\n        session = data as Session\n        user = session.user as User\n        this._saveSession(session)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      if ((data as User).id) {\n        user = data as User\n      }\n\n      return { user, session, error: null }\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Log in an existing user, or login via a third-party provider.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param password The user's password.\n   * @param refreshToken A valid refresh token that was returned on login.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL to send the user to after they are confirmed (OAuth logins only).\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n  async signIn(\n    { email, phone, password, refreshToken, provider, oidc }: UserCredentials,\n    options: {\n      redirectTo?: string\n      shouldCreateUser?: boolean\n      scopes?: string\n      captchaToken?: string\n    } = {}\n  ): Promise<{\n    session: Session | null\n    user: User | null\n    provider?: Provider\n    url?: string | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      if (email && !password) {\n        const { error } = await this.api.sendMagicLinkEmail(email, {\n          redirectTo: options.redirectTo,\n          shouldCreateUser: options.shouldCreateUser,\n          captchaToken: options.captchaToken,\n        })\n        return { user: null, session: null, error }\n      }\n      if (email && password) {\n        return this._handleEmailSignIn(email, password, {\n          redirectTo: options.redirectTo,\n        })\n      }\n      if (phone && !password) {\n        const { error } = await this.api.sendMobileOTP(phone, {\n          shouldCreateUser: options.shouldCreateUser,\n          captchaToken: options.captchaToken,\n        })\n        return { user: null, session: null, error }\n      }\n      if (phone && password) {\n        return this._handlePhoneSignIn(phone, password)\n      }\n      if (refreshToken) {\n        // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n        const { error } = await this._callRefreshToken(refreshToken)\n        if (error) throw error\n\n        return {\n          user: this.currentUser,\n          session: this.currentSession,\n          error: null,\n        }\n      }\n      if (provider) {\n        return this._handleProviderSignIn(provider, {\n          redirectTo: options.redirectTo,\n          scopes: options.scopes,\n        })\n      }\n      if (oidc) {\n        return this._handleOpenIDConnectSignIn(oidc)\n      }\n      throw new Error(\n        `You must provide either an email, phone number, a third-party provider or OpenID Connect.`\n      )\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Log in a user given a User supplied OTP received via mobile.\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param token The user's password.\n   * @param type The user's verification type.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n  async verifyOTP(\n    params: VerifyOTPParams,\n    options: {\n      redirectTo?: string\n    } = {}\n  ): Promise<{\n    user: User | null\n    session: Session | null\n    error: ApiError | null\n  }> {\n    try {\n      this._removeSession()\n\n      const { data, error } = await this.api.verifyOTP(params, options)\n\n      if (error) {\n        throw error\n      }\n\n      if (!data) {\n        throw 'An error occurred on token verification.'\n      }\n\n      let session: Session | null = null\n      let user: User | null = null\n\n      if ((data as Session).access_token) {\n        session = data as Session\n        user = session.user as User\n        this._saveSession(session)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      if ((data as User).id) {\n        user = data as User\n      }\n\n      return { user, session, error: null }\n    } catch (e) {\n      return { user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n   *\n   * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n   */\n  user(): User | null {\n    return this.currentUser\n  }\n\n  /**\n   * Returns the session data, if there is an active session.\n   */\n  session(): Session | null {\n    return this.currentSession\n  }\n\n  /**\n   * Force refreshes the session including the user data in case it was updated in a different session.\n   */\n  async refreshSession(): Promise<{\n    data: Session | null\n    user: User | null\n    error: ApiError | null\n  }> {\n    try {\n      if (!this.currentSession?.access_token) throw new Error('Not logged in.')\n\n      // currentSession and currentUser will be updated to latest on _callRefreshToken\n      const { error } = await this._callRefreshToken()\n      if (error) throw error\n\n      return { data: this.currentSession, user: this.currentUser, error: null }\n    } catch (e) {\n      return { data: null, user: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Updates user data, if there is a logged in user.\n   */\n  async update(\n    attributes: UserAttributes\n  ): Promise<{ data: User | null; user: User | null; error: ApiError | null }> {\n    try {\n      if (!this.currentSession?.access_token) throw new Error('Not logged in.')\n\n      const { user, error } = await this.api.updateUser(\n        this.currentSession.access_token,\n        attributes\n      )\n      if (error) throw error\n      if (!user) throw Error('Invalid user data.')\n\n      const session = { ...this.currentSession, user }\n      this._saveSession(session)\n      this._notifyAllSubscribers('USER_UPDATED')\n\n      return { data: user, user, error: null }\n    } catch (e) {\n      return { data: null, user: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Sets the session data from refresh_token and returns current Session and Error\n   * @param refresh_token a JWT token\n   */\n  async setSession(\n    refresh_token: string\n  ): Promise<{ session: Session | null; error: ApiError | null }> {\n    try {\n      if (!refresh_token) {\n        throw new Error('No current session.')\n      }\n      const { data, error } = await this.api.refreshAccessToken(refresh_token)\n      if (error) {\n        return { session: null, error: error }\n      }\n\n      this._saveSession(data!)\n      this._notifyAllSubscribers('SIGNED_IN')\n      return { session: data, error: null }\n    } catch (e) {\n      return { error: e as ApiError, session: null }\n    }\n  }\n\n  /**\n   * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n   * @param access_token a jwt access token\n   */\n  setAuth(access_token: string): Session {\n    this.currentSession = {\n      ...this.currentSession,\n      access_token,\n      token_type: 'bearer',\n      user: this.user(),\n    }\n\n    return this.currentSession\n  }\n\n  /**\n   * Gets the session data from a URL string\n   * @param options.storeSession Optionally store the session in the browser\n   */\n  async getSessionFromUrl(options?: {\n    storeSession?: boolean\n  }): Promise<{ data: Session | null; error: ApiError | null }> {\n    try {\n      if (!isBrowser()) throw new Error('No browser detected.')\n\n      const error_description = getParameterByName('error_description')\n      if (error_description) throw new Error(error_description)\n\n      const provider_token = getParameterByName('provider_token')\n      const access_token = getParameterByName('access_token')\n      if (!access_token) throw new Error('No access_token detected.')\n      const expires_in = getParameterByName('expires_in')\n      if (!expires_in) throw new Error('No expires_in detected.')\n      const refresh_token = getParameterByName('refresh_token')\n      if (!refresh_token) throw new Error('No refresh_token detected.')\n      const token_type = getParameterByName('token_type')\n      if (!token_type) throw new Error('No token_type detected.')\n\n      const timeNow = Math.round(Date.now() / 1000)\n      const expires_at = timeNow + parseInt(expires_in)\n\n      const { user, error } = await this.api.getUser(access_token)\n      if (error) throw error\n\n      const session: Session = {\n        provider_token,\n        access_token,\n        expires_in: parseInt(expires_in),\n        expires_at,\n        refresh_token,\n        token_type,\n        user: user!,\n      }\n      if (options?.storeSession) {\n        this._saveSession(session)\n        const recoveryMode = getParameterByName('type')\n        this._notifyAllSubscribers('SIGNED_IN')\n        if (recoveryMode === 'recovery') {\n          this._notifyAllSubscribers('PASSWORD_RECOVERY')\n        }\n      }\n      // Remove tokens from URL\n      window.location.hash = ''\n\n      return { data: session, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  /**\n   * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n   * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n   *\n   * For server-side management, you can disable sessions by passing a JWT through to `auth.api.signOut(JWT: string)`\n   */\n  async signOut(): Promise<{ error: ApiError | null }> {\n    const accessToken = this.currentSession?.access_token\n    this._removeSession()\n    this._notifyAllSubscribers('SIGNED_OUT')\n    if (accessToken) {\n      const { error } = await this.api.signOut(accessToken)\n      if (error) return { error }\n    }\n    return { error: null }\n  }\n\n  /**\n   * Receive a notification every time an auth event happens.\n   * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n   */\n  onAuthStateChange(callback: (event: AuthChangeEvent, session: Session | null) => void): {\n    data: Subscription | null\n    error: ApiError | null\n  } {\n    try {\n      const id: string = uuid()\n      const subscription: Subscription = {\n        id,\n        callback,\n        unsubscribe: () => {\n          this.stateChangeEmitters.delete(id)\n        },\n      }\n      this.stateChangeEmitters.set(id, subscription)\n      return { data: subscription, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  private async _handleEmailSignIn(\n    email: string,\n    password: string,\n    options: {\n      redirectTo?: string\n    } = {}\n  ) {\n    try {\n      const { data, error } = await this.api.signInWithEmail(email, password, {\n        redirectTo: options.redirectTo,\n      })\n      if (error || !data) return { data: null, user: null, session: null, error }\n\n      if (data?.user?.confirmed_at || data?.user?.email_confirmed_at) {\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      return { data, user: data.user, session: data, error: null }\n    } catch (e) {\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private async _handlePhoneSignIn(phone: string, password: string) {\n    try {\n      const { data, error } = await this.api.signInWithPhone(phone, password)\n      if (error || !data) return { data: null, user: null, session: null, error }\n\n      if (data?.user?.phone_confirmed_at) {\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n\n      return { data, user: data.user, session: data, error: null }\n    } catch (e) {\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private _handleProviderSignIn(\n    provider: Provider,\n    options: {\n      redirectTo?: string\n      scopes?: string\n    } = {}\n  ) {\n    const url: string = this.api.getUrlForProvider(provider, {\n      redirectTo: options.redirectTo,\n      scopes: options.scopes,\n    })\n\n    try {\n      // try to open on the browser\n      if (isBrowser()) {\n        window.location.href = url\n      }\n      return { provider, url, data: null, session: null, user: null, error: null }\n    } catch (e) {\n      // fallback to returning the URL\n      if (url) return { provider, url, data: null, session: null, user: null, error: null }\n      return { data: null, user: null, session: null, error: e as ApiError }\n    }\n  }\n\n  private async _handleOpenIDConnectSignIn({\n    id_token,\n    nonce,\n    client_id,\n    issuer,\n    provider,\n  }: OpenIDConnectCredentials): Promise<{\n    session: Session | null\n    user: User | null\n    error: ApiError | null\n  }> {\n    if (id_token && nonce && ((client_id && issuer) || provider)) {\n      try {\n        const { data, error } = await this.api.signInWithOpenIDConnect({\n          id_token,\n          nonce,\n          client_id,\n          issuer,\n          provider,\n        })\n        if (error || !data) return { user: null, session: null, error }\n        this._saveSession(data)\n        this._notifyAllSubscribers('SIGNED_IN')\n        return { user: data.user, session: data, error: null }\n      } catch (e) {\n        return { user: null, session: null, error: e as ApiError }\n      }\n    }\n    throw new Error(`You must provide a OpenID Connect provider with your id token and nonce.`)\n  }\n\n  /**\n   * Attempts to get the session from LocalStorage\n   * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n   */\n  private _recoverSession() {\n    try {\n      const json = isBrowser() && this.localStorage?.getItem(STORAGE_KEY)\n      if (!json || typeof json !== 'string') {\n        return null\n      }\n\n      const data = JSON.parse(json)\n      const { currentSession, expiresAt } = data\n      const timeNow = Math.round(Date.now() / 1000)\n\n      if (expiresAt >= timeNow && currentSession?.user) {\n        this._saveSession(currentSession)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  /**\n   * Recovers the session from LocalStorage and refreshes\n   * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n   */\n  private async _recoverAndRefresh() {\n    try {\n      const json = isBrowser() && (await this.localStorage.getItem(STORAGE_KEY))\n      if (!json) {\n        return null\n      }\n\n      const data = JSON.parse(json)\n      const { currentSession, expiresAt } = data\n      const timeNow = Math.round(Date.now() / 1000)\n\n      if (expiresAt < timeNow) {\n        if (this.autoRefreshToken && currentSession.refresh_token) {\n          const { error } = await this._callRefreshToken(currentSession.refresh_token)\n          if (error) {\n            console.log(error.message)\n            await this._removeSession()\n          }\n        } else {\n          this._removeSession()\n        }\n      } else if (!currentSession) {\n        console.log('Current session is missing data.')\n        this._removeSession()\n      } else {\n        // should be handled on _recoverSession method already\n        // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n        this._saveSession(currentSession)\n        this._notifyAllSubscribers('SIGNED_IN')\n      }\n    } catch (err) {\n      console.error(err)\n      return null\n    }\n  }\n\n  private async _callRefreshToken(refresh_token = this.currentSession?.refresh_token) {\n    try {\n      if (!refresh_token) {\n        throw new Error('No current session.')\n      }\n      const { data, error } = await this.api.refreshAccessToken(refresh_token)\n      if (error) throw error\n      if (!data) throw Error('Invalid session data.')\n\n      this._saveSession(data)\n      this._notifyAllSubscribers('TOKEN_REFRESHED')\n      this._notifyAllSubscribers('SIGNED_IN')\n\n      return { data, error: null }\n    } catch (e) {\n      return { data: null, error: e as ApiError }\n    }\n  }\n\n  private _notifyAllSubscribers(event: AuthChangeEvent) {\n    this.stateChangeEmitters.forEach((x) => x.callback(event, this.currentSession))\n  }\n\n  /**\n   * set currentSession and currentUser\n   * process to _startAutoRefreshToken if possible\n   */\n  private _saveSession(session: Session) {\n    this.currentSession = session\n    this.currentUser = session.user\n\n    const expiresAt = session.expires_at\n    if (expiresAt) {\n      const timeNow = Math.round(Date.now() / 1000)\n      const expiresIn = expiresAt - timeNow\n      const refreshDurationBeforeExpires = expiresIn > 60 ? 60 : 0.5\n      this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000)\n    }\n\n    // Do we need any extra check before persist session\n    // access_token or user ?\n    if (this.persistSession && session.expires_at) {\n      this._persistSession(this.currentSession)\n    }\n  }\n\n  private _persistSession(currentSession: Session) {\n    const data = { currentSession, expiresAt: currentSession.expires_at }\n    isBrowser() && this.localStorage.setItem(STORAGE_KEY, JSON.stringify(data))\n  }\n\n  private async _removeSession() {\n    this.currentSession = null\n    this.currentUser = null\n    if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer)\n    isBrowser() && (await this.localStorage.removeItem(STORAGE_KEY))\n  }\n\n  /**\n   * Clear and re-create refresh token timer\n   * @param value time intervals in milliseconds\n   */\n  private _startAutoRefreshToken(value: number) {\n    if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer)\n    if (value <= 0 || !this.autoRefreshToken) return\n\n    this.refreshTokenTimer = setTimeout(() => this._callRefreshToken(), value)\n    if (typeof this.refreshTokenTimer.unref === 'function') this.refreshTokenTimer.unref()\n  }\n\n  /**\n   * Listens for changes to LocalStorage and updates the current session.\n   */\n  private _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !window?.addEventListener) {\n      // console.debug('Auth multi-tab support is disabled.')\n      return false\n    }\n\n    try {\n      window?.addEventListener('storage', (e: StorageEvent) => {\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue))\n          if (newSession?.currentSession?.access_token) {\n            this._recoverAndRefresh()\n            this._notifyAllSubscribers('SIGNED_IN')\n          } else {\n            this._removeSession()\n            this._notifyAllSubscribers('SIGNED_OUT')\n          }\n        }\n      })\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error)\n    }\n  }\n}\n","import { GoTrueClient } from '@supabase/gotrue-js'\nimport { SupabaseAuthClientOptions } from './types'\n\nexport class SupabaseAuthClient extends GoTrueClient {\n  constructor(options: SupabaseAuthClientOptions) {\n    super(options)\n  }\n}\n","/**\n * Helpers to convert the change Payload into native JS types.\n */\n\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\n\nexport enum PostgresTypes {\n  abstime = 'abstime',\n  bool = 'bool',\n  date = 'date',\n  daterange = 'daterange',\n  float4 = 'float4',\n  float8 = 'float8',\n  int2 = 'int2',\n  int4 = 'int4',\n  int4range = 'int4range',\n  int8 = 'int8',\n  int8range = 'int8range',\n  json = 'json',\n  jsonb = 'jsonb',\n  money = 'money',\n  numeric = 'numeric',\n  oid = 'oid',\n  reltime = 'reltime',\n  text = 'text',\n  time = 'time',\n  timestamp = 'timestamp',\n  timestamptz = 'timestamptz',\n  timetz = 'timetz',\n  tsrange = 'tsrange',\n  tstzrange = 'tstzrange',\n}\n\ntype Columns = {\n  name: string // the column name. eg: \"user_id\"\n  type: string // the column type. eg: \"uuid\"\n  flags?: string[] // any special flags for the column. eg: [\"key\"]\n  type_modifier?: number // the type modifier. eg: 4294967295\n}[]\n\ntype BaseValue = null | string | number | boolean\ntype RecordValue = BaseValue | BaseValue[]\n\ntype Record = {\n  [key: string]: RecordValue\n}\n\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (\n  columns: Columns,\n  record: Record,\n  options: { skipTypes?: string[] } = {}\n): Record => {\n  const skipTypes = options.skipTypes ?? []\n\n  return Object.keys(record).reduce((acc, rec_key) => {\n    acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes)\n    return acc\n  }, {} as Record)\n}\n\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (\n  columnName: string,\n  columns: Columns,\n  record: Record,\n  skipTypes: string[]\n): RecordValue => {\n  const column = columns.find((x) => x.name === columnName)\n  const colType = column?.type\n  const value = record[columnName]\n\n  if (colType && !skipTypes.includes(colType)) {\n    return convertCell(colType, value)\n  }\n\n  return noop(value)\n}\n\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type: string, value: RecordValue): RecordValue => {\n  // if data type is an array\n  if (type.charAt(0) === '_') {\n    const dataType = type.slice(1, type.length)\n    return toArray(value, dataType)\n  }\n\n  // If not null, convert to correct type.\n  switch (type) {\n    case PostgresTypes.bool:\n      return toBoolean(value)\n    case PostgresTypes.float4:\n    case PostgresTypes.float8:\n    case PostgresTypes.int2:\n    case PostgresTypes.int4:\n    case PostgresTypes.int8:\n    case PostgresTypes.numeric:\n    case PostgresTypes.oid:\n      return toNumber(value)\n    case PostgresTypes.json:\n    case PostgresTypes.jsonb:\n      return toJson(value)\n    case PostgresTypes.timestamp:\n      return toTimestampString(value) // Format to be consistent with PostgREST\n    case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n    case PostgresTypes.date: // To allow users to cast it based on Timezone\n    case PostgresTypes.daterange:\n    case PostgresTypes.int4range:\n    case PostgresTypes.int8range:\n    case PostgresTypes.money:\n    case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n    case PostgresTypes.text:\n    case PostgresTypes.time: // To allow users to cast it based on Timezone\n    case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n    case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n    case PostgresTypes.tsrange:\n    case PostgresTypes.tstzrange:\n      return noop(value)\n    default:\n      // Return the value for remaining types\n      return noop(value)\n  }\n}\n\nconst noop = (value: RecordValue): RecordValue => {\n  return value\n}\nexport const toBoolean = (value: RecordValue): RecordValue => {\n  switch (value) {\n    case 't':\n      return true\n    case 'f':\n      return false\n    default:\n      return value\n  }\n}\nexport const toNumber = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    const parsedValue = parseFloat(value)\n    if (!Number.isNaN(parsedValue)) {\n      return parsedValue\n    }\n  }\n  return value\n}\nexport const toJson = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    try {\n      return JSON.parse(value)\n    } catch (error) {\n      console.log(`JSON parse error: ${error}`)\n      return value\n    }\n  }\n  return value\n}\n\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value: RecordValue, type: string): RecordValue => {\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  const lastIdx = value.length - 1\n  const closeBrace = value[lastIdx]\n  const openBrace = value[0]\n\n  // Confirm value is a Postgres array by checking curly brackets\n  if (openBrace === '{' && closeBrace === '}') {\n    let arr\n    const valTrim = value.slice(1, lastIdx)\n\n    // TODO: find a better solution to separate Postgres array data\n    try {\n      arr = JSON.parse('[' + valTrim + ']')\n    } catch (_) {\n      // WARNING: splitting on comma does not cover all edge cases\n      arr = valTrim ? valTrim.split(',') : []\n    }\n\n    return arr.map((val: BaseValue) => convertCell(type, val))\n  }\n\n  return value\n}\n\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    return value.replace(' ', 'T')\n  }\n\n  return value\n}\n","import crossFetch from 'cross-fetch'\n\nexport type Fetch = typeof fetch\n\n/**\n * Error format\n *\n * {@link https://postgrest.org/en/stable/api.html?highlight=options#errors-and-http-status-codes}\n */\nexport type PostgrestError = {\n  message: string\n  details: string\n  hint: string\n  code: string\n}\n\n/**\n * Response format\n *\n * {@link https://github.com/supabase/supabase-js/issues/32}\n */\ninterface PostgrestResponseBase {\n  status: number\n  statusText: string\n}\n\ninterface PostgrestResponseSuccess<T> extends PostgrestResponseBase {\n  error: null\n  data: T[]\n  body: T[]\n  count: number | null\n}\ninterface PostgrestResponseFailure extends PostgrestResponseBase {\n  error: PostgrestError\n  data: null\n  // For backward compatibility: body === data\n  body: null\n  count: null\n}\nexport type PostgrestResponse<T> = PostgrestResponseSuccess<T> | PostgrestResponseFailure\n\ninterface PostgrestSingleResponseSuccess<T> extends PostgrestResponseBase {\n  error: null\n  data: T\n  // For backward compatibility: body === data\n  body: T\n}\nexport type PostgrestSingleResponse<T> =\n  | PostgrestSingleResponseSuccess<T>\n  | PostgrestResponseFailure\nexport type PostgrestMaybeSingleResponse<T> = PostgrestSingleResponse<T | null>\n\nexport abstract class PostgrestBuilder<T> implements PromiseLike<PostgrestResponse<T>> {\n  protected method!: 'GET' | 'HEAD' | 'POST' | 'PATCH' | 'DELETE'\n  protected url!: URL\n  protected headers!: { [key: string]: string }\n  protected schema?: string\n  protected body?: Partial<T> | Partial<T>[]\n  protected shouldThrowOnError: boolean\n  protected signal?: AbortSignal\n  protected fetch: Fetch\n\n  constructor(builder: PostgrestBuilder<T>) {\n    Object.assign(this, builder)\n    let _fetch: Fetch\n    if (builder.fetch) {\n      _fetch = builder.fetch\n    } else if (typeof fetch === 'undefined') {\n      _fetch = crossFetch\n    } else {\n      _fetch = fetch\n    }\n    this.fetch = (...args) => _fetch(...args)\n    this.shouldThrowOnError = builder.shouldThrowOnError || false\n  }\n\n  /**\n   * If there's an error with the query, throwOnError will reject the promise by\n   * throwing the error instead of returning it as part of a successful response.\n   *\n   * {@link https://github.com/supabase/supabase-js/issues/92}\n   */\n  throwOnError(throwOnError?: boolean): this {\n    if (throwOnError === null || throwOnError === undefined) {\n      throwOnError = true\n    }\n    this.shouldThrowOnError = throwOnError\n    return this\n  }\n\n  then<TResult1 = PostgrestResponse<T>, TResult2 = never>(\n    onfulfilled?:\n      | ((value: PostgrestResponse<T>) => TResult1 | PromiseLike<TResult1>)\n      | undefined\n      | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n  ): PromiseLike<TResult1 | TResult2> {\n    // https://postgrest.org/en/stable/api.html#switching-schemas\n    if (typeof this.schema === 'undefined') {\n      // skip\n    } else if (['GET', 'HEAD'].includes(this.method)) {\n      this.headers['Accept-Profile'] = this.schema\n    } else {\n      this.headers['Content-Profile'] = this.schema\n    }\n    if (this.method !== 'GET' && this.method !== 'HEAD') {\n      this.headers['Content-Type'] = 'application/json'\n    }\n\n    let res = this.fetch(this.url.toString(), {\n      method: this.method,\n      headers: this.headers,\n      body: JSON.stringify(this.body),\n      signal: this.signal,\n    }).then(async (res) => {\n      let error = null\n      let data = null\n      let count = null\n\n      if (res.ok) {\n        const isReturnMinimal = this.headers['Prefer']?.split(',').includes('return=minimal')\n        if (this.method !== 'HEAD' && !isReturnMinimal) {\n          const text = await res.text()\n          if (!text) {\n            // discard `text`\n          } else if (this.headers['Accept'] === 'text/csv') {\n            data = text\n          } else {\n            data = JSON.parse(text)\n          }\n        }\n\n        const countHeader = this.headers['Prefer']?.match(/count=(exact|planned|estimated)/)\n        const contentRange = res.headers.get('content-range')?.split('/')\n        if (countHeader && contentRange && contentRange.length > 1) {\n          count = parseInt(contentRange[1])\n        }\n      } else {\n        const body = await res.text()\n\n        try {\n          error = JSON.parse(body)\n        } catch {\n          error = {\n            message: body,\n          }\n        }\n\n        if (error && this.shouldThrowOnError) {\n          throw error\n        }\n      }\n\n      const postgrestResponse = {\n        error,\n        data,\n        count,\n        status: res.status,\n        statusText: res.statusText,\n        body: data,\n      }\n\n      return postgrestResponse\n    })\n    if (!this.shouldThrowOnError) {\n      res = res.catch((fetchError) => ({\n        error: {\n          message: `FetchError: ${fetchError.message}`,\n          details: '',\n          hint: '',\n          code: fetchError.code || '',\n        },\n        data: null,\n        body: null,\n        count: null,\n        status: 400,\n        statusText: 'Bad Request',\n      }))\n    }\n\n    return res.then(onfulfilled, onrejected)\n  }\n}\n","import { PostgrestBuilder, PostgrestMaybeSingleResponse, PostgrestSingleResponse } from './types'\n\n/**\n * Post-filters (transforms)\n */\n\nexport default class PostgrestTransformBuilder<T> extends PostgrestBuilder<T> {\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   */\n  select(columns = '*'): this {\n    // Remove whitespaces except when quoted\n    let quoted = false\n    const cleanedColumns = columns\n      .split('')\n      .map((c) => {\n        if (/\\s/.test(c) && !quoted) {\n          return ''\n        }\n        if (c === '\"') {\n          quoted = !quoted\n        }\n        return c\n      })\n      .join('')\n    this.url.searchParams.set('select', cleanedColumns)\n    return this\n  }\n\n  /**\n   * Orders the result with the specified `column`.\n   *\n   * @param column  The column to order on.\n   * @param ascending  If `true`, the result will be in ascending order.\n   * @param nullsFirst  If `true`, `null`s appear first.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n  order(\n    column: keyof T,\n    {\n      ascending = true,\n      nullsFirst = false,\n      foreignTable,\n    }: { ascending?: boolean; nullsFirst?: boolean; foreignTable?: string } = {}\n  ): this {\n    const key = typeof foreignTable === 'undefined' ? 'order' : `${foreignTable}.order`\n    const existingOrder = this.url.searchParams.get(key)\n\n    this.url.searchParams.set(\n      key,\n      `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}.${\n        nullsFirst ? 'nullsfirst' : 'nullslast'\n      }`\n    )\n    return this\n  }\n\n  /**\n   * Limits the result with the specified `count`.\n   *\n   * @param count  The maximum no. of rows to limit to.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n  limit(count: number, { foreignTable }: { foreignTable?: string } = {}): this {\n    const key = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`\n    this.url.searchParams.set(key, `${count}`)\n    return this\n  }\n\n  /**\n   * Limits the result to rows within the specified range, inclusive.\n   *\n   * @param from  The starting index from which to limit the result, inclusive.\n   * @param to  The last index to which to limit the result, inclusive.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n  range(from: number, to: number, { foreignTable }: { foreignTable?: string } = {}): this {\n    const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : `${foreignTable}.offset`\n    const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`\n    this.url.searchParams.set(keyOffset, `${from}`)\n    // Range is inclusive, so add 1\n    this.url.searchParams.set(keyLimit, `${to - from + 1}`)\n    return this\n  }\n\n  /**\n   * Sets the AbortSignal for the fetch request.\n   */\n  abortSignal(signal: AbortSignal): this {\n    this.signal = signal\n    return this\n  }\n\n  /**\n   * Retrieves only one row from the result. Result must be one row (e.g. using\n   * `limit`), otherwise this will result in an error.\n   */\n  single(): PromiseLike<PostgrestSingleResponse<T>> {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json'\n    return this as PromiseLike<PostgrestSingleResponse<T>>\n  }\n\n  /**\n   * Retrieves at most one row from the result. Result must be at most one row\n   * (e.g. using `eq` on a UNIQUE column), otherwise this will result in an\n   * error.\n   */\n  maybeSingle(): PromiseLike<PostgrestMaybeSingleResponse<T>> {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json'\n    const _this = new PostgrestTransformBuilder(this)\n    _this.then = ((onfulfilled: any, onrejected: any) =>\n      this.then((res: any): any => {\n        if (res.error?.details?.includes('Results contain 0 rows')) {\n          return onfulfilled({\n            error: null,\n            data: null,\n            count: res.count,\n            status: 200,\n            statusText: 'OK',\n            body: null,\n          })\n        }\n\n        return onfulfilled(res)\n      }, onrejected)) as any\n    return _this as PromiseLike<PostgrestMaybeSingleResponse<T>>\n  }\n\n  /**\n   * Set the response type to CSV.\n   */\n  csv(): PromiseLike<PostgrestSingleResponse<string>> {\n    this.headers['Accept'] = 'text/csv'\n    return this as PromiseLike<PostgrestSingleResponse<string>>\n  }\n}\n","import PostgrestTransformBuilder from './PostgrestTransformBuilder'\n\n/**\n * Filters\n */\n\ntype FilterOperator =\n  | 'eq'\n  | 'neq'\n  | 'gt'\n  | 'gte'\n  | 'lt'\n  | 'lte'\n  | 'like'\n  | 'ilike'\n  | 'is'\n  | 'in'\n  | 'cs'\n  | 'cd'\n  | 'sl'\n  | 'sr'\n  | 'nxl'\n  | 'nxr'\n  | 'adj'\n  | 'ov'\n  | 'fts'\n  | 'plfts'\n  | 'phfts'\n  | 'wfts'\n  | 'not.eq'\n  | 'not.neq'\n  | 'not.gt'\n  | 'not.gte'\n  | 'not.lt'\n  | 'not.lte'\n  | 'not.like'\n  | 'not.ilike'\n  | 'not.is'\n  | 'not.in'\n  | 'not.cs'\n  | 'not.cd'\n  | 'not.sl'\n  | 'not.sr'\n  | 'not.nxl'\n  | 'not.nxr'\n  | 'not.adj'\n  | 'not.ov'\n  | 'not.fts'\n  | 'not.plfts'\n  | 'not.phfts'\n  | 'not.wfts'\n\nexport default class PostgrestFilterBuilder<T> extends PostgrestTransformBuilder<T> {\n  /**\n   * Finds all rows which doesn't satisfy the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n  not(column: keyof T, operator: FilterOperator, value: any): this {\n    this.url.searchParams.append(`${column}`, `not.${operator}.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows satisfying at least one of the filters.\n   *\n   * @param filters  The filters to use, separated by commas.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n  or(filters: string, { foreignTable }: { foreignTable?: string } = {}): this {\n    const key = typeof foreignTable === 'undefined' ? 'or' : `${foreignTable}.or`\n    this.url.searchParams.append(key, `(${filters})`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` exactly matches the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  eq(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `eq.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` doesn't match the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  neq(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `neq.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is greater than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  gt(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `gt.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is greater than or\n   * equal to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  gte(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `gte.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is less than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  lt(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `lt.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is less than or equal\n   * to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  lte(column: keyof T, value: T[keyof T]): this {\n    this.url.searchParams.append(`${column}`, `lte.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case sensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n  like(column: keyof T, pattern: string): this {\n    this.url.searchParams.append(`${column}`, `like.${pattern}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case insensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n  ilike(column: keyof T, pattern: string): this {\n    this.url.searchParams.append(`${column}`, `ilike.${pattern}`)\n    return this\n  }\n\n  /**\n   * A check for exact equality (null, true, false), finds all rows whose\n   * value on the stated `column` exactly match the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  is(column: keyof T, value: boolean | null): this {\n    this.url.searchParams.append(`${column}`, `is.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose value on the stated `column` is found on the\n   * specified `values`.\n   *\n   * @param column  The column to filter on.\n   * @param values  The values to filter with.\n   */\n  in(column: keyof T, values: T[keyof T][]): this {\n    const cleanedValues = values\n      .map((s) => {\n        // handle postgrest reserved characters\n        // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n        if (typeof s === 'string' && new RegExp('[,()]').test(s)) return `\"${s}\"`\n        else return `${s}`\n      })\n      .join(',')\n    this.url.searchParams.append(`${column}`, `in.(${cleanedValues})`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column`\n   * contains the values specified in `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  contains(column: keyof T, value: string | T[keyof T][] | object): this {\n    if (typeof value === 'string') {\n      // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n      // keep it simple and accept a string\n      this.url.searchParams.append(`${column}`, `cs.${value}`)\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(`${column}`, `cs.{${value.join(',')}}`)\n    } else {\n      // json\n      this.url.searchParams.append(`${column}`, `cs.${JSON.stringify(value)}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `contains()` instead. */\n  cs = this.contains\n\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column` is\n   * contained by the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  containedBy(column: keyof T, value: string | T[keyof T][] | object): this {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(`${column}`, `cd.${value}`)\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(`${column}`, `cd.{${value.join(',')}}`)\n    } else {\n      // json\n      this.url.searchParams.append(`${column}`, `cd.${JSON.stringify(value)}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `containedBy()` instead. */\n  cd = this.containedBy\n\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to the\n   * left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeLt(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `sl.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeLt()` instead. */\n  sl = this.rangeLt\n\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to\n   * the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeGt(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `sr.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeGt()` instead. */\n  sr = this.rangeGt\n\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeGte(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `nxl.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeGte()` instead. */\n  nxl = this.rangeGte\n\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeLte(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `nxr.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeLte()` instead. */\n  nxr = this.rangeLte\n\n  /**\n   * Finds all rows whose range value on the stated `column` is adjacent to\n   * the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n  rangeAdjacent(column: keyof T, range: string): this {\n    this.url.searchParams.append(`${column}`, `adj.${range}`)\n    return this\n  }\n\n  /** @deprecated Use `rangeAdjacent()` instead. */\n  adj = this.rangeAdjacent\n\n  /**\n   * Finds all rows whose array or range value on the stated `column` overlaps\n   * (has a value in common) with the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n  overlaps(column: keyof T, value: string | T[keyof T][]): this {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(`${column}`, `ov.${value}`)\n    } else {\n      // array\n      this.url.searchParams.append(`${column}`, `ov.{${value.join(',')}}`)\n    }\n    return this\n  }\n\n  /** @deprecated Use `overlaps()` instead. */\n  ov = this.overlaps\n\n  /**\n   * Finds all rows whose text or tsvector value on the stated `column` matches\n   * the tsquery in `query`.\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   * @param type  The type of tsquery conversion to use on `query`.\n   */\n  textSearch(\n    column: keyof T,\n    query: string,\n    {\n      config,\n      type = null,\n    }: { config?: string; type?: 'plain' | 'phrase' | 'websearch' | null } = {}\n  ): this {\n    let typePart = ''\n    if (type === 'plain') {\n      typePart = 'pl'\n    } else if (type === 'phrase') {\n      typePart = 'ph'\n    } else if (type === 'websearch') {\n      typePart = 'w'\n    }\n    const configPart = config === undefined ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `${typePart}fts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` instead.\n   */\n  fts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `fts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * plainto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'plain'` instead.\n   */\n  plfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `plfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * phraseto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'phrase'` instead.\n   */\n  phfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `phfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * websearch_to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'websearch'` instead.\n   */\n  wfts(column: keyof T, query: string, { config }: { config?: string } = {}): this {\n    const configPart = typeof config === 'undefined' ? '' : `(${config})`\n    this.url.searchParams.append(`${column}`, `wfts${configPart}.${query}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose `column` satisfies the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n  filter(column: keyof T, operator: FilterOperator, value: any): this {\n    this.url.searchParams.append(`${column}`, `${operator}.${value}`)\n    return this\n  }\n\n  /**\n   * Finds all rows whose columns match the specified `query` object.\n   *\n   * @param query  The object to filter with, with column names as keys mapped\n   *               to their filter values.\n   */\n  match(query: Record<string, unknown>): this {\n    Object.keys(query).forEach((key) => {\n      this.url.searchParams.append(`${key}`, `eq.${query[key]}`)\n    })\n    return this\n  }\n}\n","import { Fetch, PostgrestBuilder } from './types'\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder'\n\nexport default class PostgrestQueryBuilder<T> extends PostgrestBuilder<T> {\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    } = {}\n  ) {\n    super(({ fetch, shouldThrowOnError } as unknown) as PostgrestBuilder<T>)\n    this.url = new URL(url)\n    this.headers = { ...headers }\n    this.schema = schema\n  }\n\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   * @param head  When set to true, select will void data.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  select(\n    columns = '*',\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'GET'\n    // Remove whitespaces except when quoted\n    let quoted = false\n    const cleanedColumns = columns\n      .split('')\n      .map((c) => {\n        if (/\\s/.test(c) && !quoted) {\n          return ''\n        }\n        if (c === '\"') {\n          quoted = !quoted\n        }\n        return c\n      })\n      .join('')\n    this.url.searchParams.set('select', cleanedColumns)\n    if (count) {\n      this.headers['Prefer'] = `count=${count}`\n    }\n    if (head) {\n      this.method = 'HEAD'\n    }\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an INSERT into the table.\n   *\n   * @param values  The values to insert.\n   * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  insert(\n    values: Partial<T> | Partial<T>[],\n    options?: {\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    }\n  ): PostgrestFilterBuilder<T>\n  /**\n   * @deprecated Use `upsert()` instead.\n   */\n  insert(\n    values: Partial<T> | Partial<T>[],\n    options?: {\n      upsert?: boolean\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    }\n  ): PostgrestFilterBuilder<T>\n  insert(\n    values: Partial<T> | Partial<T>[],\n    {\n      upsert = false,\n      onConflict,\n      returning = 'representation',\n      count = null,\n    }: {\n      upsert?: boolean\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'POST'\n\n    const prefersHeaders = [`return=${returning}`]\n    if (upsert) prefersHeaders.push('resolution=merge-duplicates')\n\n    if (upsert && onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict)\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n\n    if (Array.isArray(values)) {\n      const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), [] as string[])\n      if (columns.length > 0) {\n        const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`)\n        this.url.searchParams.set('columns', uniqueColumns.join(','))\n      }\n    }\n\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an UPSERT into the table.\n   *\n   * @param values  The values to insert.\n   * @param onConflict  By specifying the `on_conflict` query parameter, you can make UPSERT work on a column(s) that has a UNIQUE constraint.\n   * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   * @param ignoreDuplicates  Specifies if duplicate rows should be ignored and not inserted.\n   */\n  upsert(\n    values: Partial<T> | Partial<T>[],\n    {\n      onConflict,\n      returning = 'representation',\n      count = null,\n      ignoreDuplicates = false,\n    }: {\n      onConflict?: string\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n      ignoreDuplicates?: boolean\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'POST'\n\n    const prefersHeaders = [\n      `resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`,\n      `return=${returning}`,\n    ]\n\n    if (onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict)\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs an UPDATE on the table.\n   *\n   * @param values  The values to update.\n   * @param returning  By default the updated record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  update(\n    values: Partial<T>,\n    {\n      returning = 'representation',\n      count = null,\n    }: {\n      returning?: 'minimal' | 'representation'\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    this.method = 'PATCH'\n    const prefersHeaders = [`return=${returning}`]\n    this.body = values\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n    return new PostgrestFilterBuilder(this)\n  }\n\n  /**\n   * Performs a DELETE on the table.\n   *\n   * @param returning  If `true`, return the deleted row(s) in the response.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  delete({\n    returning = 'representation',\n    count = null,\n  }: {\n    returning?: 'minimal' | 'representation'\n    count?: null | 'exact' | 'planned' | 'estimated'\n  } = {}): PostgrestFilterBuilder<T> {\n    this.method = 'DELETE'\n    const prefersHeaders = [`return=${returning}`]\n    if (count) {\n      prefersHeaders.push(`count=${count}`)\n    }\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer'])\n    }\n    this.headers['Prefer'] = prefersHeaders.join(',')\n    return new PostgrestFilterBuilder(this)\n  }\n}\n","import { Fetch, PostgrestBuilder } from './types'\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder'\n\nexport default class PostgrestRpcBuilder<T> extends PostgrestBuilder<T> {\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    } = {}\n  ) {\n    super(({ fetch, shouldThrowOnError } as unknown) as PostgrestBuilder<T>)\n    this.url = new URL(url)\n    this.headers = { ...headers }\n    this.schema = schema\n  }\n\n  /**\n   * Perform a function call.\n   */\n  rpc(\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    if (head) {\n      this.method = 'HEAD'\n\n      if (params) {\n        Object.entries(params).forEach(([name, value]) => {\n          this.url.searchParams.append(name, value)\n        })\n      }\n    } else {\n      this.method = 'POST'\n      this.body = params\n    }\n\n    if (count) {\n      if (this.headers['Prefer'] !== undefined) this.headers['Prefer'] += `,count=${count}`\n      else this.headers['Prefer'] = `count=${count}`\n    }\n\n    return new PostgrestFilterBuilder(this)\n  }\n}\n","import { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version}` }\n","// generated by genversion\nexport const version = '0.37.2'\n","import PostgrestQueryBuilder from './lib/PostgrestQueryBuilder'\nimport PostgrestRpcBuilder from './lib/PostgrestRpcBuilder'\nimport PostgrestFilterBuilder from './lib/PostgrestFilterBuilder'\nimport { DEFAULT_HEADERS } from './lib/constants'\nimport { Fetch } from './lib/types'\n\nexport default class PostgrestClient {\n  url: string\n  headers: { [key: string]: string }\n  schema?: string\n  fetch?: Fetch\n  shouldThrowOnError?: boolean\n\n  /**\n   * Creates a PostgREST client.\n   *\n   * @param url  URL of the PostgREST endpoint.\n   * @param headers  Custom headers.\n   * @param schema  Postgres schema to switch to.\n   */\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      fetch,\n      throwOnError,\n    }: {\n      headers?: { [key: string]: string }\n      schema?: string\n      fetch?: Fetch\n      throwOnError?: boolean\n    } = {}\n  ) {\n    this.url = url\n    this.headers = { ...DEFAULT_HEADERS, ...headers }\n    this.schema = schema\n    this.fetch = fetch\n    this.shouldThrowOnError = throwOnError\n  }\n\n  /**\n   * Authenticates the request with JWT.\n   *\n   * @param token  The JWT token to use.\n   */\n  auth(token: string): this {\n    this.headers['Authorization'] = `Bearer ${token}`\n    return this\n  }\n\n  /**\n   * Perform a table operation.\n   *\n   * @param table  The table name to operate on.\n   */\n  from<T = any>(table: string): PostgrestQueryBuilder<T> {\n    const url = `${this.url}/${table}`\n    return new PostgrestQueryBuilder<T>(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    })\n  }\n\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head  When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n  rpc<T = any>(\n    fn: string,\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: {\n      head?: boolean\n      count?: null | 'exact' | 'planned' | 'estimated'\n    } = {}\n  ): PostgrestFilterBuilder<T> {\n    const url = `${this.url}/rpc/${fn}`\n    return new PostgrestRpcBuilder<T>(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    }).rpc(params, { head, count })\n  }\n}\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","module.exports = require('../package.json').version;\n","export const version = '1.6.2'\n","import { version } from './version'\n\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` }\n\nexport const VSN: string = '1.0.0'\n\nexport const DEFAULT_TIMEOUT = 10000\n\nexport const WS_CLOSE_NORMAL = 1000\n\nexport enum SOCKET_STATES {\n  connecting = 0,\n  open = 1,\n  closing = 2,\n  closed = 3,\n}\n\nexport enum CHANNEL_STATES {\n  closed = 'closed',\n  errored = 'errored',\n  joined = 'joined',\n  joining = 'joining',\n  leaving = 'leaving',\n}\n\nexport enum CHANNEL_EVENTS {\n  close = 'phx_close',\n  error = 'phx_error',\n  join = 'phx_join',\n  reply = 'phx_reply',\n  leave = 'phx_leave',\n  access_token = 'access_token',\n}\n\nexport enum TRANSPORTS {\n  websocket = 'websocket',\n}\n","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n  timer: number | undefined = undefined\n  tries: number = 0\n\n  constructor(public callback: Function, public timerCalc: Function) {\n    this.callback = callback\n    this.timerCalc = timerCalc\n  }\n\n  reset() {\n    this.tries = 0\n    clearTimeout(this.timer)\n  }\n\n  // Cancels any previous scheduleTimeout and schedules callback\n  scheduleTimeout() {\n    clearTimeout(this.timer)\n\n    this.timer = <any>setTimeout(() => {\n      this.tries = this.tries + 1\n      this.callback()\n    }, this.timerCalc(this.tries + 1))\n  }\n}\n","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\n\nexport default class Serializer {\n  HEADER_LENGTH = 1\n\n  decode(rawPayload: ArrayBuffer | string, callback: Function) {\n    if (rawPayload.constructor === ArrayBuffer) {\n      return callback(this._binaryDecode(rawPayload))\n    }\n\n    if (typeof rawPayload === 'string') {\n      return callback(JSON.parse(rawPayload))\n    }\n\n    return callback({})\n  }\n\n  private _binaryDecode(buffer: ArrayBuffer) {\n    const view = new DataView(buffer)\n    const decoder = new TextDecoder()\n\n    return this._decodeBroadcast(buffer, view, decoder)\n  }\n\n  private _decodeBroadcast(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    ref: null\n    topic: string\n    event: string\n    payload: object\n  } {\n    const topicSize = view.getUint8(1)\n    const eventSize = view.getUint8(2)\n    let offset = this.HEADER_LENGTH + 2\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    const data = JSON.parse(\n      decoder.decode(buffer.slice(offset, buffer.byteLength))\n    )\n\n    return { ref: null, topic: topic, event: event, payload: data }\n  }\n}\n","import { DEFAULT_TIMEOUT } from '../lib/constants'\nimport RealtimeChannel from '../RealtimeChannel'\nimport RealtimeSubscription from '../RealtimeSubscription'\n\nexport default class Push {\n  sent: boolean = false\n  timeoutTimer: number | undefined = undefined\n  ref: string = ''\n  receivedResp: {\n    status: string\n    response: Function\n  } | null = null\n  recHooks: {\n    status: string\n    callback: Function\n  }[] = []\n  refEvent: string | null = null\n\n  /**\n   * Initializes the Push\n   *\n   * @param channel The Channel\n   * @param event The event, for example `\"phx_join\"`\n   * @param payload The payload, for example `{user_id: 123}`\n   * @param timeout The push timeout in milliseconds\n   */\n  constructor(\n    public channel: RealtimeSubscription | RealtimeChannel,\n    public event: string,\n    public payload: { [key: string]: unknown } = {},\n    public timeout: number = DEFAULT_TIMEOUT\n  ) {}\n\n  resend(timeout: number) {\n    this.timeout = timeout\n    this._cancelRefEvent()\n    this.ref = ''\n    this.refEvent = null\n    this.receivedResp = null\n    this.sent = false\n    this.send()\n  }\n\n  send() {\n    if (this._hasReceived('timeout')) {\n      return\n    }\n    this.startTimeout()\n    this.sent = true\n    this.channel.socket.push({\n      topic: this.channel.topic,\n      event: this.event,\n      payload: this.payload,\n      ref: this.ref,\n    })\n  }\n\n  updatePayload(payload: { [key: string]: unknown }): void {\n    this.payload = { ...this.payload, ...payload }\n  }\n\n  receive(status: string, callback: Function) {\n    if (this._hasReceived(status)) {\n      callback(this.receivedResp?.response)\n    }\n\n    this.recHooks.push({ status, callback })\n    return this\n  }\n\n  startTimeout() {\n    if (this.timeoutTimer) {\n      return\n    }\n    this.ref = this.channel.socket.makeRef()\n    this.refEvent = this.channel.replyEventName(this.ref)\n\n    const callback = (payload: any) => {\n      this._cancelRefEvent()\n      this._cancelTimeout()\n      this.receivedResp = payload\n      this._matchReceive(payload)\n    }\n\n    if (this.channel instanceof RealtimeSubscription) {\n      this.channel.on(this.refEvent, callback)\n    } else {\n      this.channel.on(this.refEvent, {}, callback)\n    }\n\n    this.timeoutTimer = <any>setTimeout(() => {\n      this.trigger('timeout', {})\n    }, this.timeout)\n  }\n\n  trigger(status: string, response: any) {\n    if (this.refEvent) this.channel.trigger(this.refEvent, { status, response })\n  }\n\n  destroy() {\n    this._cancelRefEvent()\n    this._cancelTimeout()\n  }\n\n  private _cancelRefEvent() {\n    if (!this.refEvent) {\n      return\n    }\n\n    if (this.channel instanceof RealtimeSubscription) {\n      this.channel.off(this.refEvent)\n    } else {\n      this.channel.off(this.refEvent, {})\n    }\n  }\n\n  private _cancelTimeout() {\n    clearTimeout(this.timeoutTimer)\n    this.timeoutTimer = undefined\n  }\n\n  private _matchReceive({\n    status,\n    response,\n  }: {\n    status: string\n    response: Function\n  }) {\n    this.recHooks\n      .filter((h) => h.status === status)\n      .forEach((h) => h.callback(response))\n  }\n\n  private _hasReceived(status: string) {\n    return this.receivedResp && this.receivedResp.status === status\n  }\n}\n","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants'\nimport Push from './lib/push'\nimport RealtimeClient from './RealtimeClient'\nimport Timer from './lib/timer'\n\nexport default class RealtimeSubscription {\n  bindings: any[] = []\n  timeout: number\n  state = CHANNEL_STATES.closed\n  joinedOnce = false\n  joinPush: Push\n  rejoinTimer: Timer\n  pushBuffer: Push[] = []\n\n  constructor(\n    public topic: string,\n    public params: { [key: string]: unknown } = {},\n    public socket: RealtimeClient\n  ) {\n    this.timeout = this.socket.timeout\n    this.joinPush = new Push(\n      this,\n      CHANNEL_EVENTS.join,\n      this.params,\n      this.timeout\n    )\n    this.rejoinTimer = new Timer(\n      () => this.rejoinUntilConnected(),\n      this.socket.reconnectAfterMs\n    )\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach((pushEvent: Push) => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this.onClose(() => {\n      this.rejoinTimer.reset()\n      this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket.remove(this)\n    })\n    this.onError((reason: string) => {\n      if (this.isLeaving() || this.isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.joinPush.receive('timeout', () => {\n      if (!this.isJoining()) {\n        return\n      }\n      this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.on(CHANNEL_EVENTS.reply, (payload: any, ref: string) => {\n      this.trigger(this.replyEventName(ref), payload)\n    })\n  }\n\n  rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout()\n    if (this.socket.isConnected()) {\n      this.rejoin()\n    }\n  }\n\n  subscribe(timeout = this.timeout) {\n    if (this.joinedOnce) {\n      throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`\n    } else {\n      this.joinedOnce = true\n      this.rejoin(timeout)\n      return this.joinPush\n    }\n  }\n\n  onClose(callback: Function) {\n    this.on(CHANNEL_EVENTS.close, callback)\n  }\n\n  onError(callback: Function) {\n    this.on(CHANNEL_EVENTS.error, (reason: string) => callback(reason))\n  }\n\n  on(event: string, callback: Function) {\n    this.bindings.push({ event, callback })\n  }\n\n  off(event: string) {\n    this.bindings = this.bindings.filter((bind) => bind.event !== event)\n  }\n\n  canPush() {\n    return this.socket.isConnected() && this.isJoined()\n  }\n\n  push(event: CHANNEL_EVENTS, payload: any, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`\n    }\n    let pushEvent = new Push(this, event, payload, timeout)\n    if (this.canPush()) {\n      pushEvent.send()\n    } else {\n      pushEvent.startTimeout()\n      this.pushBuffer.push(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  updateJoinPayload(payload: { [key: string]: unknown }): void {\n    this.joinPush.updatePayload(payload)\n  }\n\n  /**\n   * Leaves the channel\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n  unsubscribe(timeout = this.timeout) {\n    this.state = CHANNEL_STATES.leaving\n    let onClose = () => {\n      this.socket.log('channel', `leave ${this.topic}`)\n      this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef())\n    }\n    // Destroy joinPush to avoid connection timeouts during unscription phase\n    this.joinPush.destroy()\n\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout)\n    leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose())\n    leavePush.send()\n    if (!this.canPush()) {\n      leavePush.trigger('ok', {})\n    }\n\n    return leavePush\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   */\n  onMessage(event: string, payload: any, ref?: string) {\n    return payload\n  }\n\n  isMember(topic: string) {\n    return this.topic === topic\n  }\n\n  joinRef() {\n    return this.joinPush.ref\n  }\n\n  rejoin(timeout = this.timeout) {\n    if (this.isLeaving()) {\n      return\n    }\n    this.socket.leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  trigger(event: string, payload?: any, ref?: string) {\n    let { close, error, leave, join } = CHANNEL_EVENTS\n    let events: string[] = [close, error, leave, join]\n    if (ref && events.indexOf(event) >= 0 && ref !== this.joinRef()) {\n      return\n    }\n    let handledPayload = this.onMessage(event, payload, ref)\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified'\n    }\n\n    this.bindings\n      .filter((bind) => {\n        // Bind all events if the user specifies a wildcard.\n        if (bind.event === '*') {\n          return event === payload?.type\n        } else {\n          return bind.event === event\n        }\n      })\n      .map((bind) => bind.callback(handledPayload, ref))\n  }\n\n  replyEventName(ref: string) {\n    return `chan_reply_${ref}`\n  }\n\n  isClosed() {\n    return this.state === CHANNEL_STATES.closed\n  }\n  isErrored() {\n    return this.state === CHANNEL_STATES.errored\n  }\n  isJoined() {\n    return this.state === CHANNEL_STATES.joined\n  }\n  isJoining() {\n    return this.state === CHANNEL_STATES.joining\n  }\n  isLeaving() {\n    return this.state === CHANNEL_STATES.leaving\n  }\n}\n","/*\n  This file draws heavily from https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/assets/js/phoenix/presence.js\n  License: https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/LICENSE.md\n*/\n\nimport {\n  PresenceOpts,\n  PresenceOnJoinCallback,\n  PresenceOnLeaveCallback,\n} from 'phoenix'\nimport RealtimeChannel from './RealtimeChannel'\n\ntype Presence = {\n  presence_id: string\n  [key: string]: any\n}\n\ntype PresenceState = { [key: string]: Presence[] }\n\ntype PresenceDiff = {\n  joins: PresenceState\n  leaves: PresenceState\n}\n\ntype RawPresenceState = {\n  [key: string]: Record<\n    'metas',\n    {\n      phx_ref?: string\n      phx_ref_prev?: string\n      [key: string]: any\n    }[]\n  >\n}\n\ntype RawPresenceDiff = {\n  joins: RawPresenceState\n  leaves: RawPresenceState\n}\n\ntype PresenceChooser<T> = (key: string, presences: any) => T\n\nexport default class RealtimePresence {\n  state: PresenceState = {}\n  pendingDiffs: RawPresenceDiff[] = []\n  joinRef: string | null = null\n  caller: {\n    onJoin: PresenceOnJoinCallback\n    onLeave: PresenceOnLeaveCallback\n    onSync: () => void\n  } = {\n    onJoin: () => {},\n    onLeave: () => {},\n    onSync: () => {},\n  }\n\n  /**\n   * Initializes the Presence\n   * @param channel - The RealtimeSubscription\n   * @param opts - The options,\n   *        for example `{events: {state: 'state', diff: 'diff'}}`\n   */\n  constructor(public channel: RealtimeChannel, opts?: PresenceOpts) {\n    const events = opts?.events || {\n      state: 'presence_state',\n      diff: 'presence_diff',\n    }\n\n    this.channel.on(events.state, {}, (newState: RawPresenceState) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      this.joinRef = this.channel.joinRef()\n\n      this.state = RealtimePresence.syncState(\n        this.state,\n        newState,\n        onJoin,\n        onLeave\n      )\n\n      this.pendingDiffs.forEach((diff) => {\n        this.state = RealtimePresence.syncDiff(\n          this.state,\n          diff,\n          onJoin,\n          onLeave\n        )\n      })\n\n      this.pendingDiffs = []\n\n      onSync()\n    })\n\n    this.channel.on(events.diff, {}, (diff: RawPresenceDiff) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      if (this.inPendingSyncState()) {\n        this.pendingDiffs.push(diff)\n      } else {\n        this.state = RealtimePresence.syncDiff(\n          this.state,\n          diff,\n          onJoin,\n          onLeave\n        )\n\n        onSync()\n      }\n    })\n  }\n\n  /**\n   * Used to sync the list of presences on the server\n   * with the client's state. An optional `onJoin` and `onLeave` callback can\n   * be provided to react to changes in the client's local presences across\n   * disconnects and reconnects with the server.\n   */\n  static syncState(\n    currentState: PresenceState,\n    newState: RawPresenceState | PresenceState,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): PresenceState {\n    const state = this.cloneDeep(currentState)\n    const transformedState = this.transformState(newState)\n    const joins: PresenceState = {}\n    const leaves: PresenceState = {}\n\n    this.map(state, (key: string, presences: Presence[]) => {\n      if (!transformedState[key]) {\n        leaves[key] = presences\n      }\n    })\n\n    this.map(transformedState, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key]\n\n      if (currentPresences) {\n        const newPresenceIds = newPresences.map((m: Presence) => m.presence_id)\n        const curPresenceIds = currentPresences.map(\n          (m: Presence) => m.presence_id\n        )\n        const joinedPresences: Presence[] = newPresences.filter(\n          (m: Presence) => curPresenceIds.indexOf(m.presence_id) < 0\n        )\n        const leftPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => newPresenceIds.indexOf(m.presence_id) < 0\n        )\n\n        if (joinedPresences.length > 0) {\n          joins[key] = joinedPresences\n        }\n\n        if (leftPresences.length > 0) {\n          leaves[key] = leftPresences\n        }\n      } else {\n        joins[key] = newPresences\n      }\n    })\n\n    return this.syncDiff(state, { joins, leaves }, onJoin, onLeave)\n  }\n\n  /**\n   *\n   * Used to sync a diff of presence join and leave\n   * events from the server, as they happen. Like `syncState`, `syncDiff`\n   * accepts optional `onJoin` and `onLeave` callbacks to react to a user\n   * joining or leaving from a device.\n   */\n  static syncDiff(\n    state: PresenceState,\n    diff: RawPresenceDiff | PresenceDiff,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): PresenceState {\n    const { joins, leaves } = {\n      joins: this.transformState(diff.joins),\n      leaves: this.transformState(diff.leaves),\n    }\n\n    if (!onJoin) {\n      onJoin = () => {}\n    }\n\n    if (!onLeave) {\n      onLeave = () => {}\n    }\n\n    this.map(joins, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key]\n      state[key] = this.cloneDeep(newPresences)\n\n      if (currentPresences) {\n        const joinedPresenceIds = state[key].map((m: Presence) => m.presence_id)\n        const curPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => joinedPresenceIds.indexOf(m.presence_id) < 0\n        )\n\n        state[key].unshift(...curPresences)\n      }\n\n      onJoin(key, currentPresences, newPresences)\n    })\n\n    this.map(leaves, (key, leftPresences: Presence[]) => {\n      let currentPresences: Presence[] = state[key]\n\n      if (!currentPresences) return\n\n      const presenceIdsToRemove = leftPresences.map(\n        (m: Presence) => m.presence_id\n      )\n      currentPresences = currentPresences.filter(\n        (m: Presence) => presenceIdsToRemove.indexOf(m.presence_id) < 0\n      )\n\n      state[key] = currentPresences\n\n      onLeave(key, currentPresences, leftPresences)\n\n      if (currentPresences.length === 0) delete state[key]\n    })\n\n    return state\n  }\n\n  /**\n   * Returns the array of presences, with selected metadata.\n   */\n  static list<T = any>(\n    presences: PresenceState,\n    chooser: PresenceChooser<T> | undefined\n  ): T[] {\n    if (!chooser) {\n      chooser = (_key, pres) => pres\n    }\n\n    return this.map(presences, (key, presences: Presence[]) =>\n      chooser!(key, presences)\n    )\n  }\n\n  private static map<T = any>(\n    obj: PresenceState,\n    func: PresenceChooser<T>\n  ): T[] {\n    return Object.getOwnPropertyNames(obj).map((key) => func(key, obj[key]))\n  }\n\n  /**\n   * Remove 'metas' key\n   * Change 'phx_ref' to 'presence_id'\n   * Remove 'phx_ref' and 'phx_ref_prev'\n   *\n   * @example\n   * // returns {\n   *  abc123: [\n   *    { presence_id: '2', user_id: 1 },\n   *    { presence_id: '3', user_id: 2 }\n   *  ]\n   * }\n   * RealtimePresence.transformState({\n   *  abc123: {\n   *    metas: [\n   *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },\n   *      { phx_ref: '3', user_id: 2 }\n   *    ]\n   *  }\n   * })\n   */\n  private static transformState(\n    state: RawPresenceState | PresenceState\n  ): PresenceState {\n    state = this.cloneDeep(state)\n\n    return Object.getOwnPropertyNames(state).reduce((newState, key) => {\n      const presences = state[key]\n\n      if ('metas' in presences) {\n        newState[key] = presences.metas.map((presence) => {\n          presence['presence_id'] = presence['phx_ref']\n\n          delete presence['phx_ref']\n          delete presence['phx_ref_prev']\n\n          return presence\n        }) as Presence[]\n      } else {\n        newState[key] = presences\n      }\n\n      return newState\n    }, {} as PresenceState)\n  }\n\n  private static cloneDeep(obj: object) {\n    return JSON.parse(JSON.stringify(obj))\n  }\n\n  onJoin(callback: PresenceOnJoinCallback): void {\n    this.caller.onJoin = callback\n  }\n\n  onLeave(callback: PresenceOnLeaveCallback): void {\n    this.caller.onLeave = callback\n  }\n\n  onSync(callback: () => void): void {\n    this.caller.onSync = callback\n  }\n\n  list<T = any>(by?: PresenceChooser<T>): T[] {\n    return RealtimePresence.list<T>(this.state, by)\n  }\n\n  private inPendingSyncState(): boolean {\n    return !this.joinRef || this.joinRef !== this.channel.joinRef()\n  }\n}\n","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants'\nimport Push from './lib/push'\nimport RealtimeClient from './RealtimeClient'\nimport Timer from './lib/timer'\nimport RealtimePresence from './RealtimePresence'\n\nexport default class RealtimeChannel {\n  bindings: any[] = []\n  timeout: number\n  state = CHANNEL_STATES.closed\n  joinedOnce = false\n  joinPush: Push\n  rejoinTimer: Timer\n  pushBuffer: Push[] = []\n  presence: RealtimePresence\n\n  constructor(\n    public topic: string,\n    public params: { [key: string]: unknown } = {},\n    public socket: RealtimeClient\n  ) {\n    this.timeout = this.socket.timeout\n    this.joinPush = new Push(\n      this,\n      CHANNEL_EVENTS.join,\n      this.params,\n      this.timeout\n    )\n    this.rejoinTimer = new Timer(\n      () => this.rejoinUntilConnected(),\n      this.socket.reconnectAfterMs\n    )\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach((pushEvent: Push) => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this.onClose(() => {\n      this.rejoinTimer.reset()\n      this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket.remove(this)\n    })\n    this.onError((reason: string) => {\n      if (this.isLeaving() || this.isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.joinPush.receive('timeout', () => {\n      if (!this.isJoining()) {\n        return\n      }\n      this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.on(CHANNEL_EVENTS.reply, {}, (payload: any, ref: string) => {\n      this.trigger(this.replyEventName(ref), payload)\n    })\n    this.presence = new RealtimePresence(this)\n  }\n\n  list() {\n    return this.presence.list()\n  }\n\n  rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout()\n    if (this.socket.isConnected()) {\n      this.rejoin()\n    }\n  }\n\n  subscribe(timeout = this.timeout) {\n    if (this.joinedOnce) {\n      throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`\n    } else {\n      const configs = this.bindings.reduce(\n        (acc, binding: { [key: string]: any }) => {\n          const { type } = binding\n          if (\n            ![\n              'phx_close',\n              'phx_error',\n              'phx_reply',\n              'presence_diff',\n              'presence_state',\n            ].includes(type)\n          ) {\n            acc[type] = binding\n          }\n          return acc\n        },\n        {}\n      )\n\n      if (Object.keys(configs).length) {\n        this.updateJoinPayload({ configs })\n      }\n\n      this.joinedOnce = true\n      this.rejoin(timeout)\n      return this.joinPush\n    }\n  }\n\n  onClose(callback: Function) {\n    this.on(CHANNEL_EVENTS.close, {}, callback)\n  }\n\n  onError(callback: Function) {\n    this.on(CHANNEL_EVENTS.error, {}, (reason: string) => callback(reason))\n  }\n\n  on(\n    type: string,\n    eventFilter?: { [key: string]: string },\n    callback?: Function\n  ) {\n    this.bindings.push({\n      type,\n      eventFilter: eventFilter ?? {},\n      callback: callback ?? (() => {}),\n    })\n  }\n\n  off(type: string, eventFilter: { [key: string]: any }) {\n    this.bindings = this.bindings.filter((bind) => {\n      return !(\n        bind.type === type &&\n        RealtimeChannel.isEqual(bind.eventFilter, eventFilter)\n      )\n    })\n  }\n\n  canPush() {\n    return this.socket.isConnected() && this.isJoined()\n  }\n\n  push(event: CHANNEL_EVENTS, payload: any, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`\n    }\n    let pushEvent = new Push(this, event, payload, timeout)\n    if (this.canPush()) {\n      pushEvent.send()\n    } else {\n      pushEvent.startTimeout()\n      this.pushBuffer.push(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  updateJoinPayload(payload: { [key: string]: unknown }): void {\n    this.joinPush.updatePayload(payload)\n  }\n\n  /**\n   * Leaves the channel\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n  unsubscribe(timeout = this.timeout) {\n    this.state = CHANNEL_STATES.leaving\n    let onClose = () => {\n      this.socket.log('channel', `leave ${this.topic}`)\n      this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef())\n    }\n    // Destroy joinPush to avoid connection timeouts during unscription phase\n    this.joinPush.destroy()\n\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout)\n    leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose())\n    leavePush.send()\n    if (!this.canPush()) {\n      leavePush.trigger('ok', {})\n    }\n\n    return leavePush\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   */\n  onMessage(event: string, payload: any, ref?: string) {\n    return payload\n  }\n\n  isMember(topic: string) {\n    return this.topic === topic\n  }\n\n  joinRef() {\n    return this.joinPush.ref\n  }\n\n  rejoin(timeout = this.timeout) {\n    if (this.isLeaving()) {\n      return\n    }\n    this.socket.leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  trigger(type: string, payload?: any, ref?: string) {\n    const { close, error, leave, join } = CHANNEL_EVENTS\n    const events: string[] = [close, error, leave, join]\n    if (ref && events.indexOf(type) >= 0 && ref !== this.joinRef()) {\n      return\n    }\n    const handledPayload = this.onMessage(type, payload, ref)\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified'\n    }\n\n    this.bindings\n      .filter((bind) => {\n        return (\n          bind?.type === type &&\n          (bind?.eventFilter?.event === '*' ||\n            bind?.eventFilter?.event === payload?.event)\n        )\n      })\n      .map((bind) => bind.callback(handledPayload, ref))\n  }\n\n  send(payload: { type: string; [key: string]: any }) {\n    const push = this.push(payload.type as any, payload)\n\n    return new Promise((resolve, reject) => {\n      push.receive('ok', () => resolve('ok'))\n      push.receive('timeout', () => reject('timeout'))\n    })\n  }\n\n  replyEventName(ref: string) {\n    return `chan_reply_${ref}`\n  }\n\n  isClosed() {\n    return this.state === CHANNEL_STATES.closed\n  }\n  isErrored() {\n    return this.state === CHANNEL_STATES.errored\n  }\n  isJoined() {\n    return this.state === CHANNEL_STATES.joined\n  }\n  isJoining() {\n    return this.state === CHANNEL_STATES.joining\n  }\n  isLeaving() {\n    return this.state === CHANNEL_STATES.leaving\n  }\n\n  private static isEqual(\n    obj1: { [key: string]: string },\n    obj2: { [key: string]: string }\n  ) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n      return false\n    }\n\n    for (const k in obj1) {\n      if (obj1[k] !== obj2[k]) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n","import { w3cwebsocket } from 'websocket'\nimport {\n  VSN,\n  CHANNEL_EVENTS,\n  TRANSPORTS,\n  SOCKET_STATES,\n  DEFAULT_TIMEOUT,\n  WS_CLOSE_NORMAL,\n  DEFAULT_HEADERS,\n} from './lib/constants'\nimport Timer from './lib/timer'\nimport Serializer from './lib/serializer'\nimport RealtimeSubscription from './RealtimeSubscription'\nimport RealtimeChannel from './RealtimeChannel'\n\nexport type Options = {\n  transport?: WebSocket\n  timeout?: number\n  heartbeatIntervalMs?: number\n  longpollerTimeout?: number\n  logger?: Function\n  encode?: Function\n  decode?: Function\n  reconnectAfterMs?: Function\n  headers?: { [key: string]: string }\n  params?: { [key: string]: string }\n}\ntype Message = {\n  topic: string\n  event: string\n  payload: any\n  ref: string\n}\n\nconst noop = () => {}\n\nexport default class RealtimeClient {\n  accessToken: string | null = null\n  channels: (RealtimeSubscription | RealtimeChannel)[] = []\n  endPoint: string = ''\n  headers?: { [key: string]: string } = DEFAULT_HEADERS\n  params?: { [key: string]: string } = {}\n  timeout: number = DEFAULT_TIMEOUT\n  transport: any = w3cwebsocket\n  heartbeatIntervalMs: number = 30000\n  longpollerTimeout: number = 20000\n  heartbeatTimer: ReturnType<typeof setInterval> | undefined = undefined\n  pendingHeartbeatRef: string | null = null\n  ref: number = 0\n  reconnectTimer: Timer\n  logger: Function = noop\n  encode: Function\n  decode: Function\n  reconnectAfterMs: Function\n  conn: WebSocket | null = null\n  sendBuffer: Function[] = []\n  serializer: Serializer = new Serializer()\n  stateChangeCallbacks: {\n    open: Function[]\n    close: Function[]\n    error: Function[]\n    message: Function[]\n  } = {\n    open: [],\n    close: [],\n    error: [],\n    message: [],\n  }\n\n  /**\n   * Initializes the Socket\n   *\n   * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n   * @param options.transport The Websocket Transport, for example WebSocket.\n   * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n   * @param options.params The optional params to pass when connecting.\n   * @param options.headers The optional headers to pass when connecting.\n   * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n   * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n   * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n   * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n   * @param options.longpollerTimeout The maximum timeout of a long poll AJAX request. Defaults to 20s (double the server long poll timer).\n   * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n   */\n  constructor(endPoint: string, options?: Options) {\n    this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`\n\n    if (options?.params) this.params = options.params\n    if (options?.headers) this.headers = { ...this.headers, ...options.headers }\n    if (options?.timeout) this.timeout = options.timeout\n    if (options?.logger) this.logger = options.logger\n    if (options?.transport) this.transport = options.transport\n    if (options?.heartbeatIntervalMs)\n      this.heartbeatIntervalMs = options.heartbeatIntervalMs\n    if (options?.longpollerTimeout)\n      this.longpollerTimeout = options.longpollerTimeout\n\n    this.reconnectAfterMs = options?.reconnectAfterMs\n      ? options.reconnectAfterMs\n      : (tries: number) => {\n          return [1000, 2000, 5000, 10000][tries - 1] || 10000\n        }\n    this.encode = options?.encode\n      ? options.encode\n      : (payload: JSON, callback: Function) => {\n          return callback(JSON.stringify(payload))\n        }\n    this.decode = options?.decode\n      ? options.decode\n      : this.serializer.decode.bind(this.serializer)\n    this.reconnectTimer = new Timer(async () => {\n      await this.disconnect()\n      this.connect()\n    }, this.reconnectAfterMs)\n  }\n\n  /**\n   * Connects the socket.\n   */\n  connect() {\n    if (this.conn) {\n      return\n    }\n\n    this.conn = new this.transport(this.endPointURL(), [], null, this.headers)\n    if (this.conn) {\n      // this.conn.timeout = this.longpollerTimeout // TYPE ERROR\n      this.conn.binaryType = 'arraybuffer'\n      this.conn.onopen = () => this._onConnOpen()\n      this.conn.onerror = (error) => this._onConnError(error as ErrorEvent)\n      this.conn.onmessage = (event) => this.onConnMessage(event)\n      this.conn.onclose = (event) => this._onConnClose(event)\n    }\n  }\n\n  /**\n   * Disconnects the socket.\n   *\n   * @param code A numeric status code to send on disconnect.\n   * @param reason A custom reason for the disconnect.\n   */\n  disconnect(\n    code?: number,\n    reason?: string\n  ): Promise<{ error: Error | null; data: boolean }> {\n    return new Promise((resolve, _reject) => {\n      try {\n        if (this.conn) {\n          this.conn.onclose = function () {} // noop\n          if (code) {\n            this.conn.close(code, reason || '')\n          } else {\n            this.conn.close()\n          }\n          this.conn = null\n          // remove open handles\n          this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n          this.reconnectTimer.reset()\n        }\n        resolve({ error: null, data: true })\n      } catch (error) {\n        resolve({ error: error as Error, data: false })\n      }\n    })\n  }\n\n  /**\n   * Logs the message. Override `this.logger` for specialized logging.\n   */\n  log(kind: string, msg: string, data?: any) {\n    this.logger(kind, msg, data)\n  }\n\n  /**\n   * Registers a callback for connection state change event.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket opened.\"))\n   */\n  onOpen(callback: Function) {\n    this.stateChangeCallbacks.open.push(callback)\n  }\n\n  /**\n   * Registers a callbacks for connection state change events.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket closed.\"))\n   */\n  onClose(callback: Function) {\n    this.stateChangeCallbacks.close.push(callback)\n  }\n\n  /**\n   * Registers a callback for connection state change events.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen((error) => console.log(\"An error occurred\"))\n   */\n  onError(callback: Function) {\n    this.stateChangeCallbacks.error.push(callback)\n  }\n\n  /**\n   * Calls a function any time a message is received.\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onMessage((message) => console.log(message))\n   */\n  onMessage(callback: Function) {\n    this.stateChangeCallbacks.message.push(callback)\n  }\n\n  /**\n   * Returns the current state of the socket.\n   */\n  connectionState() {\n    switch (this.conn && this.conn.readyState) {\n      case SOCKET_STATES.connecting:\n        return 'connecting'\n      case SOCKET_STATES.open:\n        return 'open'\n      case SOCKET_STATES.closing:\n        return 'closing'\n      default:\n        return 'closed'\n    }\n  }\n\n  /**\n   * Retuns `true` is the connection is open.\n   */\n  isConnected() {\n    return this.connectionState() === 'open'\n  }\n\n  /**\n   * Removes a subscription from the socket.\n   *\n   * @param channel An open subscription.\n   */\n  remove(channel: RealtimeSubscription | RealtimeChannel) {\n    this.channels = this.channels.filter(\n      (c: RealtimeSubscription | RealtimeChannel) =>\n        c.joinRef() !== channel.joinRef()\n    )\n  }\n\n  channel(\n    topic: string,\n    chanParams: { [key: string]: any } = { isNewVersion: false }\n  ) {\n    const { isNewVersion, ...params } = chanParams\n\n    const chan = isNewVersion\n      ? new RealtimeChannel(topic, { ...params }, this)\n      : new RealtimeSubscription(topic, { ...params }, this)\n\n    if (chan instanceof RealtimeChannel) {\n      chan.presence.onJoin((key, currentPresences, newPresences) => {\n        chan.trigger('presence', {\n          event: 'JOIN',\n          key,\n          currentPresences,\n          newPresences,\n        })\n      })\n\n      chan.presence.onLeave((key, currentPresences, leftPresences) => {\n        chan.trigger('presence', {\n          event: 'LEAVE',\n          key,\n          currentPresences,\n          leftPresences,\n        })\n      })\n\n      chan.presence.onSync(() => {\n        chan.trigger('presence', { event: 'SYNC' })\n      })\n    }\n\n    this.channels.push(chan)\n    return chan\n  }\n\n  push(data: Message) {\n    let { topic, event, payload, ref } = data\n    let callback = () => {\n      this.encode(data, (result: any) => {\n        this.conn?.send(result)\n      })\n    }\n    this.log('push', `${topic} ${event} (${ref})`, payload)\n    if (this.isConnected()) {\n      callback()\n    } else {\n      this.sendBuffer.push(callback)\n    }\n  }\n\n  onConnMessage(rawMessage: any) {\n    this.decode(rawMessage.data, (msg: Message) => {\n      let { topic, event, payload, ref } = msg\n\n      if (\n        (ref && ref === this.pendingHeartbeatRef) ||\n        event === payload?.type\n      ) {\n        this.pendingHeartbeatRef = null\n      }\n\n      this.log(\n        'receive',\n        `${payload.status || ''} ${topic} ${event} ${\n          (ref && '(' + ref + ')') || ''\n        }`,\n        payload\n      )\n      this.channels\n        .filter((channel: RealtimeSubscription | RealtimeChannel) =>\n          channel.isMember(topic)\n        )\n        .forEach((channel: RealtimeSubscription | RealtimeChannel) =>\n          channel.trigger(event, payload, ref)\n        )\n      this.stateChangeCallbacks.message.forEach((callback) => callback(msg))\n    })\n  }\n\n  /**\n   * Returns the URL of the websocket.\n   */\n  endPointURL() {\n    return this._appendParams(\n      this.endPoint,\n      Object.assign({}, this.params, { vsn: VSN })\n    )\n  }\n\n  /**\n   * Return the next message ref, accounting for overflows\n   */\n  makeRef() {\n    let newRef = this.ref + 1\n    if (newRef === this.ref) {\n      this.ref = 0\n    } else {\n      this.ref = newRef\n    }\n\n    return this.ref.toString()\n  }\n\n  /**\n   * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n   *\n   * @param token A JWT string.\n   */\n  setAuth(token: string | null) {\n    this.accessToken = token\n\n    try {\n      this.channels.forEach((channel) => {\n        token && channel.updateJoinPayload({ user_token: token })\n\n        if (channel.joinedOnce && channel.isJoined()) {\n          channel.push(CHANNEL_EVENTS.access_token, { access_token: token })\n        }\n      })\n    } catch (error) {\n      console.log('setAuth error', error)\n    }\n  }\n\n  leaveOpenTopic(topic: string): void {\n    let dupChannel = this.channels.find(\n      (c) => c.topic === topic && (c.isJoined() || c.isJoining())\n    )\n    if (dupChannel) {\n      this.log('transport', `leaving duplicate topic \"${topic}\"`)\n      dupChannel.unsubscribe()\n    }\n  }\n\n  private _onConnOpen() {\n    this.log('transport', `connected to ${this.endPointURL()}`)\n    this._flushSendBuffer()\n    this.reconnectTimer.reset()\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n    this.heartbeatTimer = setInterval(\n      () => this._sendHeartbeat(),\n      this.heartbeatIntervalMs\n    )\n    this.stateChangeCallbacks.open.forEach((callback) => callback())!\n  }\n\n  private _onConnClose(event: any) {\n    this.log('transport', 'close', event)\n    this._triggerChanError()\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n    this.reconnectTimer.scheduleTimeout()\n    this.stateChangeCallbacks.close.forEach((callback) => callback(event))\n  }\n\n  private _onConnError(error: ErrorEvent) {\n    this.log('transport', error.message)\n    this._triggerChanError()\n    this.stateChangeCallbacks.error.forEach((callback) => callback(error))\n  }\n\n  private _triggerChanError() {\n    this.channels.forEach((channel: RealtimeSubscription | RealtimeChannel) =>\n      channel.trigger(CHANNEL_EVENTS.error)\n    )\n  }\n\n  private _appendParams(url: string, params: { [key: string]: string }) {\n    if (Object.keys(params).length === 0) {\n      return url\n    }\n    const prefix = url.match(/\\?/) ? '&' : '?'\n    const query = new URLSearchParams(params)\n\n    return `${url}${prefix}${query}`\n  }\n\n  private _flushSendBuffer() {\n    if (this.isConnected() && this.sendBuffer.length > 0) {\n      this.sendBuffer.forEach((callback) => callback())\n      this.sendBuffer = []\n    }\n  }\n\n  private _sendHeartbeat() {\n    if (!this.isConnected()) {\n      return\n    }\n    if (this.pendingHeartbeatRef) {\n      this.pendingHeartbeatRef = null\n      this.log(\n        'transport',\n        'heartbeat timeout. Attempting to re-establish connection'\n      )\n      this.conn?.close(WS_CLOSE_NORMAL, 'hearbeat timeout')\n      return\n    }\n    this.pendingHeartbeatRef = this.makeRef()\n    this.push({\n      topic: 'phoenix',\n      event: 'heartbeat',\n      payload: {},\n      ref: this.pendingHeartbeatRef,\n    })\n    this.setAuth(this.accessToken)\n  }\n}\n","import { RealtimeSubscription, RealtimeClient, Transformers } from '@supabase/realtime-js'\nimport { GenericObject, SupabaseEventTypes, SupabaseRealtimePayload } from './types'\n\nexport class SupabaseRealtimeClient {\n  subscription: RealtimeSubscription\n\n  constructor(socket: RealtimeClient, headers: GenericObject, schema: string, tableName: string) {\n    const chanParams: GenericObject = {}\n    const topic = tableName === '*' ? `realtime:${schema}` : `realtime:${schema}:${tableName}`\n    const userToken = headers['Authorization'].split(' ')[1]\n\n    if (userToken) {\n      chanParams['user_token'] = userToken\n    }\n\n    this.subscription = socket.channel(topic, chanParams) as RealtimeSubscription\n  }\n\n  private getPayloadRecords(payload: any) {\n    const records = {\n      new: {},\n      old: {},\n    }\n\n    if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n      records.new = Transformers.convertChangeData(payload.columns, payload.record)\n    }\n\n    if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n      records.old = Transformers.convertChangeData(payload.columns, payload.old_record)\n    }\n\n    return records\n  }\n\n  /**\n   * The event you want to listen to.\n   *\n   * @param event The event\n   * @param callback A callback function that is called whenever the event occurs.\n   */\n  on(event: SupabaseEventTypes, callback: (payload: SupabaseRealtimePayload<any>) => void) {\n    this.subscription.on(event, (payload: any) => {\n      let enrichedPayload: SupabaseRealtimePayload<any> = {\n        schema: payload.schema,\n        table: payload.table,\n        commit_timestamp: payload.commit_timestamp,\n        eventType: payload.type,\n        new: {},\n        old: {},\n        errors: payload.errors,\n      }\n\n      enrichedPayload = { ...enrichedPayload, ...this.getPayloadRecords(payload) }\n\n      callback(enrichedPayload)\n    })\n    return this\n  }\n\n  /**\n   * Enables the subscription.\n   */\n  subscribe(callback: Function = () => {}) {\n    this.subscription.onError((e: Error) => callback('SUBSCRIPTION_ERROR', e))\n    this.subscription.onClose(() => callback('CLOSED'))\n    this.subscription\n      .subscribe()\n      .receive('ok', () => callback('SUBSCRIBED'))\n      .receive('error', (e: Error) => callback('SUBSCRIPTION_ERROR', e))\n      .receive('timeout', () => callback('RETRYING_AFTER_TIMEOUT'))\n    return this.subscription\n  }\n}\n","import { PostgrestQueryBuilder } from '@supabase/postgrest-js'\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient'\nimport { RealtimeClient } from '@supabase/realtime-js'\nimport { Fetch, GenericObject, SupabaseEventTypes, SupabaseRealtimePayload } from './types'\n\nexport class SupabaseQueryBuilder<T> extends PostgrestQueryBuilder<T> {\n  private _subscription: SupabaseRealtimeClient | null = null\n  private _realtime: RealtimeClient\n  private _headers: GenericObject\n  private _schema: string\n  private _table: string\n\n  constructor(\n    url: string,\n    {\n      headers = {},\n      schema,\n      realtime,\n      table,\n      fetch,\n      shouldThrowOnError,\n    }: {\n      headers?: GenericObject\n      schema: string\n      realtime: RealtimeClient\n      table: string\n      fetch?: Fetch\n      shouldThrowOnError?: boolean\n    }\n  ) {\n    super(url, { headers, schema, fetch, shouldThrowOnError })\n\n    this._realtime = realtime\n    this._headers = headers\n    this._schema = schema\n    this._table = table\n  }\n\n  /**\n   * Subscribe to realtime changes in your database.\n   * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n   * @param callback A callback that will handle the payload that is sent whenever your database changes.\n   */\n  on(\n    event: SupabaseEventTypes,\n    callback: (payload: SupabaseRealtimePayload<T>) => void\n  ): SupabaseRealtimeClient {\n    if (!this._realtime.isConnected()) {\n      this._realtime.connect()\n    }\n    if (!this._subscription) {\n      this._subscription = new SupabaseRealtimeClient(\n        this._realtime,\n        this._headers,\n        this._schema,\n        this._table\n      )\n    }\n    return this._subscription.on(event, callback)\n  }\n}\n","// generated by genversion\nexport const version = '0.0.0'\n","import { version } from './version'\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` }\n","export type Fetch = typeof fetch\n\nexport interface FetchOptions {\n  headers?: {\n    [key: string]: string\n  }\n  noResolveJson?: boolean\n}\n\nexport interface FetchParameters {\n  signal?: AbortSignal\n}\n\nexport type RequestMethodType = 'GET' | 'POST' | 'PUT' | 'DELETE'\n\nconst _getErrorMessage = (err: any): string =>\n  err.msg || err.message || err.error_description || err.error || JSON.stringify(err)\n\nconst handleError = (error: any, reject: any) => {\n  if (typeof error.json !== 'function') {\n    return reject(error)\n  }\n  error.json().then((err: any) => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: error?.status || 500,\n    })\n  })\n}\n\nconst _getRequestParams = (\n  method: RequestMethodType,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n) => {\n  const params: { [k: string]: any } = { method, headers: options?.headers || {} }\n\n  if (method === 'GET') {\n    return params\n  }\n\n  params.headers = { 'Content-Type': 'application/json', ...options?.headers }\n  params.body = JSON.stringify(body)\n  return { ...params, ...parameters }\n}\n\nasync function _handleRequest(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n): Promise<any> {\n  return new Promise((resolve, reject) => {\n    fetcher(url, _getRequestParams(method, options, parameters, body))\n      .then((result) => {\n        if (!result.ok) throw result\n        if (options?.noResolveJson) return resolve(result)\n        return result.json()\n      })\n      .then((data) => resolve(data))\n      .catch((error) => handleError(error, reject))\n  })\n}\n\nexport async function get(\n  fetcher: Fetch,\n  url: string,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'GET', url, options, parameters)\n}\n\nexport async function post(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'POST', url, options, parameters, body)\n}\n\nexport async function put(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'PUT', url, options, parameters, body)\n}\n\nexport async function remove(\n  fetcher: Fetch,\n  url: string,\n  body: object,\n  options?: FetchOptions,\n  parameters?: FetchParameters\n): Promise<any> {\n  return _handleRequest(fetcher, 'DELETE', url, options, parameters, body)\n}\n","import crossFetch from 'cross-fetch'\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = (crossFetch as unknown) as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","import { DEFAULT_HEADERS } from './constants'\nimport { Fetch, get, post, put, remove } from './fetch'\nimport { resolveFetch } from './helpers'\nimport { Bucket } from './types'\n\nexport class StorageBucketApi {\n  protected url: string\n  protected headers: { [key: string]: string }\n  protected fetch: Fetch\n\n  constructor(url: string, headers: { [key: string]: string } = {}, fetch?: Fetch) {\n    this.url = url\n    this.headers = { ...DEFAULT_HEADERS, ...headers }\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Retrieves the details of all Storage buckets within an existing product.\n   */\n  async listBuckets(): Promise<{ data: Bucket[] | null; error: Error | null }> {\n    try {\n      const data = await get(this.fetch, `${this.url}/bucket`, { headers: this.headers })\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Retrieves the details of an existing Storage bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to retrieve.\n   */\n  async getBucket(id: string): Promise<{ data: Bucket | null; error: Error | null }> {\n    try {\n      const data = await get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers })\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Creates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are creating.\n   * @returns newly created bucket id\n   */\n  async createBucket(\n    id: string,\n    options: { public: boolean } = { public: false }\n  ): Promise<{ data: string | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/bucket`,\n        { id, name: id, public: options.public },\n        { headers: this.headers }\n      )\n      return { data: data.name, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Updates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are creating.\n   */\n  async updateBucket(\n    id: string,\n    options: { public: boolean }\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await put(\n        this.fetch,\n        `${this.url}/bucket/${id}`,\n        { id, name: id, public: options.public },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Removes all objects inside a single bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to empty.\n   */\n  async emptyBucket(\n    id: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/bucket/${id}/empty`,\n        {},\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n   * You must first `empty()` the bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to delete.\n   */\n  async deleteBucket(\n    id: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await remove(\n        this.fetch,\n        `${this.url}/bucket/${id}`,\n        {},\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n}\n","import { Fetch, FetchParameters, get, post, remove } from './fetch'\nimport { resolveFetch } from './helpers'\nimport { FileObject, FileOptions, SearchOptions } from './types'\n\nconst DEFAULT_SEARCH_OPTIONS = {\n  limit: 100,\n  offset: 0,\n  sortBy: {\n    column: 'name',\n    order: 'asc',\n  },\n}\n\nconst DEFAULT_FILE_OPTIONS: FileOptions = {\n  cacheControl: '3600',\n  contentType: 'text/plain;charset=UTF-8',\n  upsert: false,\n}\n\nexport class StorageFileApi {\n  protected url: string\n  protected headers: { [key: string]: string }\n  protected bucketId?: string\n  protected fetch: Fetch\n\n  constructor(\n    url: string,\n    headers: { [key: string]: string } = {},\n    bucketId?: string,\n    fetch?: Fetch\n  ) {\n    this.url = url\n    this.headers = headers\n    this.bucketId = bucketId\n    this.fetch = resolveFetch(fetch)\n  }\n\n  /**\n   * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n   *\n   * @param method HTTP method.\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  private async uploadOrUpdate(\n    method: 'POST' | 'PUT',\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    try {\n      let body\n      const options = { ...DEFAULT_FILE_OPTIONS, ...fileOptions }\n      const headers: Record<string, string> = {\n        ...this.headers,\n        ...(method === 'POST' && { 'x-upsert': String(options.upsert as boolean) }),\n      }\n\n      if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n        body = new FormData()\n        body.append('cacheControl', options.cacheControl as string)\n        body.append('', fileBody)\n      } else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n        body = fileBody\n        body.append('cacheControl', options.cacheControl as string)\n      } else {\n        body = fileBody\n        headers['cache-control'] = `max-age=${options.cacheControl}`\n        headers['content-type'] = options.contentType as string\n      }\n\n      const cleanPath = this._removeEmptyFolders(path)\n      const _path = this._getFinalPath(cleanPath)\n      const res = await this.fetch(`${this.url}/object/${_path}`, {\n        method,\n        body: body as BodyInit,\n        headers,\n      })\n\n      if (res.ok) {\n        // const data = await res.json()\n        // temporary fix till backend is updated to the latest storage-api version\n        return { data: { Key: _path }, error: null }\n      } else {\n        const error = await res.json()\n        return { data: null, error }\n      }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Uploads a file to an existing bucket.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  async upload(\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    return this.uploadOrUpdate('POST', path, fileBody, fileOptions)\n  }\n\n  /**\n   * Replaces an existing file at the specified path with a new one.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n  async update(\n    path: string,\n    fileBody:\n      | ArrayBuffer\n      | ArrayBufferView\n      | Blob\n      | Buffer\n      | File\n      | FormData\n      | NodeJS.ReadableStream\n      | ReadableStream<Uint8Array>\n      | URLSearchParams\n      | string,\n    fileOptions?: FileOptions\n  ): Promise<{ data: { Key: string } | null; error: Error | null }> {\n    return this.uploadOrUpdate('PUT', path, fileBody, fileOptions)\n  }\n\n  /**\n   * Moves an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n   */\n  async move(\n    fromPath: string,\n    toPath: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/move`,\n        { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Copies an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n   */\n  async copy(\n    fromPath: string,\n    toPath: string\n  ): Promise<{ data: { message: string } | null; error: Error | null }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/copy`,\n        { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Create signed URL to download file without requiring permissions. This URL can be valid for a set number of seconds.\n   *\n   * @param path The file path to be downloaded, including the current file name. For example `folder/image.png`.\n   * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n   */\n  async createSignedUrl(\n    path: string,\n    expiresIn: number\n  ): Promise<{\n    data: { signedURL: string } | null\n    error: Error | null\n    signedURL: string | null\n  }> {\n    try {\n      const _path = this._getFinalPath(path)\n      let data = await post(\n        this.fetch,\n        `${this.url}/object/sign/${_path}`,\n        { expiresIn },\n        { headers: this.headers }\n      )\n      const signedURL = `${this.url}${data.signedURL}`\n      data = { signedURL }\n      return { data, error: null, signedURL }\n    } catch (error) {\n      return { data: null, error, signedURL: null }\n    }\n  }\n\n  /**\n   * Create signed URLs to download files without requiring permissions. These URLs can be valid for a set number of seconds.\n   *\n   * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n   * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n   */\n  async createSignedUrls(\n    paths: string[],\n    expiresIn: number\n  ): Promise<{\n    data: { error: string | null; path: string | null; signedURL: string }[] | null\n    error: Error | null\n  }> {\n    try {\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/sign/${this.bucketId}`,\n        { expiresIn, paths },\n        { headers: this.headers }\n      )\n      return {\n        data: data.map((datum: { signedURL: string }) => ({\n          ...datum,\n          signedURL: datum.signedURL ? `${this.url}${datum.signedURL}` : null,\n        })),\n        error: null,\n      }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Downloads a file.\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n  async download(path: string): Promise<{ data: Blob | null; error: Error | null }> {\n    try {\n      const _path = this._getFinalPath(path)\n      const res = await get(this.fetch, `${this.url}/object/${_path}`, {\n        headers: this.headers,\n        noResolveJson: true,\n      })\n      const data = await res.blob()\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Retrieve URLs for assets in public buckets\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n  getPublicUrl(\n    path: string\n  ): {\n    data: { publicURL: string } | null\n    error: Error | null\n    publicURL: string | null\n  } {\n    try {\n      const _path = this._getFinalPath(path)\n      const publicURL = `${this.url}/object/public/${_path}`\n      const data = { publicURL }\n      return { data, error: null, publicURL }\n    } catch (error) {\n      return { data: null, error, publicURL: null }\n    }\n  }\n\n  /**\n   * Deletes files within the same bucket\n   *\n   * @param paths An array of files to be deleted, including the path and file name. For example [`folder/image.png`].\n   */\n  async remove(paths: string[]): Promise<{ data: FileObject[] | null; error: Error | null }> {\n    try {\n      const data = await remove(\n        this.fetch,\n        `${this.url}/object/${this.bucketId}`,\n        { prefixes: paths },\n        { headers: this.headers }\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  /**\n   * Get file metadata\n   * @param id the file id to retrieve metadata\n   */\n  // async getMetadata(id: string): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await get(`${this.url}/metadata/${id}`, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Update file metadata\n   * @param id the file id to update metadata\n   * @param meta the new file metadata\n   */\n  // async updateMetadata(\n  //   id: string,\n  //   meta: Metadata\n  // ): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await post(`${this.url}/metadata/${id}`, { ...meta }, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Lists all the files within a bucket.\n   * @param path The folder path.\n   * @param options Search options, including `limit`, `offset`, and `sortBy`.\n   * @param parameters Fetch parameters, currently only supports `signal`, which is an AbortController's signal\n   */\n  async list(\n    path?: string,\n    options?: SearchOptions,\n    parameters?: FetchParameters\n  ): Promise<{ data: FileObject[] | null; error: Error | null }> {\n    try {\n      const body = { ...DEFAULT_SEARCH_OPTIONS, ...options, prefix: path || '' }\n      const data = await post(\n        this.fetch,\n        `${this.url}/object/list/${this.bucketId}`,\n        body,\n        { headers: this.headers },\n        parameters\n      )\n      return { data, error: null }\n    } catch (error) {\n      return { data: null, error }\n    }\n  }\n\n  _getFinalPath(path: string) {\n    return `${this.bucketId}/${path}`\n  }\n\n  _removeEmptyFolders(path: string) {\n    return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/')\n  }\n}\n","import { StorageBucketApi, StorageFileApi } from './lib'\nimport { Fetch } from './lib/fetch'\n\nexport class StorageClient extends StorageBucketApi {\n  constructor(url: string, headers: { [key: string]: string } = {}, fetch?: Fetch) {\n    super(url, headers, fetch)\n  }\n\n  /**\n   * Perform file operation in a bucket.\n   *\n   * @param id The bucket id to operate on.\n   */\n  from(id: string): StorageFileApi {\n    return new StorageFileApi(this.url, this.headers, id, this.fetch)\n  }\n}\n","import crossFetch from 'cross-fetch'\n\ntype Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  let _fetch: Fetch\n  if (customFetch) {\n    _fetch = customFetch\n  } else if (typeof fetch === 'undefined') {\n    _fetch = crossFetch as unknown as Fetch\n  } else {\n    _fetch = fetch\n  }\n  return (...args) => _fetch(...args)\n}\n","import { resolveFetch } from './helper'\nimport { Fetch, FunctionInvokeOptions } from './types'\n\nexport class FunctionsClient {\n  protected url: string\n  protected headers: Record<string, string>\n  protected fetch: Fetch\n\n  constructor(\n    url: string,\n    {\n      headers = {},\n      customFetch,\n    }: {\n      headers?: Record<string, string>\n      customFetch?: Fetch\n    } = {}\n  ) {\n    this.url = url\n    this.headers = headers\n    this.fetch = resolveFetch(customFetch)\n  }\n\n  /**\n   * Updates the authorization header\n   * @params token - the new jwt token sent in the authorisation header\n   */\n  setAuth(token: string) {\n    this.headers.Authorization = `Bearer ${token}`\n  }\n\n  /**\n   * Invokes a function\n   * @param functionName - the name of the function to invoke\n   * @param invokeOptions - object with the following properties\n   * `headers`: object representing the headers to send with the request\n   * `body`: the body of the request\n   * `responseType`: how the response should be parsed. The default is `json`\n   */\n  async invoke<T = any>(\n    functionName: string,\n    invokeOptions?: FunctionInvokeOptions\n  ): Promise<{ data: T; error: null } | { data: null; error: Error }> {\n    try {\n      const { headers, body } = invokeOptions ?? {}\n      const response = await this.fetch(`${this.url}/${functionName}`, {\n        method: 'POST',\n        headers: Object.assign({}, this.headers, headers),\n        body,\n      })\n\n      const isRelayError = response.headers.get('x-relay-error')\n      if (isRelayError && isRelayError === 'true') {\n        return { data: null, error: new Error(await response.text()) }\n      }\n\n      let data\n      const { responseType } = invokeOptions ?? {}\n      if (!responseType || responseType === 'json') {\n        data = await response.json()\n      } else if (responseType === 'arrayBuffer') {\n        data = await response.arrayBuffer()\n      } else if (responseType === 'blob') {\n        data = await response.blob()\n      } else {\n        data = await response.text()\n      }\n\n      return { data, error: null }\n    } catch (error: any) {\n      return { data: null, error }\n    }\n  }\n}\n","import { DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants'\nimport { stripTrailingSlash, isBrowser } from './lib/helpers'\nimport { Fetch, GenericObject, SupabaseClientOptions } from './lib/types'\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient'\nimport { SupabaseQueryBuilder } from './lib/SupabaseQueryBuilder'\nimport { SupabaseStorageClient } from '@supabase/storage-js'\nimport { FunctionsClient } from '@supabase/functions-js'\nimport { PostgrestClient } from '@supabase/postgrest-js'\nimport { AuthChangeEvent } from '@supabase/gotrue-js'\nimport { RealtimeClient, RealtimeSubscription, RealtimeClientOptions } from '@supabase/realtime-js'\n\nconst DEFAULT_OPTIONS = {\n  schema: 'public',\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS,\n}\n\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n  /**\n   * Supabase Auth allows you to create and manage user sessions for access to data that is secured by access policies.\n   */\n  auth: SupabaseAuthClient\n\n  protected schema: string\n  protected restUrl: string\n  protected realtimeUrl: string\n  protected authUrl: string\n  protected storageUrl: string\n  protected functionsUrl: string\n  protected realtime: RealtimeClient\n  protected multiTab: boolean\n  protected fetch?: Fetch\n  protected changedAccessToken: string | undefined\n  protected shouldThrowOnError: boolean\n\n  protected headers: {\n    [key: string]: string\n  }\n\n  /**\n   * Create a new client for use in the browser.\n   * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n   * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n   * @param options.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.headers Any additional headers to send with each network request.\n   * @param options.realtime Options passed along to realtime-js constructor.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(\n    protected supabaseUrl: string,\n    protected supabaseKey: string,\n    options?: SupabaseClientOptions\n  ) {\n    if (!supabaseUrl) throw new Error('supabaseUrl is required.')\n    if (!supabaseKey) throw new Error('supabaseKey is required.')\n\n    const _supabaseUrl = stripTrailingSlash(supabaseUrl)\n    const settings = { ...DEFAULT_OPTIONS, ...options }\n\n    this.restUrl = `${_supabaseUrl}/rest/v1`\n    this.realtimeUrl = `${_supabaseUrl}/realtime/v1`.replace('http', 'ws')\n    this.authUrl = `${_supabaseUrl}/auth/v1`\n    this.storageUrl = `${_supabaseUrl}/storage/v1`\n\n    const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/)\n    if (isPlatform) {\n      const urlParts = _supabaseUrl.split('.')\n      this.functionsUrl = `${urlParts[0]}.functions.${urlParts[1]}.${urlParts[2]}`\n    } else {\n      this.functionsUrl = `${_supabaseUrl}/functions/v1`\n    }\n\n    this.schema = settings.schema\n    this.multiTab = settings.multiTab\n    this.fetch = settings.fetch\n    this.headers = { ...DEFAULT_HEADERS, ...options?.headers }\n    this.shouldThrowOnError = settings.shouldThrowOnError || false\n\n    this.auth = this._initSupabaseAuthClient(settings)\n    this.realtime = this._initRealtimeClient({ headers: this.headers, ...settings.realtime })\n\n    this._listenForAuthEvents()\n    this._listenForMultiTabEvents()\n\n    // In the future we might allow the user to pass in a logger to receive these events.\n    // this.realtime.onOpen(() => console.log('OPEN'))\n    // this.realtime.onClose(() => console.log('CLOSED'))\n    // this.realtime.onError((e: Error) => console.log('Socket error', e))\n  }\n\n  /**\n   * Supabase Functions allows you to deploy and invoke edge functions.\n   */\n  get functions() {\n    return new FunctionsClient(this.functionsUrl, {\n      headers: this._getAuthHeaders(),\n      customFetch: this.fetch,\n    })\n  }\n\n  /**\n   * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n   */\n  get storage() {\n    return new SupabaseStorageClient(this.storageUrl, this._getAuthHeaders(), this.fetch)\n  }\n\n  /**\n   * Perform a table operation.\n   *\n   * @param table The table name to operate on.\n   */\n  from<T = any>(table: string): SupabaseQueryBuilder<T> {\n    const url = `${this.restUrl}/${table}`\n    return new SupabaseQueryBuilder<T>(url, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      realtime: this.realtime,\n      table,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError,\n    })\n  }\n\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head   When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   *\n   */\n  rpc<T = any>(\n    fn: string,\n    params?: object,\n    {\n      head = false,\n      count = null,\n    }: { head?: boolean; count?: null | 'exact' | 'planned' | 'estimated' } = {}\n  ) {\n    const rest = this._initPostgRESTClient()\n    return rest.rpc<T>(fn, params, { head, count })\n  }\n\n  /**\n   * Closes and removes all subscriptions and returns a list of removed\n   * subscriptions and their errors.\n   */\n  async removeAllSubscriptions(): Promise<\n    { data: { subscription: RealtimeSubscription }; error: Error | null }[]\n  > {\n    const allSubs: RealtimeSubscription[] = this.getSubscriptions().slice()\n    const allSubPromises = allSubs.map((sub) => this.removeSubscription(sub))\n    const allRemovedSubs = await Promise.all(allSubPromises)\n\n    return allRemovedSubs.map(({ error }, i) => {\n      return {\n        data: { subscription: allSubs[i] },\n        error,\n      }\n    })\n  }\n\n  /**\n   * Closes and removes a subscription and returns the number of open subscriptions.\n   *\n   * @param subscription The subscription you want to close and remove.\n   */\n  async removeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ data: { openSubscriptions: number }; error: Error | null }> {\n    const { error } = await this._closeSubscription(subscription)\n    const allSubs: RealtimeSubscription[] = this.getSubscriptions()\n    const openSubCount = allSubs.filter((chan) => chan.isJoined()).length\n\n    if (allSubs.length === 0) await this.realtime.disconnect()\n\n    return { data: { openSubscriptions: openSubCount }, error }\n  }\n\n  private async _closeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ error: Error | null }> {\n    let error = null\n\n    if (!subscription.isClosed()) {\n      const { error: unsubError } = await this._unsubscribeSubscription(subscription)\n      error = unsubError\n    }\n\n    this.realtime.remove(subscription)\n\n    return { error }\n  }\n\n  private _unsubscribeSubscription(\n    subscription: RealtimeSubscription\n  ): Promise<{ error: Error | null }> {\n    return new Promise((resolve) => {\n      subscription\n        .unsubscribe()\n        .receive('ok', () => resolve({ error: null }))\n        .receive('error', (error: Error) => resolve({ error }))\n        .receive('timeout', () => resolve({ error: new Error('timed out') }))\n    })\n  }\n\n  /**\n   * Returns an array of all your subscriptions.\n   */\n  getSubscriptions(): RealtimeSubscription[] {\n    return this.realtime.channels as RealtimeSubscription[]\n  }\n\n  private _initSupabaseAuthClient({\n    autoRefreshToken,\n    persistSession,\n    detectSessionInUrl,\n    localStorage,\n    headers,\n    fetch,\n  }: SupabaseClientOptions) {\n    const authHeaders = {\n      Authorization: `Bearer ${this.supabaseKey}`,\n      apikey: `${this.supabaseKey}`,\n    }\n    return new SupabaseAuthClient({\n      url: this.authUrl,\n      headers: { ...headers, ...authHeaders },\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      localStorage,\n      fetch,\n    })\n  }\n\n  private _initRealtimeClient(options?: RealtimeClientOptions) {\n    return new RealtimeClient(this.realtimeUrl, {\n      ...options,\n      params: { ...options?.params, apikey: this.supabaseKey },\n    })\n  }\n\n  private _initPostgRESTClient() {\n    return new PostgrestClient(this.restUrl, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      fetch: this.fetch,\n      throwOnError: this.shouldThrowOnError,\n    })\n  }\n\n  private _getAuthHeaders(): GenericObject {\n    const headers: GenericObject = { ...this.headers }\n    const authBearer = this.auth.session()?.access_token ?? this.supabaseKey\n    headers['apikey'] = this.supabaseKey\n    headers['Authorization'] = headers['Authorization'] || `Bearer ${authBearer}`\n    return headers\n  }\n\n  private _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !window?.addEventListener) {\n      return null\n    }\n\n    try {\n      return window?.addEventListener('storage', (e: StorageEvent) => {\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue))\n          const accessToken: string | undefined =\n            newSession?.currentSession?.access_token ?? undefined\n          const previousAccessToken = this.auth.session()?.access_token\n          if (!accessToken) {\n            this._handleTokenChanged('SIGNED_OUT', accessToken, 'STORAGE')\n          } else if (!previousAccessToken && accessToken) {\n            this._handleTokenChanged('SIGNED_IN', accessToken, 'STORAGE')\n          } else if (previousAccessToken !== accessToken) {\n            this._handleTokenChanged('TOKEN_REFRESHED', accessToken, 'STORAGE')\n          }\n        }\n      })\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error)\n      return null\n    }\n  }\n\n  private _listenForAuthEvents() {\n    let { data } = this.auth.onAuthStateChange((event, session) => {\n      this._handleTokenChanged(event, session?.access_token, 'CLIENT')\n    })\n    return data\n  }\n\n  private _handleTokenChanged(\n    event: AuthChangeEvent,\n    token: string | undefined,\n    source: 'CLIENT' | 'STORAGE'\n  ) {\n    if (\n      (event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n      this.changedAccessToken !== token\n    ) {\n      // Token has changed\n      this.realtime.setAuth(token!)\n      // Ideally we should call this.auth.recoverSession() - need to make public\n      // to trigger a \"SIGNED_IN\" event on this client.\n      if (source == 'STORAGE') this.auth.setAuth(token!)\n\n      this.changedAccessToken = token\n    } else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n      // Token is removed\n      this.realtime.setAuth(this.supabaseKey)\n      if (source == 'STORAGE') this.auth.signOut()\n    }\n  }\n}\n","/* MIT https://github.com/fabiospampinato/cash */\n(function(){\n\"use strict\";\n\nvar propMap = {\n  /* GENERAL */\n  \"class\": 'className',\n  contenteditable: 'contentEditable',\n\n  /* LABEL */\n  \"for\": 'htmlFor',\n\n  /* INPUT */\n  readonly: 'readOnly',\n  maxlength: 'maxLength',\n  tabindex: 'tabIndex',\n\n  /* TABLE */\n  colspan: 'colSpan',\n  rowspan: 'rowSpan',\n\n  /* IMAGE */\n  usemap: 'useMap'\n};\n\nfunction attempt(fn, arg) {\n  try {\n    return fn(arg);\n  } catch (_a) {\n    return arg;\n  }\n}\n\nvar doc = document,\n    win = window,\n    docEle = doc.documentElement,\n    createElement = doc.createElement.bind(doc),\n    div = createElement('div'),\n    table = createElement('table'),\n    tbody = createElement('tbody'),\n    tr = createElement('tr'),\n    isArray = Array.isArray,\n    ArrayPrototype = Array.prototype,\n    concat = ArrayPrototype.concat,\n    filter = ArrayPrototype.filter,\n    indexOf = ArrayPrototype.indexOf,\n    map = ArrayPrototype.map,\n    push = ArrayPrototype.push,\n    slice = ArrayPrototype.slice,\n    some = ArrayPrototype.some,\n    splice = ArrayPrototype.splice;\nvar idRe = /^#(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    classRe = /^\\.(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    htmlRe = /<.+>/,\n    tagRe = /^\\w+$/; // @require ./variables.ts\n\nfunction find(selector, context) {\n  var isFragment = isDocumentFragment(context);\n  return !selector || !isFragment && !isDocument(context) && !isElement(context) ? [] : !isFragment && classRe.test(selector) ? context.getElementsByClassName(selector.slice(1)) : !isFragment && tagRe.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector);\n} // @require ./find.ts\n// @require ./variables.ts\n\n\nvar Cash =\n/** @class */\nfunction () {\n  function Cash(selector, context) {\n    if (!selector) return;\n    if (isCash(selector)) return selector;\n    var eles = selector;\n\n    if (isString(selector)) {\n      var ctx = (isCash(context) ? context[0] : context) || doc;\n      eles = idRe.test(selector) && 'getElementById' in ctx ? ctx.getElementById(selector.slice(1)) : htmlRe.test(selector) ? parseHTML(selector) : find(selector, ctx);\n      if (!eles) return;\n    } else if (isFunction(selector)) {\n      return this.ready(selector); //FIXME: `fn.ready` is not included in `core`, but it's actually a core functionality\n    }\n\n    if (eles.nodeType || eles === win) eles = [eles];\n    this.length = eles.length;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      this[i] = eles[i];\n    }\n  }\n\n  Cash.prototype.init = function (selector, context) {\n    return new Cash(selector, context);\n  };\n\n  return Cash;\n}();\n\nvar fn = Cash.prototype,\n    cash = fn.init;\ncash.fn = cash.prototype = fn; // Ensuring that `cash () instanceof cash`\n\nfn.length = 0;\nfn.splice = splice; // Ensuring a cash collection gets printed as array-like in Chrome's devtools\n\nif (typeof Symbol === 'function') {\n  // Ensuring a cash collection is iterable\n  fn[Symbol['iterator']] = ArrayPrototype[Symbol['iterator']];\n}\n\nfn.map = function (callback) {\n  return cash(concat.apply([], map.call(this, function (ele, i) {\n    return callback.call(ele, i, ele);\n  })));\n};\n\nfn.slice = function (start, end) {\n  return cash(slice.call(this, start, end));\n}; // @require ./cash.ts\n\n\nvar dashAlphaRe = /-([a-z])/g;\n\nfunction camelCase(str) {\n  return str.replace(dashAlphaRe, function (match, letter) {\n    return letter.toUpperCase();\n  });\n}\n\ncash.guid = 1; // @require ./cash.ts\n\nfunction matches(ele, selector) {\n  var matches = ele && (ele['matches'] || ele['webkitMatchesSelector'] || ele['msMatchesSelector']);\n  return !!matches && !!selector && matches.call(ele, selector);\n}\n\nfunction isCash(x) {\n  return x instanceof Cash;\n}\n\nfunction isWindow(x) {\n  return !!x && x === x.window;\n}\n\nfunction isDocument(x) {\n  return !!x && x.nodeType === 9;\n}\n\nfunction isDocumentFragment(x) {\n  return !!x && x.nodeType === 11;\n}\n\nfunction isElement(x) {\n  return !!x && x.nodeType === 1;\n}\n\nfunction isBoolean(x) {\n  return typeof x === 'boolean';\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isString(x) {\n  return typeof x === 'string';\n}\n\nfunction isUndefined(x) {\n  return x === undefined;\n}\n\nfunction isNull(x) {\n  return x === null;\n}\n\nfunction isNumeric(x) {\n  return !isNaN(parseFloat(x)) && isFinite(x);\n}\n\nfunction isPlainObject(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  var proto = Object.getPrototypeOf(x);\n  return proto === null || proto === Object.prototype;\n}\n\ncash.isWindow = isWindow;\ncash.isFunction = isFunction;\ncash.isArray = isArray;\ncash.isNumeric = isNumeric;\ncash.isPlainObject = isPlainObject;\n\nfn.get = function (index) {\n  if (isUndefined(index)) return slice.call(this);\n  index = Number(index);\n  return this[index < 0 ? index + this.length : index];\n};\n\nfn.eq = function (index) {\n  return cash(this.get(index));\n};\n\nfn.first = function () {\n  return this.eq(0);\n};\n\nfn.last = function () {\n  return this.eq(-1);\n};\n\nfunction each(arr, callback, _reverse) {\n  if (_reverse) {\n    var i = arr.length;\n\n    while (i--) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  } else if (isPlainObject(arr)) {\n    var keys = Object.keys(arr);\n\n    for (var i = 0, l = keys.length; i < l; i++) {\n      var key = keys[i];\n      if (callback.call(arr[key], key, arr[key]) === false) return arr;\n    }\n  } else {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  }\n\n  return arr;\n}\n\ncash.each = each;\n\nfn.each = function (callback) {\n  return each(this, callback);\n};\n\nfn.prop = function (prop, value) {\n  if (!prop) return;\n\n  if (isString(prop)) {\n    prop = propMap[prop] || prop;\n    if (arguments.length < 2) return this[0] && this[0][prop];\n    return this.each(function (i, ele) {\n      ele[prop] = value;\n    });\n  }\n\n  for (var key in prop) {\n    this.prop(key, prop[key]);\n  }\n\n  return this;\n};\n\nfn.removeProp = function (prop) {\n  return this.each(function (i, ele) {\n    delete ele[propMap[prop] || prop];\n  });\n};\n\nfunction extend() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  var deep = isBoolean(sources[0]) ? sources.shift() : false,\n      target = sources.shift(),\n      length = sources.length;\n  if (!target) return {};\n  if (!length) return extend(deep, cash, target);\n\n  for (var i = 0; i < length; i++) {\n    var source = sources[i];\n\n    for (var key in source) {\n      if (deep && (isArray(source[key]) || isPlainObject(source[key]))) {\n        if (!target[key] || target[key].constructor !== source[key].constructor) target[key] = new source[key].constructor();\n        extend(deep, target[key], source[key]);\n      } else {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}\n\ncash.extend = extend;\n\nfn.extend = function (plugins) {\n  return extend(fn, plugins);\n}; // @require ./matches.ts\n// @require ./type_checking.ts\n\n\nfunction getCompareFunction(comparator) {\n  return isString(comparator) ? function (i, ele) {\n    return matches(ele, comparator);\n  } : isFunction(comparator) ? comparator : isCash(comparator) ? function (i, ele) {\n    return comparator.is(ele);\n  } : !comparator ? function () {\n    return false;\n  } : function (i, ele) {\n    return ele === comparator;\n  };\n}\n\nfn.filter = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return cash(filter.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  }));\n}; // @require collection/filter.ts\n\n\nfunction filtered(collection, comparator) {\n  return !comparator ? collection : collection.filter(comparator);\n} // @require ./type_checking.ts\n\n\nvar splitValuesRe = /\\S+/g;\n\nfunction getSplitValues(str) {\n  return isString(str) ? str.match(splitValuesRe) || [] : [];\n}\n\nfn.hasClass = function (cls) {\n  return !!cls && some.call(this, function (ele) {\n    return isElement(ele) && ele.classList.contains(cls);\n  });\n};\n\nfn.removeAttr = function (attr) {\n  var attrs = getSplitValues(attr);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(attrs, function (i, a) {\n      ele.removeAttribute(a);\n    });\n  });\n};\n\nfunction attr(attr, value) {\n  if (!attr) return;\n\n  if (isString(attr)) {\n    if (arguments.length < 2) {\n      if (!this[0] || !isElement(this[0])) return;\n      var value_1 = this[0].getAttribute(attr);\n      return isNull(value_1) ? undefined : value_1;\n    }\n\n    if (isUndefined(value)) return this;\n    if (isNull(value)) return this.removeAttr(attr);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      ele.setAttribute(attr, value);\n    });\n  }\n\n  for (var key in attr) {\n    this.attr(key, attr[key]);\n  }\n\n  return this;\n}\n\nfn.attr = attr;\n\nfn.toggleClass = function (cls, force) {\n  var classes = getSplitValues(cls),\n      isForce = !isUndefined(force);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(classes, function (i, c) {\n      if (isForce) {\n        force ? ele.classList.add(c) : ele.classList.remove(c);\n      } else {\n        ele.classList.toggle(c);\n      }\n    });\n  });\n};\n\nfn.addClass = function (cls) {\n  return this.toggleClass(cls, true);\n};\n\nfn.removeClass = function (cls) {\n  if (arguments.length) return this.toggleClass(cls, false);\n  return this.attr('class', '');\n};\n\nfunction pluck(arr, prop, deep, until) {\n  var plucked = [],\n      isCallback = isFunction(prop),\n      compare = until && getCompareFunction(until);\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    if (isCallback) {\n      var val_1 = prop(arr[i]);\n      if (val_1.length) push.apply(plucked, val_1);\n    } else {\n      var val_2 = arr[i][prop];\n\n      while (val_2 != null) {\n        if (until && compare(-1, val_2)) break;\n        plucked.push(val_2);\n        val_2 = deep ? val_2[prop] : null;\n      }\n    }\n  }\n\n  return plucked;\n}\n\nfunction unique(arr) {\n  return arr.length > 1 ? filter.call(arr, function (item, index, self) {\n    return indexOf.call(self, item) === index;\n  }) : arr;\n}\n\ncash.unique = unique;\n\nfn.add = function (selector, context) {\n  return cash(unique(this.get().concat(cash(selector, context).get())));\n}; // @require core/type_checking.ts\n// @require core/variables.ts\n\n\nfunction computeStyle(ele, prop, isVariable) {\n  if (!isElement(ele)) return;\n  var style = win.getComputedStyle(ele, null);\n  return isVariable ? style.getPropertyValue(prop) || undefined : style[prop] || ele.style[prop];\n} // @require ./compute_style.ts\n\n\nfunction computeStyleInt(ele, prop) {\n  return parseInt(computeStyle(ele, prop), 10) || 0;\n}\n\nvar cssVariableRe = /^--/; // @require ./variables.ts\n\nfunction isCSSVariable(prop) {\n  return cssVariableRe.test(prop);\n} // @require core/camel_case.ts\n// @require core/cash.ts\n// @require core/each.ts\n// @require core/variables.ts\n// @require ./is_css_variable.ts\n\n\nvar prefixedProps = {},\n    style = div.style,\n    vendorsPrefixes = ['webkit', 'moz', 'ms'];\n\nfunction getPrefixedProp(prop, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  if (isVariable) return prop;\n\n  if (!prefixedProps[prop]) {\n    var propCC = camelCase(prop),\n        propUC = \"\" + propCC[0].toUpperCase() + propCC.slice(1),\n        props = (propCC + \" \" + vendorsPrefixes.join(propUC + \" \") + propUC).split(' ');\n    each(props, function (i, p) {\n      if (p in style) {\n        prefixedProps[prop] = p;\n        return false;\n      }\n    });\n  }\n\n  return prefixedProps[prop];\n}\n\n; // @require core/type_checking.ts\n// @require ./is_css_variable.ts\n\nvar numericProps = {\n  animationIterationCount: true,\n  columnCount: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  gridArea: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnStart: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowStart: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true\n};\n\nfunction getSuffixedValue(prop, value, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  return !isVariable && !numericProps[prop] && isNumeric(value) ? value + \"px\" : value;\n}\n\nfunction css(prop, value) {\n  if (isString(prop)) {\n    var isVariable_1 = isCSSVariable(prop);\n    prop = getPrefixedProp(prop, isVariable_1);\n    if (arguments.length < 2) return this[0] && computeStyle(this[0], prop, isVariable_1);\n    if (!prop) return this;\n    value = getSuffixedValue(prop, value, isVariable_1);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n\n      if (isVariable_1) {\n        ele.style.setProperty(prop, value);\n      } else {\n        ele.style[prop] = value;\n      }\n    });\n  }\n\n  for (var key in prop) {\n    this.css(key, prop[key]);\n  }\n\n  return this;\n}\n\n;\nfn.css = css; // @optional ./css.ts\n// @require core/attempt.ts\n// @require core/camel_case.ts\n\nvar JSONStringRe = /^\\s+|\\s+$/;\n\nfunction getData(ele, key) {\n  var value = ele.dataset[key] || ele.dataset[camelCase(key)];\n  if (JSONStringRe.test(value)) return value;\n  return attempt(JSON.parse, value);\n} // @require core/attempt.ts\n// @require core/camel_case.ts\n\n\nfunction setData(ele, key, value) {\n  value = attempt(JSON.stringify, value);\n  ele.dataset[camelCase(key)] = value;\n}\n\nfunction data(name, value) {\n  if (!name) {\n    if (!this[0]) return;\n    var datas = {};\n\n    for (var key in this[0].dataset) {\n      datas[key] = getData(this[0], key);\n    }\n\n    return datas;\n  }\n\n  if (isString(name)) {\n    if (arguments.length < 2) return this[0] && getData(this[0], name);\n    if (isUndefined(value)) return this;\n    return this.each(function (i, ele) {\n      setData(ele, name, value);\n    });\n  }\n\n  for (var key in name) {\n    this.data(key, name[key]);\n  }\n\n  return this;\n}\n\nfn.data = data; // @optional ./data.ts\n\nfunction getDocumentDimension(doc, dimension) {\n  var docEle = doc.documentElement;\n  return Math.max(doc.body[\"scroll\" + dimension], docEle[\"scroll\" + dimension], doc.body[\"offset\" + dimension], docEle[\"offset\" + dimension], docEle[\"client\" + dimension]);\n} // @require css/helpers/compute_style_int.ts\n\n\nfunction getExtraSpace(ele, xAxis) {\n  return computeStyleInt(ele, \"border\" + (xAxis ? 'Left' : 'Top') + \"Width\") + computeStyleInt(ele, \"padding\" + (xAxis ? 'Left' : 'Top')) + computeStyleInt(ele, \"padding\" + (xAxis ? 'Right' : 'Bottom')) + computeStyleInt(ele, \"border\" + (xAxis ? 'Right' : 'Bottom') + \"Width\");\n}\n\neach([true, false], function (i, outer) {\n  each(['Width', 'Height'], function (i, prop) {\n    var name = \"\" + (outer ? 'outer' : 'inner') + prop;\n\n    fn[name] = function (includeMargins) {\n      if (!this[0]) return;\n      if (isWindow(this[0])) return outer ? this[0][\"inner\" + prop] : this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0][\"\" + (outer ? 'offset' : 'client') + prop] + (includeMargins && outer ? computeStyleInt(this[0], \"margin\" + (i ? 'Top' : 'Left')) + computeStyleInt(this[0], \"margin\" + (i ? 'Bottom' : 'Right')) : 0);\n    };\n  });\n});\neach(['Width', 'Height'], function (index, prop) {\n  var propLC = prop.toLowerCase();\n\n  fn[propLC] = function (value) {\n    if (!this[0]) return isUndefined(value) ? undefined : this;\n\n    if (!arguments.length) {\n      if (isWindow(this[0])) return this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0].getBoundingClientRect()[propLC] - getExtraSpace(this[0], !index);\n    }\n\n    var valueNumber = parseInt(value, 10);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      var boxSizing = computeStyle(ele, 'boxSizing');\n      ele.style[propLC] = getSuffixedValue(propLC, valueNumber + (boxSizing === 'border-box' ? getExtraSpace(ele, !index) : 0));\n    });\n  };\n}); // @optional ./inner_outer.ts\n// @optional ./normal.ts\n// @require css/helpers/compute_style.ts\n\nvar defaultDisplay = {};\n\nfunction getDefaultDisplay(tagName) {\n  if (defaultDisplay[tagName]) return defaultDisplay[tagName];\n  var ele = createElement(tagName);\n  doc.body.insertBefore(ele, null);\n  var display = computeStyle(ele, 'display');\n  doc.body.removeChild(ele);\n  return defaultDisplay[tagName] = display !== 'none' ? display : 'block';\n} // @require css/helpers/compute_style.ts\n\n\nfunction isHidden(ele) {\n  return computeStyle(ele, 'display') === 'none';\n}\n\nvar displayProperty = '___cd';\n\nfn.toggle = function (force) {\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    var show = isUndefined(force) ? isHidden(ele) : force;\n\n    if (show) {\n      ele.style.display = ele[displayProperty] || '';\n\n      if (isHidden(ele)) {\n        ele.style.display = getDefaultDisplay(ele.tagName);\n      }\n    } else {\n      ele[displayProperty] = computeStyle(ele, 'display');\n      ele.style.display = 'none';\n    }\n  });\n};\n\nfn.hide = function () {\n  return this.toggle(false);\n};\n\nfn.show = function () {\n  return this.toggle(true);\n}; // @optional ./hide.ts\n// @optional ./show.ts\n// @optional ./toggle.ts\n\n\nfunction hasNamespaces(ns1, ns2) {\n  return !ns2 || !some.call(ns2, function (ns) {\n    return ns1.indexOf(ns) < 0;\n  });\n}\n\nvar eventsNamespace = '___ce',\n    eventsNamespacesSeparator = '.',\n    eventsFocus = {\n  focus: 'focusin',\n  blur: 'focusout'\n},\n    eventsHover = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n},\n    eventsMouseRe = /^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i; // @require ./variables.ts\n\nfunction getEventNameBubbling(name) {\n  return eventsHover[name] || eventsFocus[name] || name;\n} // @require ./variables.ts\n\n\nfunction getEventsCache(ele) {\n  return ele[eventsNamespace] = ele[eventsNamespace] || {};\n} // @require core/guid.ts\n// @require events/helpers/get_events_cache.ts\n\n\nfunction addEvent(ele, name, namespaces, selector, callback) {\n  var eventCache = getEventsCache(ele);\n  eventCache[name] = eventCache[name] || [];\n  eventCache[name].push([namespaces, selector, callback]);\n  ele.addEventListener(name, callback);\n} // @require ./variables.ts\n\n\nfunction parseEventName(eventName) {\n  var parts = eventName.split(eventsNamespacesSeparator);\n  return [parts[0], parts.slice(1).sort()]; // [name, namespace[]]\n} // @require ./get_events_cache.ts\n// @require ./has_namespaces.ts\n// @require ./parse_event_name.ts\n\n\nfunction removeEvent(ele, name, namespaces, selector, callback) {\n  var cache = getEventsCache(ele);\n\n  if (!name) {\n    for (name in cache) {\n      removeEvent(ele, name, namespaces, selector, callback);\n    }\n  } else if (cache[name]) {\n    cache[name] = cache[name].filter(function (_a) {\n      var ns = _a[0],\n          sel = _a[1],\n          cb = _a[2];\n      if (callback && cb.guid !== callback.guid || !hasNamespaces(ns, namespaces) || selector && selector !== sel) return true;\n      ele.removeEventListener(name, cb);\n    });\n  }\n}\n\nfn.off = function (eventFullName, selector, callback) {\n  var _this = this;\n\n  if (isUndefined(eventFullName)) {\n    this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n      removeEvent(ele);\n    });\n  } else if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.off(key, eventFullName[key]);\n    }\n  } else {\n    if (isFunction(selector)) {\n      callback = selector;\n      selector = '';\n    }\n\n    each(getSplitValues(eventFullName), function (i, eventFullName) {\n      var _a = parseEventName(eventFullName),\n          nameOriginal = _a[0],\n          namespaces = _a[1],\n          name = getEventNameBubbling(nameOriginal);\n\n      _this.each(function (i, ele) {\n        if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n        removeEvent(ele, name, namespaces, selector, callback);\n      });\n    });\n  }\n\n  return this;\n};\n\nfunction on(eventFullName, selector, data, callback, _one) {\n  var _this = this;\n\n  if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.on(key, selector, data, eventFullName[key], _one);\n    }\n\n    return this;\n  }\n\n  if (!isString(selector)) {\n    if (isUndefined(selector) || isNull(selector)) {\n      selector = '';\n    } else if (isUndefined(data)) {\n      data = selector;\n      selector = '';\n    } else {\n      callback = data;\n      data = selector;\n      selector = '';\n    }\n  }\n\n  if (!isFunction(callback)) {\n    callback = data;\n    data = undefined;\n  }\n\n  if (!callback) return this;\n  each(getSplitValues(eventFullName), function (i, eventFullName) {\n    var _a = parseEventName(eventFullName),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name = getEventNameBubbling(nameOriginal),\n        isEventHover = (nameOriginal in eventsHover),\n        isEventFocus = (nameOriginal in eventsFocus);\n\n    if (!name) return;\n\n    _this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n\n      var finalCallback = function finalCallback(event) {\n        if (event.target[\"___i\" + event.type]) return event.stopImmediatePropagation(); // Ignoring native event in favor of the upcoming custom one\n\n        if (event.namespace && !hasNamespaces(namespaces, event.namespace.split(eventsNamespacesSeparator))) return;\n        if (!selector && (isEventFocus && (event.target !== ele || event.___ot === name) || isEventHover && event.relatedTarget && ele.contains(event.relatedTarget))) return;\n        var thisArg = ele;\n\n        if (selector) {\n          var target = event.target;\n\n          while (!matches(target, selector)) {\n            if (target === ele) return;\n            target = target.parentNode;\n            if (!target) return;\n          }\n\n          thisArg = target;\n        }\n\n        Object.defineProperty(event, 'currentTarget', {\n          configurable: true,\n          get: function get() {\n            return thisArg;\n          }\n        });\n        Object.defineProperty(event, 'delegateTarget', {\n          configurable: true,\n          get: function get() {\n            return ele;\n          }\n        });\n        Object.defineProperty(event, 'data', {\n          configurable: true,\n          get: function get() {\n            return data;\n          }\n        });\n        var returnValue = callback.call(thisArg, event, event.___td);\n\n        if (_one) {\n          removeEvent(ele, name, namespaces, selector, finalCallback);\n        }\n\n        if (returnValue === false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      };\n\n      finalCallback.guid = callback.guid = callback.guid || cash.guid++;\n      addEvent(ele, name, namespaces, selector, finalCallback);\n    });\n  });\n  return this;\n}\n\nfn.on = on;\n\nfunction one(eventFullName, selector, data, callback) {\n  return this.on(eventFullName, selector, data, callback, true);\n}\n\n;\nfn.one = one;\n\nfn.ready = function (callback) {\n  var cb = function cb() {\n    return setTimeout(callback, 0, cash);\n  };\n\n  if (doc.readyState !== 'loading') {\n    cb();\n  } else {\n    doc.addEventListener('DOMContentLoaded', cb);\n  }\n\n  return this;\n};\n\nfn.trigger = function (event, data) {\n  if (isString(event)) {\n    var _a = parseEventName(event),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name_1 = getEventNameBubbling(nameOriginal);\n\n    if (!name_1) return this;\n    var type = eventsMouseRe.test(name_1) ? 'MouseEvents' : 'HTMLEvents';\n    event = doc.createEvent(type);\n    event.initEvent(name_1, true, true);\n    event.namespace = namespaces.join(eventsNamespacesSeparator);\n    event.___ot = nameOriginal;\n  }\n\n  event.___td = data;\n  var isEventFocus = (event.___ot in eventsFocus);\n  return this.each(function (i, ele) {\n    if (isEventFocus && isFunction(ele[event.___ot])) {\n      ele[\"___i\" + event.type] = true; // Ensuring the native event is ignored\n\n      ele[event.___ot]();\n\n      ele[\"___i\" + event.type] = false; // Ensuring the custom event is not ignored\n    }\n\n    ele.dispatchEvent(event);\n  });\n}; // @optional ./off.ts\n// @optional ./on.ts\n// @optional ./one.ts\n// @optional ./ready.ts\n// @optional ./trigger.ts\n// @require core/pluck.ts\n// @require core/variables.ts\n\n\nfunction getValue(ele) {\n  if (ele.multiple && ele.options) return pluck(filter.call(ele.options, function (option) {\n    return option.selected && !option.disabled && !option.parentNode.disabled;\n  }), 'value');\n  return ele.value || '';\n}\n\nvar queryEncodeSpaceRe = /%20/g,\n    queryEncodeCRLFRe = /\\r?\\n/g;\n\nfunction queryEncode(prop, value) {\n  return \"&\" + encodeURIComponent(prop) + \"=\" + encodeURIComponent(value.replace(queryEncodeCRLFRe, '\\r\\n')).replace(queryEncodeSpaceRe, '+');\n}\n\nvar skippableRe = /file|reset|submit|button|image/i,\n    checkableRe = /radio|checkbox/i;\n\nfn.serialize = function () {\n  var query = '';\n  this.each(function (i, ele) {\n    each(ele.elements || [ele], function (i, ele) {\n      if (ele.disabled || !ele.name || ele.tagName === 'FIELDSET' || skippableRe.test(ele.type) || checkableRe.test(ele.type) && !ele.checked) return;\n      var value = getValue(ele);\n\n      if (!isUndefined(value)) {\n        var values = isArray(value) ? value : [value];\n        each(values, function (i, value) {\n          query += queryEncode(ele.name, value);\n        });\n      }\n    });\n  });\n  return query.slice(1);\n};\n\nfunction val(value) {\n  if (!arguments.length) return this[0] && getValue(this[0]);\n  return this.each(function (i, ele) {\n    var isSelect = ele.multiple && ele.options;\n\n    if (isSelect || checkableRe.test(ele.type)) {\n      var eleValue_1 = isArray(value) ? map.call(value, String) : isNull(value) ? [] : [String(value)];\n\n      if (isSelect) {\n        each(ele.options, function (i, option) {\n          option.selected = eleValue_1.indexOf(option.value) >= 0;\n        }, true);\n      } else {\n        ele.checked = eleValue_1.indexOf(ele.value) >= 0;\n      }\n    } else {\n      ele.value = isUndefined(value) || isNull(value) ? '' : value;\n    }\n  });\n}\n\nfn.val = val;\n\nfn.clone = function () {\n  return this.map(function (i, ele) {\n    return ele.cloneNode(true);\n  });\n};\n\nfn.detach = function (comparator) {\n  filtered(this, comparator).each(function (i, ele) {\n    if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n    }\n  });\n  return this;\n};\n\nvar fragmentRe = /^\\s*<(\\w+)[^>]*>/,\n    singleTagRe = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/;\nvar containers = {\n  '*': div,\n  tr: tbody,\n  td: tr,\n  th: tr,\n  thead: table,\n  tbody: table,\n  tfoot: table\n}; //TODO: Create elements inside a document fragment, in order to prevent inline event handlers from firing\n//TODO: Ensure the created elements have the fragment as their parent instead of null, this also ensures we can deal with detatched nodes more reliably\n\nfunction parseHTML(html) {\n  if (!isString(html)) return [];\n  if (singleTagRe.test(html)) return [createElement(RegExp.$1)];\n  var fragment = fragmentRe.test(html) && RegExp.$1,\n      container = containers[fragment] || containers['*'];\n  container.innerHTML = html;\n  return cash(container.childNodes).detach().get();\n}\n\ncash.parseHTML = parseHTML;\n\nfn.empty = function () {\n  return this.each(function (i, ele) {\n    while (ele.firstChild) {\n      ele.removeChild(ele.firstChild);\n    }\n  });\n};\n\nfunction html(html) {\n  if (!arguments.length) return this[0] && this[0].innerHTML;\n  if (isUndefined(html)) return this;\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.innerHTML = html;\n  });\n}\n\nfn.html = html;\n\nfn.remove = function (comparator) {\n  filtered(this, comparator).detach().off();\n  return this;\n};\n\nfunction text(text) {\n  if (isUndefined(text)) return this[0] ? this[0].textContent : '';\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.textContent = text;\n  });\n}\n\n;\nfn.text = text;\n\nfn.unwrap = function () {\n  this.parent().each(function (i, ele) {\n    if (ele.tagName === 'BODY') return;\n    var $ele = cash(ele);\n    $ele.replaceWith($ele.children());\n  });\n  return this;\n};\n\nfn.offset = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var rect = ele.getBoundingClientRect();\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n};\n\nfn.offsetParent = function () {\n  return this.map(function (i, ele) {\n    var offsetParent = ele.offsetParent;\n\n    while (offsetParent && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n\n    return offsetParent || docEle;\n  });\n};\n\nfn.position = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var isFixed = computeStyle(ele, 'position') === 'fixed',\n      offset = isFixed ? ele.getBoundingClientRect() : this.offset();\n\n  if (!isFixed) {\n    var doc_1 = ele.ownerDocument;\n    var offsetParent = ele.offsetParent || doc_1.documentElement;\n\n    while ((offsetParent === doc_1.body || offsetParent === doc_1.documentElement) && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.parentNode;\n    }\n\n    if (offsetParent !== ele && isElement(offsetParent)) {\n      var parentOffset = cash(offsetParent).offset();\n      offset.top -= parentOffset.top + computeStyleInt(offsetParent, 'borderTopWidth');\n      offset.left -= parentOffset.left + computeStyleInt(offsetParent, 'borderLeftWidth');\n    }\n  }\n\n  return {\n    top: offset.top - computeStyleInt(ele, 'marginTop'),\n    left: offset.left - computeStyleInt(ele, 'marginLeft')\n  };\n};\n\nfn.children = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return ele.children;\n  }))), comparator);\n};\n\nfn.contents = function () {\n  return cash(unique(pluck(this, function (ele) {\n    return ele.tagName === 'IFRAME' ? [ele.contentDocument] : ele.tagName === 'TEMPLATE' ? ele.content.childNodes : ele.childNodes;\n  })));\n};\n\nfn.find = function (selector) {\n  return cash(unique(pluck(this, function (ele) {\n    return find(selector, ele);\n  })));\n}; // @require core/variables.ts\n// @require collection/filter.ts\n// @require traversal/find.ts\n\n\nvar HTMLCDATARe = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n    scriptTypeRe = /^$|^module$|\\/(java|ecma)script/i,\n    scriptAttributes = ['type', 'src', 'nonce', 'noModule'];\n\nfunction evalScripts(node, doc) {\n  var collection = cash(node);\n  collection.filter('script').add(collection.find('script')).each(function (i, ele) {\n    if (scriptTypeRe.test(ele.type) && docEle.contains(ele)) {\n      // The script type is supported // The element is attached to the DOM // Using `documentElement` for broader browser support\n      var script_1 = createElement('script');\n      script_1.text = ele.textContent.replace(HTMLCDATARe, '');\n      each(scriptAttributes, function (i, attr) {\n        if (ele[attr]) script_1[attr] = ele[attr];\n      });\n      doc.head.insertBefore(script_1, null);\n      doc.head.removeChild(script_1);\n    }\n  });\n} // @require ./eval_scripts.ts\n\n\nfunction insertElement(anchor, target, left, inside, evaluate) {\n  if (inside) {\n    // prepend/append\n    anchor.insertBefore(target, left ? anchor.firstChild : null);\n  } else {\n    // before/after\n    if (anchor.nodeName === 'HTML') {\n      anchor.parentNode.replaceChild(target, anchor);\n    } else {\n      anchor.parentNode.insertBefore(target, left ? anchor : anchor.nextSibling);\n    }\n  }\n\n  if (evaluate) {\n    evalScripts(target, anchor.ownerDocument);\n  }\n} // @require ./insert_element.ts\n\n\nfunction insertSelectors(selectors, anchors, inverse, left, inside, reverseLoop1, reverseLoop2, reverseLoop3) {\n  each(selectors, function (si, selector) {\n    each(cash(selector), function (ti, target) {\n      each(cash(anchors), function (ai, anchor) {\n        var anchorFinal = inverse ? target : anchor,\n            targetFinal = inverse ? anchor : target,\n            indexFinal = inverse ? ti : ai;\n        insertElement(anchorFinal, !indexFinal ? targetFinal : targetFinal.cloneNode(true), left, inside, !indexFinal);\n      }, reverseLoop3);\n    }, reverseLoop2);\n  }, reverseLoop1);\n  return anchors;\n}\n\nfn.after = function () {\n  return insertSelectors(arguments, this, false, false, false, true, true);\n};\n\nfn.append = function () {\n  return insertSelectors(arguments, this, false, false, true);\n};\n\nfn.appendTo = function (selector) {\n  return insertSelectors(arguments, this, true, false, true);\n};\n\nfn.before = function () {\n  return insertSelectors(arguments, this, false, true);\n};\n\nfn.insertAfter = function (selector) {\n  return insertSelectors(arguments, this, true, false, false, false, false, true);\n};\n\nfn.insertBefore = function (selector) {\n  return insertSelectors(arguments, this, true, true);\n};\n\nfn.prepend = function () {\n  return insertSelectors(arguments, this, false, true, true, true, true);\n};\n\nfn.prependTo = function (selector) {\n  return insertSelectors(arguments, this, true, true, true, false, false, true);\n};\n\nfn.replaceWith = function (selector) {\n  return this.before(selector).remove();\n};\n\nfn.replaceAll = function (selector) {\n  cash(selector).replaceWith(this);\n  return this;\n};\n\nfn.wrapAll = function (selector) {\n  var structure = cash(selector),\n      wrapper = structure[0];\n\n  while (wrapper.children.length) {\n    wrapper = wrapper.firstElementChild;\n  }\n\n  this.first().before(structure);\n  return this.appendTo(wrapper);\n};\n\nfn.wrap = function (selector) {\n  return this.each(function (i, ele) {\n    var wrapper = cash(selector)[0];\n    cash(ele).wrapAll(!i ? wrapper : wrapper.cloneNode(true));\n  });\n};\n\nfn.wrapInner = function (selector) {\n  return this.each(function (i, ele) {\n    var $ele = cash(ele),\n        contents = $ele.contents();\n    contents.length ? contents.wrapAll(selector) : $ele.append(selector);\n  });\n};\n\nfn.has = function (selector) {\n  var comparator = isString(selector) ? function (i, ele) {\n    return find(selector, ele).length;\n  } : function (i, ele) {\n    return ele.contains(selector);\n  };\n  return this.filter(comparator);\n};\n\nfn.is = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return some.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  });\n};\n\nfn.next = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'nextElementSibling', _all, _until))), comparator);\n};\n\nfn.nextAll = function (comparator) {\n  return this.next(comparator, true);\n};\n\nfn.nextUntil = function (until, comparator) {\n  return this.next(comparator, true, until);\n};\n\nfn.not = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return this.filter(function (i, ele) {\n    return (!isString(comparator) || isElement(ele)) && !compare.call(ele, i, ele);\n  });\n};\n\nfn.parent = function (comparator) {\n  return filtered(cash(unique(pluck(this, 'parentNode'))), comparator);\n};\n\nfn.index = function (selector) {\n  var child = selector ? cash(selector)[0] : this[0],\n      collection = selector ? this : cash(child).parent().children();\n  return indexOf.call(collection, child);\n};\n\nfn.closest = function (comparator) {\n  var filtered = this.filter(comparator);\n  if (filtered.length) return filtered;\n  var $parent = this.parent();\n  if (!$parent.length) return filtered;\n  return $parent.closest(comparator);\n};\n\nfn.parents = function (comparator, _until) {\n  return filtered(cash(unique(pluck(this, 'parentElement', true, _until))), comparator);\n};\n\nfn.parentsUntil = function (until, comparator) {\n  return this.parents(comparator, until);\n};\n\nfn.prev = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'previousElementSibling', _all, _until))), comparator);\n};\n\nfn.prevAll = function (comparator) {\n  return this.prev(comparator, true);\n};\n\nfn.prevUntil = function (until, comparator) {\n  return this.prev(comparator, true, until);\n};\n\nfn.siblings = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return cash(ele).parent().children().not(ele);\n  }))), comparator);\n}; // @optional ./children.ts\n// @optional ./closest.ts\n// @optional ./contents.ts\n// @optional ./find.ts\n// @optional ./has.ts\n// @optional ./is.ts\n// @optional ./next.ts\n// @optional ./next_all.ts\n// @optional ./next_until.ts\n// @optional ./not.ts\n// @optional ./parent.ts\n// @optional ./parents.ts\n// @optional ./parents_until.ts\n// @optional ./prev.ts\n// @optional ./prev_all.ts\n// @optional ./prev_until.ts\n// @optional ./siblings.ts\n// @optional attributes/index.ts\n// @optional collection/index.ts\n// @optional css/index.ts\n// @optional data/index.ts\n// @optional dimensions/index.ts\n// @optional effects/index.ts\n// @optional events/index.ts\n// @optional forms/index.ts\n// @optional manipulation/index.ts\n// @optional offset/index.ts\n// @optional traversal/index.ts\n// @require core/index.ts\n// @priority -100\n// @require ./cash.ts\n// @require ./variables.ts\n\n\nif (typeof exports !== 'undefined') {\n  // Node.js\n  module.exports = cash;\n} else {\n  // Browser\n  win['cash'] = win['$'] = cash;\n}\n})();","import { createClient } from \"@supabase/supabase-js\";\nimport $ from \"cash-dom\";\n\n// Create a single supabase client for interacting with your database\nconst supabase = createClient(\"https://gwcnruxqmtukvguyhuga.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3Y25ydXhxbXR1a3ZndXlodWdhIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDk5MjI5MTIsImV4cCI6MTk2NTQ5ODkxMn0.Cpm-Myt5YdzFrRzYcWWaFxVDiyQWeJCD3dTZBvRlcp4\");\n\nconst $toast = $(\"#toast\");\nconst $status = $(\"#status\");\nconst $signed_out = $(\"#signed-out\");\nconst $restaurants = $(\"#restaurants\");\nconst $order_details = $(\"#order-details\");\nconst $sign_in = $(\"#sign-in\");\nconst $my_orders = $(\"#my-orders\");\nconst $order_list = $(\"#order-list\");\n\nfunction show_toast(message: string, duration: number = 2000) {\n    $toast.text(message).show();\n    // After duration, slide the toast out of view\n    setTimeout(() => $toast.addClass(\"slide-down\"), duration);\n    setTimeout(() => $toast.removeClass(\"slide-down\").hide(), duration + 500);\n}\n\nfunction update_dom() {\n    let user = supabase.auth.user();\n    if (user === null) {\n        // If the user is signed out\n        $status.hide();\n        $signed_out.show();\n        $order_details.hide();\n        $my_orders.hide();\n        $restaurants.show().removeClass(\"fade\");\n    } else {\n        // If the user is signed in\n        $signed_out.hide();\n        $(\".netid\").text(user.email.slice(0, -13).toUpperCase());\n        $status.show();\n        insert_orders();\n    }\n}\n\n// Run once initially\nupdate_dom();\n// Run whenever auth state changes\nsupabase.auth.onAuthStateChange(update_dom);\n\nfunction insert_orders() {\n    supabase\n        .from(\"orders\")\n        .select(\"id, time_slot, restaurants (name), delivery_location, description, fulfilled, notes, cost\")\n        .filter(\"cancelled\", \"eq\", \"false\")\n        .order(\"created_at\", { ascending: false })\n        .then(result => {\n            if (result.error) {\n                show_toast(result.error.message, 5000);\n            }\n            if (result.data.length === 0) {\n                $my_orders.hide();\n                return;\n            } else $my_orders.show();\n            $order_list.empty();\n            for (let i = 0; i < result.data.length; i++) {\n                let new_order = $(`<div class=\"order\">\n                    <b>Timeslot:</b> ${result.data[i][\"time_slot\"]}<br>\n                    <b>Restaurant:</b> ${result.data[i][\"restaurants\"][\"name\"]}<br>\n                    <b>Description:</b> ${result.data[i][\"description\"]}<br>\n                    <b>Delivery Location:</b> ${result.data[i][\"delivery_location\"]}<br>\n                    <b>Delivery Fee:</b> ${result.data[i][\"cost\"]}\n                </div>`);\n                if (result.data[i][\"notes\"])\n                    new_order.append(`<b>Phone:</b> ${result.data[i][\"notes\"]}`);\n                if (result.data[i][\"fulfilled\"])\n                    new_order.append(`<span class=\"top-right\">Fulfilled</span>`);\n                else\n                    new_order.append(`<span class=\"top-right\">\n                        <button class=\"text cancel\" data-id=\"${result.data[i][\"id\"]}\">cancel</button>\n                    </span>`);\n                $order_list.append(new_order);\n            }\n            $(\".cancel\").off().on(\"click\", function() {\n                supabase\n                    .from(\"orders\")\n                    .update({ cancelled: true })\n                    .match({ id: $(this).data(\"id\") })\n                    .then(result => {\n                        if (result.error) show_toast(result.error.message);\n                        else show_toast(\"Cancelled order\");\n                    });\n            });\n        }, error => show_toast(error, 5000));\n}\n\nsupabase\n    .from(\"orders\")\n    .on(\"*\", payload => {\n        console.log('Change received!', payload);\n        insert_orders();\n    })\n    .subscribe();\n\n$(\"#sign-out\").on(\"click\", () => supabase.auth.signOut()\n    .then(_response => {\n        show_toast(\"Signed out successfully\");\n    })\n    .catch(err => show_toast(err.response.text)));\n\n// Dynamically populate the list of restaurants from the database\nsupabase\n    .from(\"restaurants\")\n    .select()\n    .then(result => {\n        if (result.error) {\n            show_toast(result.error.message, 5000);\n        } else if (result.data.length === 0) {\n            show_toast(\"No restaurants were found\", 5000);\n        } else {\n            for (let i = 0; i < result.data.length; i++) {\n                const { error, publicURL } = supabase.storage.from(\"restaurant-images\").getPublicUrl(result.data[i][\"image\"]);\n                if (error) {\n                    show_toast(error.message, 5000);\n                    return;\n                }\n                let id = result.data[i][\"id\"];\n                let name = result.data[i][\"name\"];\n                $restaurants.append(`<div class=\"restaurant\"\n                    data-id=\"${id}\" data-name=\"${name}\"\n                    style=\"background-image: url('${publicURL}')\">\n                        <h1>${name}</h1>\n                    </div>`);\n            }\n            // Add event handlers for all the restaurant buttons\n            $(\".restaurant\").on(\"click\", function() {\n                // Analytics\n                // @ts-ignore\n                if (typeof pa !== \"undefined\") pa.track({name: \"restaurant-click\", value: $(this).data(\"name\")});\n                // Replace the list of restaurants with something else, so hide it\n                // Fade-out animation\n                $restaurants.addClass(\"fade\");\n                setTimeout(() => {\n                    $restaurants.hide();\n                    if (supabase.auth.user()) {\n                        // If the user is signed in, proceed with the order\n                        $order_details.data(\"id\", $(this).data(\"id\")).show();\n                        $(\"#order-details .name\").text($(this).data(\"name\"));\n                    } else {\n                        // If they're not signed in, make them sign in first\n                        $sign_in.show();\n                    }\n                }, 100);\n            });\n        }\n    }, error => show_toast(error, 5000));\n\n$sign_in.on(\"submit\", e => {\n    e.preventDefault();\n    // Sign the user in\n    const email: string = $(\"#netid\").val() + \"@utdallas.edu\";\n    supabase.auth.signIn({ email })\n        .then(response => {\n            if (response.error) {\n                show_toast(response.error.message, 5000);\n            } else {\n                $(\"body\").html(`<div id=\"check-email\">Check ${email} for a magic link to login</div>`);\n            }\n        })\n        .catch(err => show_toast(err.response.text));\n});\n\n$(\".back\").on(\"click\", () => {\n    $sign_in.hide();\n    $order_details.hide();\n    $restaurants.show().removeClass(\"fade\");\n});\n\n$order_details.on(\"submit\", e => {\n    e.preventDefault();\n    // Make the order by adding it to the database\n    const phone = $(\"#phone\").val();\n    supabase\n        .from(\"orders\")\n        .insert({\n            time_slot: $(\"#time-slot\").val(),\n            customer: supabase.auth.user().id,\n            restaurant: $order_details.data(\"id\"),\n            delivery_location: $(\"#location\").val(),\n            description: $(\"#description\").val(),\n            notes: phone.length ? phone : null,\n            cost: $(\"#delivery-fee\").val(),\n        })\n        .then((result) => {\n            if (result.error) {\n                show_toast(result.error.message, 5000);\n            } else {\n                show_toast(\"Order placed successfully!\");\n                // Reset forms and show restaurant list\n                $(\"form\").trigger(\"reset\");\n                $order_details.hide();\n                $restaurants.show().removeClass(\"fade\");\n            }\n        }, error => show_toast(error, 5000));\n});\n","import SupabaseClient from './SupabaseClient'\nimport { SupabaseClientOptions, SupabaseRealtimePayload } from './lib/types'\nimport { User as AuthUser, Session as AuthSession } from '@supabase/gotrue-js'\nexport * from '@supabase/gotrue-js'\nexport {\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n  PostgrestError,\n} from '@supabase/postgrest-js'\nexport * from '@supabase/realtime-js'\n\n/**\n * Creates a new Supabase Client.\n */\nconst createClient = (\n  supabaseUrl: string,\n  supabaseKey: string,\n  options?: SupabaseClientOptions\n): SupabaseClient => {\n  return new SupabaseClient(supabaseUrl, supabaseKey, options)\n}\n\nexport {\n  createClient,\n  SupabaseClient,\n  SupabaseClientOptions,\n  SupabaseRealtimePayload,\n  AuthUser,\n  AuthSession,\n}\n"],"names":["global","self","this","__self__","F","fetch","DOMException","prototype","exports","support","Symbol","Blob","e","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","Object","toString","call","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","get","type","rejected","Error","arrayBuffer","then","text","readAsText","chars","length","i","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","hasOwnProperty","callback","thisArg","keys","push","values","entries","methods","Request","input","options","method","upcased","url","credentials","mode","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","message","stack","create","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","key","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","ponyfill","ctx","default","module","$3cd7cb3188e0cc0c$var$naiveFallback","window","globalThis","configurable","__global__","$b07b5082a7b10ea2$export$2e2bcd8739ae039","instance","Constructor","$e5f9bd0c37e9914c$var$_defineProperties","target","props","descriptor","enumerable","writable","$e5f9bd0c37e9914c$export$2e2bcd8739ae039","protoProps","staticProps","$7dc24fd3d8e84af6$var$getPrototypeOf","o1","setPrototypeOf","getPrototypeOf","o","__proto__","$7dc24fd3d8e84af6$export$2e2bcd8739ae039","$87fe16ba8ff029a3$export$2e2bcd8739ae039","ReferenceError","$08b63c45f54847ee$export$2e2bcd8739ae039","$995f9dda6ee7c4ee$export$2e2bcd8739ae039","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","$d60c94504fa4a111$export$2e2bcd8739ae039","Super","NewTarget","arguments","apply","$ac93fd2313270fd8$var$setPrototypeOf","p1","p","$bc25518f39dadcf6$export$2e2bcd8739ae039","subClass","superClass","$8664303016091545$export$2e2bcd8739ae039","iter","from","$a735c72dc00321c4$export$2e2bcd8739ae039","arr","len","arr2","$09f7b49357d6407d$export$2e2bcd8739ae039","minLen","n","$d8de0eb6e0dd5f0d$export$2e2bcd8739ae039","$6e00726c30bb8aa8$export$2e2bcd8739ae039","$9e1e3aff84b72d71$export$2e2bcd8739ae039","$44ff19cc49d55455$export$2e2bcd8739ae039","$c0e5c3a46846db0d$export$2e2bcd8739ae039","$9a10eb5a4ae3d243$export$2e2bcd8739ae039","$21b983287c82ebd3$var$runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","err1","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","value1","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","next1","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","object","key1","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","$21b983287c82ebd3$exports","regeneratorRuntime","accidentalStrictMode","Function","$67c8abda32581d46$export$88a84136db6a4b64","concat","$8c728abc0547753a$var$_getErrorMessage","msg","error_description","stringify","$8c728abc0547753a$var$handleError","$8c728abc0547753a$var$_getRequestParams","params","assign","$8c728abc0547753a$var$_handleRequest","fetcher","noResolveJson","data","$8c728abc0547753a$export$3988ae62b71be9a3","$8c728abc0547753a$export$299ba2dee77727e9","$8c728abc0547753a$export$327f7b26ebf455db","$8c728abc0547753a$export$cd7f480d6b8286c3","$9f1bc3b870c6a833$export$88a84136db6a4b64","$9f1bc3b870c6a833$export$86880b4b2e1a2384","$9f1bc3b870c6a833$export$5d04dceb9d38c3f8","lifetime","domain","path","sameSite","$3b504bac6749d138$var$serializeCookie","cookie","secure","val","opt","enc","encodeURIComponent","fieldContentRegExp","str","maxAge","isFinite","Math","floor","expires","toUTCString","httpOnly","$3b504bac6749d138$var$serialize","Date","now","_a","_b","_c","$3b504bac6749d138$export$cabcf1eb6b547ccb","req","res","cookies","strCookies","c","host","endsWith","$3b504bac6749d138$var$isSecureEnvironment","previousCookies","getHeader","$3b504bac6749d138$export$31cdeeae171a741d","setHeader","$648282b36fbb4e9a$export$e02d0a488392f690","expiresIn","round","$648282b36fbb4e9a$export$4e09c449d6c407f7","$648282b36fbb4e9a$export$7a5418d73bdac342","href","results","RegExp","exec","$648282b36fbb4e9a$export$98d92b1aa79f8cc7","customFetch","_fetch","$parcel$interopDefault","$klMvd","args","_len","_key","$2f4f3f3bf9b2d5d0$export$2e2bcd8739ae039","param","_url","_headers","cookieOptions","jwt","provider","urlParams","redirectTo","scopes","email","password","queryString","session","$8c728abc0547753a$exports","post","gotrue_meta_security","hcaptcha_token","captchaToken","_ctx","expires_in","expires_at","t0","phone","id_token","nonce","client_id","issuer","shouldCreateUser","create_user","_createRequestHeaders","token","redirect_to","_type","refreshToken","refresh_token","end","_body","event","access_token","_this1","cookieName","_this","_redirectTo","_this2","attributes","user","users","uid","ref","ref1","getUser","refreshAccessToken","put","remove","__magic__","$fcadd4af63928178$export$ad067ce270531206","$ef94443e9a4695e0$var$DEFAULT_OPTIONS","autoRefreshToken","persistSession","detectSessionInUrl","multiTab","$ef94443e9a4695e0$export$2e2bcd8739ae039","stateChangeEmitters","Map","settings","currentUser","currentSession","localStorage","api","$2f4f3f3bf9b2d5d0$exports","_recoverSession","_recoverAndRefresh","_listenForMultiTabEvents","getSessionFromUrl","storeSession","console","_removeSession","signUpWithPhone","signUpWithEmail","_saveSession","_notifyAllSubscribers","id","t1","oidc","error1","error2","sendMagicLinkEmail","_handleEmailSignIn","sendMobileOTP","_handlePhoneSignIn","_callRefreshToken","_handleProviderSignIn","_handleOpenIDConnectSignIn","verifyOTP","updateUser","token_type","provider_token","timeNow","recoveryMode","parseInt","hash","accessToken","signOut","r","random","subscription","unsubscribe","delete","signInWithEmail","confirmed_at","email_confirmed_at","signInWithPhone","phone_confirmed_at","getUrlForProvider","signInWithOpenIDConnect","getItem","expiresAt","log","x","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","setItem","refreshTokenTimer","clearTimeout","removeItem","setTimeout","unref","newSession","newValue","$d911f910f63de93f$export$8199a418bb09bd56","GoTrueClient","$ef94443e9a4695e0$exports","$668651e4ea3b0f06$export$4d213a7d364021dc","$8a42a53be5fd6bb3$export$3106e21688a06353","builder","shouldThrowOnError","throwOnError","onfulfilled","onrejected","schema","includes","res1","$8a42a53be5fd6bb3$var$__awaiter","_callee","count","isReturnMinimal","countHeader","contentRange","postgrestResponse","match","_d","fetchError","details","hint","code","$68e648e94a8a65be$export$2e2bcd8739ae039","PostgrestBuilder","columns","quoted","cleanedColumns","searchParams","column","_ascending","ascending","_nullsFirst","nullsFirst","foreignTable","existingOrder","to","keyOffset","keyLimit","$8a42a53be5fd6bb3$exports","$2b1ae8b2b240f362$export$2e2bcd8739ae039","PostgrestTransformBuilder","cs","contains","cd","containedBy","sl","rangeLt","sr","rangeGt","nxl","rangeGte","nxr","rangeLte","adj","rangeAdjacent","ov","overlaps","operator","filters","pattern","cleanedValues","s","range","query","config","typePart","configPart","$811535210b3a9565$export$2e2bcd8739ae039","URL","_head","head","_count","_upsert","upsert","onConflict","_returning","returning","prefersHeaders","unshift","reduce","acc","uniqueColumns","Set","_ignoreDuplicates","ignoreDuplicates","$da757626ad7f138a$export$2e2bcd8739ae039","_param","$ba2637ca60fe4bb3$export$88a84136db6a4b64","$3328de2d2ccfeec3$export$2e2bcd8739ae039","table","rpc","$668651e4ea3b0f06$export$20ce708a1f594c5e","skipTypes","rec_key","$668651e4ea3b0f06$export$c054edfec1afa88d","columnName","find","colType","$668651e4ea3b0f06$export$3df02a362b86a91","$668651e4ea3b0f06$var$noop","dataType","$668651e4ea3b0f06$export$45b10814cc054894","bool","$668651e4ea3b0f06$export$3c2e6d1b7583eee6","float4","float8","int2","int4","int8","numeric","oid","$668651e4ea3b0f06$export$a0a81dc3380ce7d3","jsonb","$668651e4ea3b0f06$export$d5b7a8bf56ee1fe2","timestamp","$668651e4ea3b0f06$export$eccf8c5d91d19e3a","abstime","date","daterange","int4range","int8range","money","reltime","time","timestamptz","timetz","tsrange","tstzrange","parsedValue","parseFloat","Number","lastIdx","closeBrace","valTrim","_","$d518bc37d9e95d44$var$_globalThis","parcelRequire","$d518bc37d9e95d44$var$NativeWebSocket","WebSocket","MozWebSocket","$d518bc37d9e95d44$var$W3CWebSocket","uri","protocols","$afc78cee64c8732b$exports","version","prop","$d518bc37d9e95d44$exports","w3cwebsocket","$dd42c70926d22b82$export$a6d0320a1563d49e","$dd42c70926d22b82$export$b83816118db74fe7","$dd42c70926d22b82$export$8db7548e65d6ea55","$dd42c70926d22b82$export$b2688bfb999f5751","$dd42c70926d22b82$export$88a84136db6a4b64","$dd42c70926d22b82$export$7bd623b29ec8e1eb","$ed0f405e1bbee811$export$2e2bcd8739ae039","timerCalc","timer","tries","$614f92409529488c$export$2e2bcd8739ae039","HEADER_LENGTH","rawPayload","_binaryDecode","decoder","TextDecoder","_decodeBroadcast","topicSize","getUint8","eventSize","offset","topic","payload","$f86a3ead6ce2584d$export$2e2bcd8739ae039","channel","timeout","timeoutTimer","receivedResp","recHooks","refEvent","_cancelRefEvent","_hasReceived","startTimeout","socket","makeRef","replyEventName","_cancelTimeout","_matchReceive","$7ba03ac125bb0bc2$export$2e2bcd8739ae039","on","trigger","off","filter","h","bindings","closed","joinedOnce","pushBuffer","joinPush","rejoinTimer","rejoinUntilConnected","reconnectAfterMs","receive","joined","pushEvent","onClose","joinRef","onError","reason","isLeaving","isClosed","errored","scheduleTimeout","isJoining","reply","isConnected","rejoin","close","bind","isJoined","canPush","updatePayload","leaving","destroy","leavePush","leave","leaveOpenTopic","joining","resend","handledPayload","onMessage","$5f4fe979a4c0e542$export$2e2bcd8739ae039","opts","pendingDiffs","caller","onJoin","onLeave","onSync","events","diff","newState","_caller","syncState","syncDiff","inPendingSyncState","by","list","currentState","cloneDeep","transformedState","transformState","joins","leaves","presences","newPresences","currentPresences","newPresenceIds","m","presence_id","curPresenceIds","joinedPresences","leftPresences","joinedPresenceIds","curPresences","presenceIdsToRemove","presences1","chooser","pres","func","metas","presence","$03f2ef8fa2f7b5dc$export$2e2bcd8739ae039","configs","binding","updateJoinPayload","eventFilter","isEqual","obj1","obj2","k","$2e60bf0a57651903$var$noop","$2e60bf0a57651903$export$2e2bcd8739ae039","endPoint","channels","transport","heartbeatIntervalMs","longpollerTimeout","heartbeatTimer","pendingHeartbeatRef","logger","conn","sendBuffer","serializer","stateChangeCallbacks","websocket","encode","reconnectTimer","$2e60bf0a57651903$var$__awaiter","disconnect","connect","endPointURL","binaryType","onopen","_onConnOpen","_onConnError","onmessage","onConnMessage","onclose","_onConnClose","_reject","clearInterval","kind","connecting","closing","connectionState","chanParams","isNewVersion","$2e60bf0a57651903$var$__rest","chan","rawMessage","isMember","_appendParams","vsn","newRef","user_token","dupChannel","_flushSendBuffer","setInterval","_sendHeartbeat","_triggerChanError","prefix","setAuth","$6f99cb8e9117de3b$export$a1c0cbe03b169679","tableName","userToken","records","new","old","$668651e4ea3b0f06$exports","convertChangeData","old_record","enrichedPayload","commit_timestamp","eventType","errors","getPayloadRecords","subscribe","$d551e97cc73fb47b$export$d6b56fa12d975d17","PostgrestQueryBuilder","realtime","_subscription","_realtime","_schema","_table","$c7564a08d2b87ea2$export$88a84136db6a4b64","$d2c9d0362e35fcd1$var$_getErrorMessage","$d2c9d0362e35fcd1$var$handleError","$d2c9d0362e35fcd1$var$_getRequestParams","parameters","$d2c9d0362e35fcd1$var$_handleRequest","$d2c9d0362e35fcd1$export$3988ae62b71be9a3","$d2c9d0362e35fcd1$export$299ba2dee77727e9","$d2c9d0362e35fcd1$export$327f7b26ebf455db","$d2c9d0362e35fcd1$export$cd7f480d6b8286c3","$76ed5d84156090c2$export$98d92b1aa79f8cc7","$c9bd1385d7ee0fa3$export$698875e798f36d2d","$d2c9d0362e35fcd1$exports","public","$175baaf41223bbda$var$DEFAULT_SEARCH_OPTIONS","limit","sortBy","order","$175baaf41223bbda$var$DEFAULT_FILE_OPTIONS","cacheControl","contentType","$175baaf41223bbda$export$f62f1779c09b9522","bucketId","fileBody","fileOptions","cleanPath","_path","_removeEmptyFolders","_getFinalPath","Key","uploadOrUpdate","fromPath","toPath","sourceKey","destinationKey","signedURL","paths","datum","publicURL","prefixes","$0b36a24abb313694$export$6c85f5032e75eff9","StorageBucketApi","$175baaf41223bbda$exports","StorageFileApi","$c9bd1385d7ee0fa3$exports","$fc63dfee00a6e4b7$export$98d92b1aa79f8cc7","$ce27d2666ddd6e9f$export$1d0b400bf8a0fa55","Authorization","functionName","invokeOptions","isRelayError","t2","t3","$2c7d98dd7bccc45b$var$DEFAULT_OPTIONS","$2c7d98dd7bccc45b$export$2e2bcd8739ae039","supabaseUrl","supabaseKey","_supabaseUrl","restUrl","realtimeUrl","authUrl","storageUrl","urlParts","functionsUrl","auth","_initSupabaseAuthClient","_initRealtimeClient","_listenForAuthEvents","$ce27d2666ddd6e9f$exports","FunctionsClient","_getAuthHeaders","rest","_initPostgRESTClient","allSubs","allSubPromises","allRemovedSubs","getSubscriptions","sub","removeSubscription","all","openSubCount","_closeSubscription","openSubscriptions","unsubError","_unsubscribeSubscription","authHeaders","apikey","$2e60bf0a57651903$exports","authBearer","previousAccessToken","_handleTokenChanged","onAuthStateChange","source","changedAccessToken","propMap","class","contenteditable","for","readonly","maxlength","tabindex","colspan","rowspan","usemap","attempt","doc1","document","win","docEle1","documentElement","createElement","div","tbody","tr","ArrayPrototype","some","splice","idRe","classRe","htmlRe","tagRe","selector","isFragment","nodeType","isDocument","isElement","getElementsByClassName","getElementsByTagName","querySelectorAll","Cash1","Cash","isCash","eles","isString","getElementById","parseHTML","isFunction","ready","l","fn1","cash","ele","start","dashAlphaRe","camelCase","letter","matches1","matches","isWindow","isBoolean","isUndefined","isNull","isNumeric","isPlainObject","proto","each","_reverse","extend","sources","_i","deep","getCompareFunction","comparator","is","filtered1","collection","guid","index","eq","first","last","removeProp","plugins","compare","splitValuesRe","getSplitValues","pluck","until","plucked","isCallback","val_1","val_2","unique","item","computeStyle","isVariable","style","getComputedStyle","getPropertyValue","computeStyleInt","hasClass","cls","classList","removeAttr","attr","attrs","a","removeAttribute","value_1","getAttribute","setAttribute","toggleClass","force","classes","isForce","add","toggle","addClass","removeClass","cssVariableRe","isCSSVariable","prefixedProps","style1","vendorsPrefixes","getPrefixedProp","propCC","propUC","numericProps","animationIterationCount","columnCount","flexGrow","flexShrink","fontWeight","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","opacity","orphans","widows","zIndex","getSuffixedValue","css","isVariable_1","setProperty","JSONStringRe","getData","dataset","setData","getDocumentDimension","doc","dimension","docEle","max","getExtraSpace","xAxis","datas","i1","outer","includeMargins","propLC","getBoundingClientRect","valueNumber","boxSizing","defaultDisplay","isHidden","hasNamespaces","ns1","ns2","ns","display","tagName","insertBefore","removeChild","getDefaultDisplay","hide","show","eventsFocus","focus","blur","eventsHover","mouseenter","mouseleave","eventsMouseRe","getEventNameBubbling","getEventsCache","parseEventName","eventName","sort","removeEvent","namespaces","cache","sel","cb","getValue","multiple","option","selected","disabled","parentNode","eventFullName1","eventFullName","nameOriginal","eventFullName2","_one","isEventHover","isEventFocus","finalCallback1","finalCallback","stopImmediatePropagation","namespace","___ot","relatedTarget","returnValue","___td","preventDefault","stopPropagation","eventCache","addEvent","one","name_1","createEvent","initEvent","dispatchEvent","queryEncodeSpaceRe","queryEncodeCRLFRe","skippableRe","checkableRe","serialize","ele1","elements","checked","queryEncode","isSelect","eleValue_1","cloneNode","detach","fragmentRe","singleTagRe","containers","td","th","thead","tfoot","html","$1","fragment","container","innerHTML","childNodes","empty","firstChild","textContent","unwrap","parent","$ele","replaceWith","children","rect","top","pageYOffset","left","pageXOffset","offsetParent","position","isFixed","doc_1","ownerDocument","parentOffset","contents","contentDocument","content","HTMLCDATARe","scriptTypeRe","scriptAttributes","insertElement","anchor","inside","evaluate","node","nodeName","replaceChild","nextSibling","script_1","insertSelectors","selectors","anchors","inverse","reverseLoop1","reverseLoop2","reverseLoop3","si","ti","ai","targetFinal","indexFinal","after","appendTo","before","insertAfter","prepend","prependTo","replaceAll","wrapAll","structure","wrapper","firstElementChild","wrapInner","_all","_until","nextAll","nextUntil","not","child","closest","filtered","$parent","parents","parentsUntil","prevAll","prevUntil","siblings","$76e9beccfff6995b$exports","$411765a1cea35d6f$var$supabase","$2c7d98dd7bccc45b$exports","$411765a1cea35d6f$var$$toast","$411765a1cea35d6f$var$$status","$411765a1cea35d6f$var$$signed_out","$411765a1cea35d6f$var$$restaurants","$411765a1cea35d6f$var$$order_details","$411765a1cea35d6f$var$$sign_in","$411765a1cea35d6f$var$$my_orders","$411765a1cea35d6f$var$$order_list","$411765a1cea35d6f$var$show_toast","duration","$411765a1cea35d6f$var$update_dom","$411765a1cea35d6f$var$insert_orders","select","result1","new_order","update","cancelled","_response","storage","getPublicUrl","pa","track","signIn","insert","time_slot","customer","restaurant","delivery_location","description","notes","cost"],"version":3,"file":"index.7f6c7326.js.map"}